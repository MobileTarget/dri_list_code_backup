[{"_id":"05e8e44657c5ebfd8fd893ab1a366a9a","_rev":"1-b38e2fbea6f73f0e6cbbde98c9149ea5","table":"timeout","name":"Timeout processor1","timeout_list":{"0":{"delivery_count":0,"delivery_status":"false","delivery_due":"2017-03-23T09:48:08.914Z","delivery_user_ids":"23d5c58422026c68269cd6e9ac22ca4a","delivery_via":"app","delivery_task_id":"2b38b86c6dbdadde49bb186f66717948","delivery_task_name":null,"message_id":null,"from_user_id":"5f490c0ae2ee7321dc891a3e59bd64c6"},"1":{"delivery_count":1,"delivery_status":"false","delivery_due":"2017-03-23T09:48:08.914Z","delivery_user_ids":"9092618242e9895441bc9e978f9fa55d","delivery_via":"app","delivery_task_id":"2b38b86c6dbdadde49bb186f66717948","delivery_task_name":null,"message_id":null,"from_user_id":"5f490c0ae2ee7321dc891a3e59bd64c6"},"2":{"delivery_count":2,"delivery_status":"false","delivery_due":"2017-03-23T09:48:08.914Z","delivery_user_ids":"9092618242e9895441bc9e978fa15098","delivery_via":"app","delivery_task_id":"2b38b86c6dbdadde49bb186f66717948","delivery_task_name":null,"message_id":null,"from_user_id":"5f490c0ae2ee7321dc891a3e59bd64c6"}}},{"_id":"0a9b50963bc76018418ffd857d551ced","_rev":"78-7df3fa6db7b165bc6432e19b4218b177","table":"users","long_url":"","access_token":"1519206168555.gphu20p9nec05zpw9txhcl3di","security_level":1,"phone":12145644732,"virtual_phone":12145644732,"email":"roger@dri.com","converstation_id":"","firstname":"Roger","lastname":"Colburn","code":2044,"password":"","image":"","type":{"public":"public","admin":"admin","dri_main":"dri_main"},"data":{"groups":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc","BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"}},"device_id":"Web View","push_accepted":1,"device_token":{"547394706":{"device_type":"Ios Device","device_id":"Web View"},"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"timezone":"America/New_York"},{"_id":"0fd101223319ed852dcdded758c5d30f","_rev":"1-07fe1880453270372c6daba2d99e4edf","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519194397047},{"_id":"1","_rev":"1-2e2768503ab5e856fcf19ff30eaad8d7","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":1,"from_page_id":0,"to_page_id":0,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"note":"Login Screen","message":"Login Screen"},"watson_incoming":{"note":"Login Screen","message":"Login Screen"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"createdAt":1309536714147,"page_ids":["1"],"base_details":true},{"_id":"11","_rev":"1-6daa59cb77f08eac2c9f17188d2ac2ae","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":1498717519855,"from_page_id":1,"to_page_id":2,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":0,"due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"note":"verify screen","message":"verify screen"},"watson_incoming":{"note":"verify screen","message":"verify screen"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"createdAt":1309536715147,"page_ids":[11],"base_details":true},{"_id":"11_0","_rev":"1-fb64dde2e61152daac47156c185e9381","table":"task_table","task_name":"Verify Phone","page_id":11,"from_page_id":1493710443709,"parent_id":null,"user_id":"23d5c58422026c68269cd6e9ac22ca4a","header_template_id":"11_h","detail_template_id":"11_d","footer_template_id":"11_f","timeout_id":"","location_id":"","child_default_task_id":"","child_default_task_name":"","date_created":"2017-03-15T10:29:39.453Z","status":true,"category":"My Category","additional_data_fn":"","optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"type":{"public":{"public":"public"}},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"defaults":{"parent":null,"next_child":null,"all_children":null,"user":"23d5c58422026c68269cd6e9ac22ca4a"}},{"_id":"11_d","_rev":"4-b38479d59d39f06debeb7105d468e0f4","table":"template","name":"Code Form","html":"<ion-content padding=\"true\">\n\t<div class=\"wbox\" style=\"padding:10px;\">\n\t\t<form>\n\t\t\t<h1 style=\"text-align:center;\">{{title}}</h1>\n\t\t\t<ion-list style=''>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-25\">\n\t\t\t\t\t\t<label class=\"item item-input verification-input\">\n\t\t\t\t\t\t\t<input id=\"code1\" tabindex=\"0\" value=\"\" placeholder=\"1\" class=\"ng-pristine ng-valid ng-empty ng-touched\" type=\"number\" ng-keyup=\"verificationBox($event,'code1');\" maxlength=\"1\" />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"seprator\">-</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-25\">\n\t\t\t\t\t\t<label class=\"item item-input verification-input\">\n\t\t\t\t\t\t\t<input id=\"code2\" tabindex=\"1\" value=\"\" placeholder=\"2\" class=\"ng-pristine ng-untouched ng-valid ng-empty\" type=\"number\" ng-keyup=\"verificationBox($event,'code2');\" maxlength=\"1\" />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"seprator\">-</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-25\">\n\t\t\t\t\t\t<label class=\"item item-input verification-input\">\n\t\t\t\t\t\t\t<input id=\"code3\" tabindex=\"2\" value=\"\" placeholder=\"3\" class=\"ng-pristine ng-untouched ng-valid ng-empty\" type=\"number\" ng-keyup=\"verificationBox($event, 'code3');\" maxlength=\"1\" />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"seprator\">-</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-25\">\n\t\t\t\t\t\t<label class=\"item item-input verification-input\">\n\t\t\t\t\t\t\t<input id=\"code4\" tabindex=\"3\" value=\"\" placeholder=\"4\" class=\"ng-pristine ng-untouched ng-valid ng-empty\" type=\"number\" ng-keyup=\"verificationBox($event, 'code4');\" maxlength=\"1\" />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t</ion-list>\n\t\t</form>\n\t</div>\n</ion-content>","js":"console.log('Comes here...');"},{"_id":"11_f","_rev":"3-3c6c72eb174818bcfd2b3882660157e0","table":"template","name":"","html":"","js":""},{"_id":"11_h","_rev":"4-b464f6eef0ddd3aa02d902be7f319c3c","table":"template","name":"Verify header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"logout()\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name; \n$scope.verification = {\"code1\": \"\", \"code2\": \"\", \"code3\": \"\", \"code4\": \"\"};\n\nvar alertPopup; \n$scope.verify = function(obj) {\n\tif (alertPopup) alertPopup.close();\n\tvar verificationCode = String(obj.code1) + String(obj.code2) + String(obj.code3) + String(obj.code4) ;\n\tverificationCode = verificationCode.trim();\n\n\tif (verificationCode.length === 4) {\n\t\tutilityService.setBusy(true, 'loading...');\n\t\tvar endpoint = $scope.api_url + \"/api/verify\";\n\t\tvar config = {\n\t\t\tparams: {\n\t\t\t\tcode: verificationCode,\n\t\t\t\tphone: $localStorage.logged_user_phone,\n\t\t\t\tdevice_id: $localStorage.device_id,\n\t\t\t\tdevice_type: $localStorage.deviceType,\n\t\t\t\tdevice_fingerprint: $localStorage.deviceFingerPrint,\n\t\t\t\tpush_accepted: $localStorage.push_accepted || 0\n\t\t\t}\n\t\t};\n\t\tconsole.log(\"verification config params>>>\" + JSON.stringify(config));\n\t\t$http.get(endpoint, config).then(function(res) {\n\t\t\tvar res_data = res.data;\n\t\t\tmyService.apiResult = res_data;\n\t\t\tif (res_data.status == \"valid\") {\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t\t$localStorage.user_id = res_data.user_id;\n\t\t\t\t$localStorage.access_token = res_data.access_token;\n\t\t\t\t$scope.verification = {code1: \"\", code2: \"\", code3: \"\", code4: \"\"};\n\t\t\t\t$scope.goPage(res_data.page_id);\n\t\t\t} else {\n\t\t\t\tutilityService.setBusy(false);\n \t\t\t\talertPopup = utilityService.showAlert(res_data.msg || \"Invalid code.\");\n\t\t\t}\n\t\t});\n\t\treturn false;\n\t}\n\treturn false;\n};\n\n$scope.verificationBox = function(event, type){\n\tvar el ;\n\n\tif(type == \"code1\" && event.keyCode !== 8){ //allow backsapce\n\t\tel = document.getElementById(\"code2\");\n\t\t$scope.verification.code1 = document.getElementById(\"code1\").value ;\n\t\tif(el) el.focus();\n\t}\t\n\n\tif(type == \"code2\" && event.keyCode !== 8){ //allow backsapce \n\t\tel = document.getElementById(\"code3\");\n\t\t$scope.verification.code2 = document.getElementById(\"code2\").value ;\n\t\tif(el) el.focus();\n\t}\n\n\tif(type == \"code3\" && event.keyCode !== 8){ //allow backsapce\n\t\tel = document.getElementById(\"code4\");\n\t\t$scope.verification.code3 = document.getElementById(\"code3\").value ;\n\t\tif(el) el.focus();\n\t}\n\n\tif(type == \"code4\" && event.keyCode !== 8){ //allow backsapce\n\t\t$scope.verification.code4 = document.getElementById(\"code4\").value ;\n\t\t$scope.verify($scope.verification);\n\t}\n}"},{"_id":"123054842a1ed8162f2349576bbd5b20","_rev":"1-f4c1b33c4a904097eae59ec87b5fe6fd","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206949364},{"_id":"1266383a6dab1678ffc000c5e4a231b2","_rev":"1-44cad29989ff3ddc6f9c532a4748956b","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519196711838},{"_id":"13","_rev":"1-13625c66fa5bd31777b75054d760c288","table":"details","child_task_id":"13_0","user_id":"da9976858d8bda52021754cf1909a327","from_user_id":"da9976858d8bda52021754cf1909a327","page_id":13,"from_page_id":1501218885630,"to_page_id":1501218894502,"synchronized":false,"processed":false,"status":false,"read":false,"display_if_empty":"true","date_created":"2017-04-10T13:07:02.922Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"5d632c49496bcd529d99bddeb4094854":{"_id":"5d632c49496bcd529d99bddeb4094854","_rev":"2-b7b983c64417d5cc3f5a8d83a460f700","phone":"9815098150"}},"user_incoming":{"note":"Game Screen","message":"Game Screen"},"watson_incoming":{"message":"Watson response to : Game Screen","response":{}},"template":{"details":{}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"createdAt":1501218933013,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[13],"base_details":true},{"_id":"13_0","_rev":"1-8162e7a91e37c94700e9cb86da2760f6","table":"task_table","task_name":"Game Screen","page_id":13,"from_page_id":2,"parent_id":"2_0","user_id":"da9976858d8bda52021754cf1909a327","header_template_id":"13_h","detail_template_id":"13_d","footer_template_id":"13_h","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-07-28T05:19:22.142Z","status":"true","category":"Menu","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"da9976858d8bda52021754cf1909a327"}},{"_id":"13_d","_rev":"3-a6a46dc118801f3ff54ba74bb8d99d97","table":"template","name":"Game detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"game-padding\"></div>\n\t<div id=\"myfilter\" style=\"position:absolute;background-color:#000000;opacity:0.3;width:340px;height:182px;display:none\"></div>\n\t<div id=\"myrestartbutton\" style=\"position:absolute;padding-top:75px;padding-left:120px;display:none;\"><button ng-click=\"restartGame()\">Restart</button></div>\n\t<div id=\"canvascontainer\"></div>\n\t<br>\n\t<div style=\"text-align:center;width:320px;\">\n\t <button class=\"button icon ion-arrow-up-a\" ng-touchstart=\"moveup();\" ng-mousedown=\"moveup();\" ng-mouseup=\"clearmove();\"></button><br/><br/>\n\t <button class=\"button icon ion-arrow-left-a\" ng-touchstart=\"moveleft();\" ng-mousedown=\"moveleft();\" ng-mouseup=\"clearmove();\"></button>\n\t <button style=\"margin-top:20%\" class=\"button icon ion-arrow-down-a\" ng-touchstart=\"movedown();\" ng-mousedown=\"movedown();\" ng-mouseup=\"clearmove();\"></button>\n\t <button class=\"button icon ion-arrow-right-a\" ng-touchstart=\"moveright();\" ng-mousedown=\"moveright();\" ng-mouseup=\"clearmove();\"></button>\n\t</div>\n</ion-content>","js":""},{"_id":"13_f","_rev":"3-084867f2a3932ccd9944f59cb6e2b336","table":"template","name":"Game footer","html":"","js":""},{"_id":"13_h","_rev":"3-acf5a02816e9905b0905fcfc79df49b8","table":"template","name":"Game Header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(14)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"$scope.title = 'Game screen';\nvar myGameArea;\nvar myGamePiece;\nvar myObstacles = [];\nvar myscore;\n\n$scope.restartGame = function() {\n\tdocument.getElementById(\"myfilter\").style.display = \"none\";\n\tdocument.getElementById(\"myrestartbutton\").style.display = \"none\";\n\tmyGameArea.stop();\n\tmyGameArea.clear();\n\tmyGameArea = {};\n\tmyGamePiece = {};\n\tmyObstacles = [];\n\tmyscore = {};\n\tdocument.getElementById(\"canvascontainer\").innerHTML = \"\";\n\t$scope.startGame();\n}\n\n$scope.startGame = function() {\n\tmyGameArea = new gamearea();\n\tmyGamePiece = new component(30, 30, \"red\", 10, 75);\n\tmyscore = new component(\"15px\", \"Consolas\", \"black\", 220, 25, \"text\");\n\tmyGameArea.start();\n}\n\nfunction gamearea() {\n\tthis.canvas = document.createElement(\"canvas\");\n\tthis.canvas.width = 340;\n\tthis.canvas.height = 280; \n\tdocument.getElementById(\"canvascontainer\").appendChild(this.canvas);\n\tthis.context = this.canvas.getContext(\"2d\");\n\tthis.pause = false;\n\tthis.frameNo = 0;\n\tthis.start = function() {\n\t\tthis.interval = setInterval(updateGameArea, 20);\n\t};\n\t\n\tthis.stop = function() {\n\t\tclearInterval(this.interval);\n\t\tthis.pause = true;\n\t};\n\t\n\tthis.clear = function(){\n\t\tthis.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t};\n}\n\nfunction component(width, height, color, x, y, type) {\n\n\tthis.type = type;\n\tif (type == \"text\") {\n\t\tthis.text = color;\n\t}\n\tthis.score = 0; this.width = width;\n\tthis.height = height;\n\tthis.speedX = 0;\n\tthis.speedY = 0; \n\tthis.x = x;\n\tthis.y = y; \n\tthis.update = function() {\n\t\tctx = myGameArea.context;\n\t\tif (this.type == \"text\") {\n\t\t\tctx.font = this.width + \" \" + this.height;\n\t\t\tctx.fillStyle = color;\n\t\t\tctx.fillText(this.text, this.x, this.y);\n\t\t} else {\n\t\t\tctx.fillStyle = color;\n\t\t\tctx.fillRect(this.x, this.y, this.width, this.height);\n\t\t}\n\t};\n\t\n\tthis.crashWith = function(otherobj) {\n\t\tvar myleft = this.x;\n\t\tvar myright = this.x + (this.width);\n\t\tvar mytop = this.y;\n\t\tvar mybottom = this.y + (this.height);\n\t\tvar otherleft = otherobj.x;\n\t\tvar otherright = otherobj.x + (otherobj.width);\n\t\tvar othertop = otherobj.y;\n\t\tvar otherbottom = otherobj.y + (otherobj.height);\n\t\tvar crash = true;\n\t\tif ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {\n\t\t\tcrash = false;\n\t\t}\n\t\treturn crash;\n\t};\n}\n\nfunction updateGameArea() {\n\tvar x, y, min, max, height, gap;\n\tfor (i = 0; i < myObstacles.length; i += 1) {\n\t\tif (myGamePiece.crashWith(myObstacles[i])) {\n\t\t\tmyGameArea.stop();\n\t\t\tdocument.getElementById(\"myfilter\").style.display = \"block\";\n\t\t\tdocument.getElementById(\"myrestartbutton\").style.display = \"block\";\n\t\t\treturn;\n\t\t} \n\t}\n\tif (myGameArea.pause === false) {\n\t\tmyGameArea.clear();\n\t\tmyGameArea.frameNo += 1;\n\t\tmyscore.score +=1; \n\t\tif (myGameArea.frameNo == 1 || everyinterval(150)) {\n\t\t\tx = myGameArea.canvas.width;\n\t\t\ty = myGameArea.canvas.height - 100;\n\t\t\tmin = 20;\n\t\t\tmax = 100;\n\t\t\theight = Math.floor(Math.random()*(max-min+1)+min);\n\t\t\tmin = 50;\n\t\t\tmax = 100;\n\t\t\tgap = Math.floor(Math.random()*(max-min+1)+min);\n\t\t\tmyObstacles.push(new component(10, height, \"green\", x, 0));\n\t\t\tmyObstacles.push(new component(10, x - height - gap, \"green\", x, height + gap));\n\t\t}\n\t\tfor (i = 0; i < myObstacles.length; i += 1) {\n\t\t\tmyObstacles[i].x += -1;\n\t\t\tmyObstacles[i].update();\n\t\t}\n\t\tmyscore.text=\"SCORE: \" + myscore.score; \n\t\tmyscore.update();\n\t\tmyGamePiece.x += myGamePiece.speedX;\n\t\tmyGamePiece.y += myGamePiece.speedY; \n\t\tmyGamePiece.update();\n\t}\n}\n\nfunction everyinterval(n) {\n\tif ((myGameArea.frameNo / n) % 1 === 0) {return true;}\n\treturn false;\n}\n\n$scope.moveup = function() {\n\tmyGamePiece.speedY = -1; \n}\n\n$scope.movedown = function() {\n\tmyGamePiece.speedY = 1; \n}\n\n$scope.moveleft = function() {\n\tif(myGamePiece.x > 0) myGamePiece.speedX = -1;\n}\n\n$scope.moveright = function() {\n\tif(myGamePiece.speedX < 280 ) myGamePiece.speedX = 1;\n}\n\n$scope.clearmove = function() {\n\tmyGamePiece.speedX = 0; \n\tmyGamePiece.speedY = 0; \n}\n$timeout(function(){\n\t$scope.startGame();\n}, 200);\n"},{"_id":"14","_rev":"1-a2a55bf8c0d3321a93461f5f847dec6a","table":"details","child_task_id":"14_0","user_id":"5d632c49496bcd529d99bddeb4094854","from_user_id":"5d632c49496bcd529d99bddeb4094854","page_id":14,"from_page_id":1491829434481,"to_page_id":1491829622922,"synchronized":false,"processed":false,"status":false,"read":false,"display_if_empty":"true","date_created":"2017-04-10T13:07:02.922Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"5d632c49496bcd529d99bddeb4094854":{"_id":"5d632c49496bcd529d99bddeb4094854","_rev":"2-b7b983c64417d5cc3f5a8d83a460f700","phone":"9815098150"}},"user_incoming":{"note":"Edit User Screen","message":"Edit User Screen"},"watson_incoming":{"message":"Watson response to : Edit User Screen","response":{}},"template":{"details":{}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"createdAt":1491829622923,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[14],"base_details":true},{"_id":"141bd559811c178d9a6e2f5841bfb098","_rev":"1-57a5a455e61fd7f72121dba43f51e075","table":"details","intent_task_id":"ce2611918feca7eff5a07a26367593b7","child_task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":1502774414284,"from_page_id":2,"to_page_id":27,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-15T10:30:22.219Z","due_date":"2017-03-23T09:48:08.914Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Manage Timeout","message":"Manage Timeout"},"watson_incoming":{"message":"Watson response to : Manage Timeout","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502793022220,"page_ids":[1502774414284],"base_details":true},{"_id":"14_0","_rev":"1-656b0ed1d9ee4ef93db74c16fd77e9a3","table":"task_table","task_name":"User edit screen","page_id":14,"from_page_id":2,"parent_id":"2_0","user_id":"ef451c4cdb5cc5fbcd5d14d936091430","header_template_id":"14_h","detail_template_id":"14_d","footer_template_id":"14_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-04-10T13:03:54.481Z","status":"true","category":"Edit_user","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"ef451c4cdb5cc5fbcd5d14d936091430"}},{"_id":"14_d","_rev":"3-5208604b50f9abd5b61f137e35aecfe6","table":"template","name":"edit_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\" ng-submit=\"params = {\n\t\t\tapp: {\n\t\t\t\tapi: {\n\t\t\t\t\tapi_type: 'UPDATE_USER_DETAILS',\n\t\t\t\t\ttable: 'update_user',\n\t\t\t\t\ttable_data: user_data\n\t\t\t\t}\n\t\t\t},\n\t\t\tplatform: {},\n\t\t\tother_user: {}\n\t\t};\ncommon_request_handler(params)\" novalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">First name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"First name\" ng-model=\"user_data.firstname\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Last name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Last name\" ng-model=\"user_data.lastname\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Email</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Email\" ng-model=\"user_data.email\" /> \t\n\t\t\t</label> \t\t\t\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Phone</span>\n\t\t\t\t<input type=\"number\" placeholder=\"Phone\" ng-model=\"user_data.phone\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Virtual phone</span>\n\t\t\t\t<input type=\"number\" placeholder=\"Phone\" ng-model=\"user_data.virtual_phone\" readonly/>\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<div class=\"file-upload\">\n\t\t\t\t <div for=\"upload\" class=\"file-upload__label\"> Profile Pic</div>\n\t\t\t\t <input id=\"upload\" class=\"file-upload__input\" type=\"file\" palceholder=\"Select pic\" class=\"profilePic\"/>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<label class=\"item item-select item-light item-stacked-label\">\n\t\t\t\t<div class = \"input-label\">\n\t\t\t\t\tTimezone\n\t\t\t\t</div>\n\t\t\t\t<timezone-selector ng-model=\"user_data.timezone\"></timezone-selector>\n\t\t\t</label>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button class=\"button button-block button-positive\" type=\"submit\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>","js":""},{"_id":"14_f","_rev":"3-3e65951b852811c20d1cded7417d954e","table":"template","name":"edit_footer","html":"","js":""},{"_id":"14_h","_rev":"3-3c05c1b9e9881838223efb4b207794b4","table":"template","name":"edit-user","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"goPage(13)\">\n\t\t <i class=\"icon ion-xbox\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"logout()\">\n\t\t<i class=\"icon ion-log-out\"></i>\n\t </button>\n\t</div>\n</ion-header-bar>","js":"$scope.title = 'User edit screen';\n $scope.user_data = myService.apiResult.user;\n"},{"_id":"15","_rev":"1-dfc5e82e50b4e3547c2809b52b621a3e","table":"details","child_task_id":"15_0","user_id":"5d632c49496bcd529d99bddeb4094854","from_user_id":"5d632c49496bcd529d99bddeb4094854","page_id":15,"from_page_id":1491832265053,"to_page_id":1491832331949,"synchronized":false,"processed":false,"status":false,"read":false,"display_if_empty":true,"date_created":"2017-04-10T13:52:11.949Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"5d632c49496bcd529d99bddeb4094854":{"_id":"5d632c49496bcd529d99bddeb4094854","_rev":"2-b7b983c64417d5cc3f5a8d83a460f700","phone":"9815098150"}},"user_incoming":{"note":"Edit screen with short info","message":"Edit screen with short info"},"watson_incoming":{"message":"Watson response to : Edit Screen","response":{}},"template":{"details":{}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"createdAt":1491832331949,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[15],"base_details":true},{"_id":"15_0","_rev":"1-525aa94d167861dbdeb28fc96d4c214a","table":"task_table","task_name":"edit_detail_short_form","page_id":15,"from_page_id":2,"parent_id":"2_0","user_id":"23d5c58422026c68269cd6e9ac22ca4a","header_template_id":"15_h","detail_template_id":"15_d","footer_template_id":"15_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-04-10T13:51:05.053Z","status":"true","category":"button","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"23d5c58422026c68269cd6e9ac22ca4a"}},{"_id":"15_d","_rev":"3-5e41dc09bc64f08e9c4c3e190227a5c0","table":"template","name":"edit_detail_short_form_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\"\n\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'UPDATE_EDIT_SHORT_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'update_short_detail',\n\t\t\t\t\t\t\t\ttable_data: short_info\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\"\tnovalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Message</span>\n\t\t\t\t<input type=\"text\" placeholder=\"User message\" ng-model=\"short_info.message\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Task name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Task name\" ng-model=\"short_info.task_name\" />\n\t\t\t</label>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\">\n\t\t\t\t\tDisplay if empty ?\n\t\t\t\t\t<label class=\"toggle toggle-positive\">\n\t\t\t\t\t\t<input type=\"checkbox\" ng-model=\"short_info.display_if_empty\">\n\t\t\t\t\t\t<div class=\"track\">\n\t\t\t\t\t\t\t<div class=\"handle\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<span class=\"input-label\">Type</span>\n\t\t\t\t<select ng-model=\"short_info.type\">\n\t\t\t\t\t<option value=\"\">Select</option>\n\t\t\t\t\t<option value=\"public\">Public</option>\n\t\t\t\t\t<option value=\"private\">Private</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\" ng-click=\"addThisDetailToNewTask(short_info)\">\n\t\t\t\t\t<span class=\"input-label\">Add to another task</span>\n\t\t\t\t\t<label class=\"toggle toggle-positive\">\n\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"removeUnderline\" >Click to add</a>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button class=\"button button-block button-positive\" type=\"submit\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>\n\n","js":""},{"_id":"15_f","_rev":"3-486be8f732d174284882aafbd91e829e","table":"template","name":"edit_detail_short_form_footer","html":"","js":""},{"_id":"15_h","_rev":"3-f0e1bb8fb5545007563433d59db65984","table":"template","name":"edit_detail_short_form_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"$scope.title=\"Edit screen\";"},{"_id":"16","_rev":"1-cbe60c03585d0912edbfc5a75dbd4422","table":"details","child_task_id":"16_0","user_id":"ef451c4cdb5cc5fbcd5d14d936091430","from_user_id":"ef451c4cdb5cc5fbcd5d14d936091430","page_id":16,"from_page_id":1491547127638,"to_page_id":1491547136466,"synchronized":false,"processed":false,"status":false,"read":false,"display_if_empty":true,"date_created":"2017-04-05T09:35:21.624Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"ef451c4cdb5cc5fbcd5d14d936091430":{"_id":"ef451c4cdb5cc5fbcd5d14d936091430","_rev":"3-bd9504ae813563d3e0fbaff59533472b","phone":"9815098150"}},"user_incoming":{"note":"Edit Screen","message":"Edit Screen"},"watson_incoming":{"message":"Watson response to : Edit Screen","response":{"intents":[{"intent":"Lean-start-up","confidence":0.99}],"entities":[],"input":{"text":"the lean startup"},"output":{"log_messages":[],"text":["Starting up a new company or a business always involves a lot of risk. A number of startups fail even before they can reach a certain level. The Lean Startup: How Today's Entrepreneurs Use Continuous Innovation To Create Radically Successful Businesses is about using a new and innovative approach called ‘Lean Startup’ to revolutionise the world of business.  When an individual or a group of individuals starts a new business, there is always an air of uncertainty prevailing over their minds. What they want to do is to create something meaningful that will sustain, proving all the uncertainties futile."],"nodes_visited":["Books Converse"]},"context":{"conversation_id":"db859a41-3ced-4a60-a1da-8940dc3d0bf2","system":{"dialog_stack":[{"dialog_node":"root"}],"dialog_turn_counter":342,"dialog_request_counter":342,"_node_output_map":{"Books Converse":[1,1,0]},"branch_exited":true,"branch_exited_reason":"completed"}}}},"template":{"details":{}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"createdAt":1491384921624,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[16],"base_details":true},{"_id":"16_0","_rev":"1-9caf68de22ab43819bf0839b94ae08ae","table":"task_table","task_name":"edit_screen","user_id":"23d5c58422026c68269cd6e9ac22ca4a","page_id":16,"from_page_id":2,"parent_id":"2_0","header_template_id":"16_h","detail_template_id":"16_d","footer_template_id":"16_f","timeout_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-04-05T09:28:55.806Z","type":{"public":"public","pubilc":"private"},"status":true,"category":"edit","additional_data_fn":"yes there is an additional function","optional_data":"\"\\\"\\\\\\\"{}\\\\\\\"\\\"\"","required_data":"\"\\\"\\\\\\\"{}\\\\\\\"\\\"\"","offline_expiration_time":"5000","display_if_empty":true,"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"16_d","_rev":"3-fa29cb2806e84f089f38abb848a98898","table":"template","name":"edit_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\" ng-submit=\"\n\tparams = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t\tapi_mode: 'POST',\n\t\t\t\tapi_type: 'UPDATE_MORE_INFO',\n\t\t\t\ttable: 'update_task',\n\t\t\t\ttable_data: task_data\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_user: {}\n\t};\n\tcommon_request_handler(params)\" novalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Task Name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Task Name\" ng-model=\"task_data.task_name\" readonly/>\n\t\t\t</label>\n\t\t\t<div class=\"list\">\n\t\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">User</div>\n\t\t\t\t\t<select ng-model=\"task_data.user_id\" disabled>\n\t\t\t\t\t\t<option ng-repeat=\"user in user_list track by $index\" value=\"{{user.id}}\">{{user.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Header</div>\n\t\t\t\t\t<select ng-model=\"task_data.header_template_id\">\n\t\t\t\t\t\t<option ng-repeat=\"temp in temp_data track by $index\" value={{temp._id}}>{{temp.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Detail</div>\n\t\t\t\t\t<select ng-model=\"task_data.detail_template_id\">\n\t\t\t\t\t\t<option ng-repeat=\"temp in temp_data track by $index\" value={{temp._id}}>{{temp.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Footer</div>\n\t\t\t\t\t<select ng-model=\"task_data.footer_template_id\">\n\t\t\t\t\t\t<option ng-repeat=\"temp in temp_data track by $index\" value={{temp._id}}>{{temp.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Timeout List</div>\n\t\t\t\t\t<select ng-model=\"task_data.timeout_id\">\n\t\t\t\t\t\t<option ng-repeat=\"timeout in timeout_arr track by $index\" value=\"{{timeout._id}}\">{{timeout.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Location list</div>\n\t\t\t\t\t<select ng-model=\"task_data.location_ids\">\n\t\t\t\t\t\t<option ng-repeat=\"location in location_arr track by $index\" value=\"{{location.id}}\">{{location.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<div class=\"input-label\">Child task id</div>\n\t\t\t\t<select ng-model=\"task_data.child_default_task_id\">\n\t\t\t\t\t<option ng-repeat=\"task in task_arr track by $index\" value=\"{{task.id}}\">{{task.task_name}}</option>\n\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Date</span><input type=\"text\" placeholder=\"Task date\" ng-model=\"task_data.date_created\" readonly/>\n\t\t\t</label>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\">\n\t\t\t\t\tTask status\n\t\t\t\t\t<label class=\"toggle toggle-positive\">\n\t\t\t\t\t\t<input type=\"checkbox\" ng-model=\"task_data.status\">\n\t\t\t\t\t\t<div class=\"track\">\n\t\t\t\t\t\t\t<div class=\"handle\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Category Name</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Category name\" ng-model=\"task_data.category\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Additional Fn</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Addition function name\" ng-model=\"task_data.additional_data_fn\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Optional data</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Optional data\" ng-model=\"task_data.optional_data\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Required data</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Required data\" ng-model=\"task_data.required_data\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Offline expiration time</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Offline expiration time\" ng-model=\"task_data.offline_expiration_time\" />\n\t\t\t\t</label>\n\t\t\t</ul>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\">Display if empty ?<label class=\"toggle toggle-positive\">\n\t\t\t\t\t<input type=\"checkbox\" ng-model=\"task_data.display_if_empty\">\n\t\t\t\t\t<div class=\"track\"><div class=\"handle\"></div></div></label>\n\t\t\t\t</li>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t\t<div class=\"input-label\">Task type</div>\n\t\t\t\t\t\t<select ng-model=\"task_data.type.pubilc\">\n\t\t\t\t\t\t\t<option value=\"public\">Public</option>\n\t\t\t\t\t\t\t<option value=\"private\">Private</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Task image</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Image\" ng-model=\"task_data.image\" />\n\t\t\t\t</label>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button type=\"submit\" class=\"button button-block button-positive activated\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>","js":""},{"_id":"16_f","_rev":"3-3e65951b852811c20d1cded7417d954e","table":"template","name":"edit_footer","html":"","js":""},{"_id":"16_h","_rev":"3-efe36e94a3e1df1cfd9dcf0895479dd3","table":"template","name":"edit_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.get_task_related_data = function(){\n\tutilityService.setBusy(true, \"Processing...\");\n\tvar req_obj = {\n\t\t\"app\": {\n\t\t\t\"api\": {\n\t\t\t\t\"api_mode\": \"GET\",\n\t\t\t\t\"api_type\": \"get_data_for_task\",\n\t\t\t\t\"type\" : \"get_data_for_task\",\n\t\t\t\t\"content\" : {\n\t\t\t\t\t\"access_token\": $localStorage.access_token,\n\t\t\t\t\t\"task_id\": $scope.config.edit_task_id\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"platform\": {},\n\t\t\"other_user\": {}\n\t};\n\t$scope.common_request_handler(req_obj);\n}\n$scope.get_task_related_data();"},{"_id":"17","_rev":"1-8b487a57e44d7499e2970faa8ffec769","table":"details","child_task_id":"17_0","user_id":"ef451c4cdb5cc5fbcd5d14d936091430","from_user_id":"ef451c4cdb5cc5fbcd5d14d936091430","page_id":17,"from_page_id":1496397120697,"to_page_id":1496397141137,"synchronized":false,"processed":false,"status":false,"read":false,"display_if_empty":true,"date_created":"2017-04-05T09: 35: 21.624Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https: //upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"ef451c4cdb5cc5fbcd5d14d936091430":{"_id":"ef451c4cdb5cc5fbcd5d14d936091430","_rev":"3-bd9504ae813563d3e0fbaff59533472b","phone":"9815098150"}},"user_incoming":{"note":"Search screen","message":"Search screen"},"watson_incoming":{"message":"Watsonresponseto: Search screen","response":{}},"template":{"details":{}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"createdAt":1496397200897,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[17],"base_details":true},{"_id":"17_0","_rev":"1-e1b2f486d9dedbbf2ab81dccd14f8bb9","table":"task_table","task_name":"Search screen","user_id":"23d5c58422026c68269cd6e9ac22ca4a","page_id":17,"from_page_id":0,"parent_id":"2_0","header_template_id":"17_h","detail_template_id":"17_d","footer_template_id":"17_f","timeout_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-04-05T09:28:55.806Z","type":{"public":"public"},"status":true,"category":"search","additional_data_fn":"yes there is an additional function","optional_data":"{}","required_data":"{}","offline_expiration_time":"5000","display_if_empty":true,"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"17_d","_rev":"3-5787743b7d69ffe71bb051c0fb7dd90f","name":"Search detail","table":"template","html":"<ion-list style=\"\" ng-if=\"showRecord\">\n\t<ion-item ng-repeat=\"user in usersList\" type=\"item-text-wrap\"\n\t\tclass=\"item-remove-animate item-icon-right\" ng-if=\"check_if_not_logged_user(user);\">\n\t\t<div class=\"item-data\" ng-click=\"add_to_chat(user);\">\n\t\t\t<h2>{{user.firstname ? user.firstname + ' ' + user.lastname : user.virtual_phone}}</h2>\n\t\t</div> \n\t</ion-item>\n\t</ion-list>\n</ion-content>\n<ion-list style=\"\" ng-if=\"!showRecord\"><div class=\"list\"> {{ recordMsg }}</div></ion-content>\n","js":""},{"_id":"17_f","_rev":"3-cfc308d32d0d52fed5d3ad24b476203b","name":"Search footer","table":"template","html":"","js":"console.log('Search footer template js')"},{"_id":"17_h","_rev":"3-0af4900714d250b0f4d7ca062a2be8c0","name":"Search header","table":"template","html":"<div class=\"bar bar-header item-input-inset\">\n\t<form name=\"searchForm\" class=\"sendmessage\" ng-submit=\"searchQuery(search)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<i class=\"icon ion-ios-search placeholder-icon\"></i>\n\t\t\t<input type=\"search\" placeholder=\"Search\" ng-model=\"search.query\"/>\n\t\t\t<a ng-if=\"search.query != ''\" on-touch=\"search.query=''\" ng-click=\"search.query =''\">\n\t\t\t\t<i class=\"icon ion-ios-close placeholder-icon\"></i>\n\t\t\t</a>\n\t\t\t<input type=\"submit\" class=\"hide\" />\n\t\t</label>\n\t</form>\n\t<button class=\"button button-dark\" ng-click=\"goPage(config.from_page_id)\">Cancel</button>\n</div>","js":"$scope.search = {\n\tquery: \"\"\n};\n$scope.showRecord = true;\n$scope.usersList = [];\nvar logged_user = myService.getUserInfo();\n\n$scope.searchQuery = function (params) {\n\tconsole.log(\"params >>>>\", params.query);\n\tif (params.query) {\n\t\tutilityService.setBusy(true, \"Processing...\");\n\t\tvar endpoint = \"https://platform.mybluemix.net\",\n\t\t\targs = {\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"type\": \"search\",\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"query\": params.query.toString()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t$http.get(endpoint + '/master_api_handler', args)\n\t\t.then(function (response) {\n\t\t\tif (response.data.data.length) {\n\t\t\t\t$scope.showRecord = true;\n\t\t\t\t$scope.usersList = response.data.data;\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t} else {\n\t\t\t\t$scope.showRecord = false;\n\t\t\t\t$scope.recordMsg = \"No Record found.\";\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t}\n\t\t}, function (error) {\n\t\t\tconsole.log(\"error >>>\", error);\n\t\t\t$scope.showRecord = false;\n\t\t\t$scope.recordMsg = \"No Record found.\";\n\t\t\tutilityService.setBusy(false);\n\t\t});\n\t} else {\n\t\treturn false;\n\t}\n};\n\n$scope.add_to_chat = function (user) {\n\tutilityService.setBusy(true, \"Processing...\");\n\tvar logged_user = myService.getUserInfo();\n\tvar params = {\n\t\tapi_type: \"ADD_DETAIL\",\n\t\tapi_next_fn: \"$scope.goPage($scope.config.from_page_id)\",\n\t\ttable: \"add_detail\",\n\t\ttable_data: {\n\t\t\tnote: user.firstname ? user.firstname + ' ' + user.lastname : user.virtual_phone,\n\t\t\tto_note: logged_user.firstname ? logged_user.firstname + ' ' + logged_user.lastname : logged_user.virtual_phone,\n\t\t\ttask_id: $scope.config.edit_task_id,\n\t\t\ttask_name: \"Chat\",\n\t\t\tpage_id: $scope.config.from_page_id,\n\t\t\tfrom_page_id: 17,\n\t\t\tfrom_user_id: [logged_user.user_id, user._id]\n\t\t}\n\t};\n\t$scope.common_request_handler(params);\n};\n\n$scope.check_if_not_logged_user = function (user) {\n\tif ( (logged_user.user_id == user._id) || ( parseInt(11234) == parseInt(user.virtual_phone) ) ) {\n\t\treturn false;\n } else {\n return true;\n }\n};"},{"_id":"18","_rev":"1-e812d2c1b043137485f481c8e159b3dc","table":"details","child_task_id":"18_0","user_id":"0a9b50963bc76018418ffd857d551ced","from_user_id":null,"page_id":5,"from_page_id":2,"to_page_id":18,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","date_created":"2017-06-30T06:59:24.201Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","phone":12145644732},"user_incoming":{"note":"ReminderBot","message":"ReminderBot"},"watson_incoming":{"message":"Watson response to : ReminderBot","response":{}},"template":{"details":{"_id":"5_d","_rev":"7-131f3f61d82ca501597f1e14c6bb98f3","table":"template","name":"User list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\"\n\t\t\tng-repeat=\"item in sms_details\" type=\"item-text-wrap\" ng-if=\"check_if_valid_user(item);\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1498805964201,"page_ids":[5],"base_details":true},{"_id":"18_0","_rev":"1-c0f921781048d4e4788eccfd9c94f80a","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Chatbot","page_id":18,"from_page_id":5,"header_template_id":"18_h","detail_template_id":"18_d","footer_template_id":"18_f","parent_id":"5_0","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"18_d","_rev":"3-0921d3b35df1b3a5ccdc8cc20c2a39fb","table":"template","name":"Chabot Details","html":"<ion-content class=\"content-stable chat_scroll\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\" overflow-scroll=\"false\" on-swipe-up=\"watchSwipeUpEvent();\" ng-cloak>\n\t<ion-refresher on-refresh=\"watchSwipeDownEvent();\"></ion-refresher>\n <template-render render-data=\"details\" logged-user=\"logged_user\" is-paginated=\"isPaginated\" page-type=\"endUserScreen\" sub-details=\"subDetails\" edit-details=\"editDetails\" request-handler=\"common_request_handler\" more-details=\"moreDetails\" ng-cloak></template-render>\n\t<div class=\"typing-class\" ng-show=\"isTyping\" ng-cloak>\n\t\t<p class=\"chat-typing\" ng-cloak>{{ typingUserName }} is typing......</p>\n\t</div>\n</ion-content>","js":""},{"_id":"18_f","_rev":"3-9106f6fe4f5f05ecb705ae5b5829f549","table":"template","name":"Chabot Footer","html":"<div class=\"typing-class\" ng-show=\"isTyping\"><span>Typing.....</span></div>\n<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"showSendMessage(data.message)\" novalidate>\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping();\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button button-icon icon ion-ios-paperplane footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"18_h","_rev":"3-3823b292bd8fff09c6aa97c72d0261be","table":"template","name":"Chabot Header","html":"<ion-header-bar class=\"bar-stable\">\n\n<button class=\"button button-icon\" ng-click=\"goPage(5)\">\n\n<i class=\"icon ion-ios-arrow-back\">Back</i>\n\n</button>\n\n<h1 class=\"title\">{{title}}</h1>\n\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort = \"asc\";\n$scope.sortKey = \"createdAt\";\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.data = {};\n$scope.logged_user = myService.getUserInfo();\n\nthis.getUserMessage = function(){\n\tvar detailData = myService.getDetail();\n\t$ionicScrollDelegate.scrollBottom();\n\t$scope.details = detailData ;\n};\nthis.getUserMessage();"},{"_id":"19","_rev":"1-81a2f7c888d4aa0d2566fa46308e2cc2","table":"details","child_task_id":"19_0","user_id":"0a9b50963bc76018418ffd857d551ced","from_user_id":null,"page_id":19,"from_page_id":15,"to_page_id":0,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","date_created":"2017-08-01T12:21:07.787Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","phone":12145644732},"user_incoming":{"note":"Add To Task","message":"Add To Task"},"watson_incoming":{"message":"Watson response to : Add To Task","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1498805964201,"page_ids":[19],"base_details":true},{"_id":"19_0","_rev":"1-053fecb40b449e60df9c9ba40dba1a27","table":"task_table","user_id":"0a9b50963bc76018418ffd857d551ced","task_name":"addDetailToTask","page_id":19,"from_page_id":15,"header_template_id":"19_h","detail_template_id":"19_d","footer_template_id":"19_f","parent_id":"15_0","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-01T12:32:20.826Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"19_d","_rev":"3-f65b453c680fd4791d9d8fad07e9e880","table":"template","name":"add_detail_to_task detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\"\n\tng-submit=\"params = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t\tapi_mode: 'POST',\n\t\t\t\tapi_type: 'add_detail_to_task',\n\t\t\t\ttable: 'add_detail_to_task',\n\t\t\t\ttable_data: addDetailToTask\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_user: {}\n\t};\n\tcommon_request_handler(params);\"\tnovalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Detail Id</span>\n\t\t\t\t<input type=\"text\" placeholder=\"User message\" ng-model=\"addDetailToTask.detail_id\" readonly=\"readonly\"/>\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Detail name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Task name\" ng-model=\"addDetailToTask.message\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<span class=\"input-label\">Type</span>\n\t\t\t\t<select ng-model=\"addDetailToTask.task_id\">\n\t\t\t\t\t<option value=\"\">Select</option>\n\t\t\t\t\t<option ng-repeat=\"task in all_task_list\" value=\"{{task._id}}\">{{task.task_name}}</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button class=\"button button-block button-positive\" type=\"submit\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>\n\n","js":""},{"_id":"19_f","_rev":"3-fa32dbf3226cef91556b1ed781d82da8","table":"template","name":"add_detail_to_task footer","html":"","js":""},{"_id":"19_h","_rev":"3-11b10afb1bd44c65ccddd3c9a526a14e","table":"template","name":"add_detail_to_task","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(15)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"$scope.title=\"Add Detail to task\";"},{"_id":"1_0","_rev":"1-f62ed83d9e004af36f4fa5356e4bb415","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Login","page_id":1,"from_page_id":0,"parent_id":null,"header_template_id":"1_h","detail_template_id":"1_d","footer_template_id":"1_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"1_d","_rev":"3-d32e9081b839b1e866fd8b9835441f31","table":"template","name":"Login Form","html":"<ion-content padding=\"true\">\n\t<div class=\"login-container\">\n\t\t<h1 style=\"text-align:center;\">{{title}}</h1>\n\t\t<ion-list>\n\t\t\t<div class=\"row responsive-xs\">\n\t\t\t\t<div class=\"col\">\n\t\t\t\t\t<label class=\"item item-input item-select\" style=\"min-height:46px;\">\n\t\t\t\t\t\t<select name=\"countryCode\" ng-model=\"user.country_code\"><option data-countryCode=\"GB\" value=\"44\">UK (+44)</option><option data-countryCode=\"US\" value=\"1\">USA (+1)</option><optgroup label=\"Other countries\"><option data-countryCode=\"DZ\" value=\"213\">Algeria (+213)</option><option data-countryCode=\"AD\" value=\"376\">Andorra (+376)</option><option data-countryCode=\"AO\" value=\"244\">Angola (+244)</option><option data-countryCode=\"AI\" value=\"1264\">Anguilla (+1264)</option><option data-countryCode=\"AG\" value=\"1268\">Antigua &amp; Barbuda (+1268)</option><option data-countryCode=\"AR\" value=\"54\">Argentina (+54)</option><option data-countryCode=\"AM\" value=\"374\">Armenia (+374)</option><option data-countryCode=\"AW\" value=\"297\">Aruba (+297)</option><option data-countryCode=\"AU\" value=\"61\">Australia (+61)</option><option data-countryCode=\"AT\" value=\"43\">Austria (+43)</option><option data-countryCode=\"AZ\" value=\"994\">Azerbaijan (+994)</option><option data-countryCode=\"BS\" value=\"1242\">Bahamas (+1242)</option><option data-countryCode=\"BH\" value=\"973\">Bahrain (+973)</option><option data-countryCode=\"BD\" value=\"880\">Bangladesh (+880)</option><option data-countryCode=\"BB\" value=\"1246\">Barbados (+1246)</option><option data-countryCode=\"BY\" value=\"375\">Belarus (+375)</option><option data-countryCode=\"BE\" value=\"32\">Belgium (+32)</option><option data-countryCode=\"BZ\" value=\"501\">Belize (+501)</option><option data-countryCode=\"BJ\" value=\"229\">Benin (+229)</option><option data-countryCode=\"BM\" value=\"1441\">Bermuda (+1441)</option><option data-countryCode=\"BT\" value=\"975\">Bhutan (+975)</option><option data-countryCode=\"BO\" value=\"591\">Bolivia (+591)</option><option data-countryCode=\"BA\" value=\"387\">Bosnia Herzegovina (+387)</option><option data-countryCode=\"BW\" value=\"267\">Botswana (+267)</option><option data-countryCode=\"BR\" value=\"55\">Brazil (+55)</option><option data-countryCode=\"BN\" value=\"673\">Brunei (+673)</option><option data-countryCode=\"BG\" value=\"359\">Bulgaria (+359)</option><option data-countryCode=\"BF\" value=\"226\">Burkina Faso (+226)</option><option data-countryCode=\"BI\" value=\"257\">Burundi (+257)</option><option data-countryCode=\"KH\" value=\"855\">Cambodia (+855)</option><option data-countryCode=\"CM\" value=\"237\">Cameroon (+237)</option><option data-countryCode=\"CA\" value=\"1\">Canada (+1)</option><option data-countryCode=\"CV\" value=\"238\">Cape Verde Islands (+238)</option><option data-countryCode=\"KY\" value=\"1345\">Cayman Islands (+1345)</option><option data-countryCode=\"CF\" value=\"236\">Central African Republic (+236)</option><option data-countryCode=\"CL\" value=\"56\">Chile (+56)</option><option data-countryCode=\"CN\" value=\"86\">China (+86)</option><option data-countryCode=\"CO\" value=\"57\">Colombia (+57)</option><option data-countryCode=\"KM\" value=\"269\">Comoros (+269)</option><option data-countryCode=\"CG\" value=\"242\">Congo (+242)</option><option data-countryCode=\"CK\" value=\"682\">Cook Islands (+682)</option><option data-countryCode=\"CR\" value=\"506\">Costa Rica (+506)</option><option data-countryCode=\"HR\" value=\"385\">Croatia (+385)</option><option data-countryCode=\"CU\" value=\"53\">Cuba (+53)</option><option data-countryCode=\"CY\" value=\"90392\">Cyprus North (+90392)</option><option data-countryCode=\"CY\" value=\"357\">Cyprus South (+357)</option><option data-countryCode=\"CZ\" value=\"42\">Czech Republic (+42)</option><option data-countryCode=\"DK\" value=\"45\">Denmark (+45)</option><option data-countryCode=\"DJ\" value=\"253\">Djibouti (+253)</option><option data-countryCode=\"DM\" value=\"1809\">Dominica (+1809)</option><option data-countryCode=\"DO\" value=\"1809\">Dominican Republic (+1809)</option><option data-countryCode=\"EC\" value=\"593\">Ecuador (+593)</option><option data-countryCode=\"EG\" value=\"20\">Egypt (+20)</option><option data-countryCode=\"SV\" value=\"503\">El Salvador (+503)</option><option data-countryCode=\"GQ\" value=\"240\">Equatorial Guinea (+240)</option><option data-countryCode=\"ER\" value=\"291\">Eritrea (+291)</option><option data-countryCode=\"EE\" value=\"372\">Estonia (+372)</option><option data-countryCode=\"ET\" value=\"251\">Ethiopia (+251)</option><option data-countryCode=\"FK\" value=\"500\">Falkland Islands (+500)</option><option data-countryCode=\"FO\" value=\"298\">Faroe Islands (+298)</option><option data-countryCode=\"FJ\" value=\"679\">Fiji (+679)</option><option data-countryCode=\"FI\" value=\"358\">Finland (+358)</option><option data-countryCode=\"FR\" value=\"33\">France (+33)</option><option data-countryCode=\"GF\" value=\"594\">French Guiana (+594)</option><option data-countryCode=\"PF\" value=\"689\">French Polynesia (+689)</option><option data-countryCode=\"GA\" value=\"241\">Gabon (+241)</option><option data-countryCode=\"GM\" value=\"220\">Gambia (+220)</option><option data-countryCode=\"GE\" value=\"7880\">Georgia (+7880)</option><option data-countryCode=\"DE\" value=\"49\">Germany (+49)</option><option data-countryCode=\"GH\" value=\"233\">Ghana (+233)</option><option data-countryCode=\"GI\" value=\"350\">Gibraltar (+350)</option><option data-countryCode=\"GR\" value=\"30\">Greece (+30)</option><option data-countryCode=\"GL\" value=\"299\">Greenland (+299)</option><option data-countryCode=\"GD\" value=\"1473\">Grenada (+1473)</option><option data-countryCode=\"GP\" value=\"590\">Guadeloupe (+590)</option><option data-countryCode=\"GU\" value=\"671\">Guam (+671)</option><option data-countryCode=\"GT\" value=\"502\">Guatemala (+502)</option><option data-countryCode=\"GN\" value=\"224\">Guinea (+224)</option><option data-countryCode=\"GW\" value=\"245\">Guinea - Bissau (+245)</option><option data-countryCode=\"GY\" value=\"592\">Guyana (+592)</option><option data-countryCode=\"HT\" value=\"509\">Haiti (+509)</option><option data-countryCode=\"HN\" value=\"504\">Honduras (+504)</option><option data-countryCode=\"HK\" value=\"852\">Hong Kong (+852)</option><option data-countryCode=\"HU\" value=\"36\">Hungary (+36)</option><option data-countryCode=\"IS\" value=\"354\">Iceland (+354)</option><option data-countryCode=\"IN\" value=\"91\">India (+91)</option><option data-countryCode=\"ID\" value=\"62\">Indonesia (+62)</option><option data-countryCode=\"IR\" value=\"98\">Iran (+98)</option><option data-countryCode=\"IQ\" value=\"964\">Iraq (+964)</option><option data-countryCode=\"IE\" value=\"353\">Ireland (+353)</option><option data-countryCode=\"IL\" value=\"972\">Israel (+972)</option><option data-countryCode=\"IT\" value=\"39\">Italy (+39)</option><option data-countryCode=\"JM\" value=\"1876\">Jamaica (+1876)</option><option data-countryCode=\"JP\" value=\"81\">Japan (+81)</option><option data-countryCode=\"JO\" value=\"962\">Jordan (+962)</option><option data-countryCode=\"KZ\" value=\"7\">Kazakhstan (+7)</option><option data-countryCode=\"KE\" value=\"254\">Kenya (+254)</option><option data-countryCode=\"KI\" value=\"686\">Kiribati (+686)</option><option data-countryCode=\"KP\" value=\"850\">Korea North (+850)</option><option data-countryCode=\"KR\" value=\"82\">Korea South (+82)</option><option data-countryCode=\"KW\" value=\"965\">Kuwait (+965)</option><option data-countryCode=\"KG\" value=\"996\">Kyrgyzstan (+996)</option><option data-countryCode=\"LA\" value=\"856\">Laos (+856)</option><option data-countryCode=\"LV\" value=\"371\">Latvia (+371)</option><option data-countryCode=\"LB\" value=\"961\">Lebanon (+961)</option><option data-countryCode=\"LS\" value=\"266\">Lesotho (+266)</option><option data-countryCode=\"LR\" value=\"231\">Liberia (+231)</option><option data-countryCode=\"LY\" value=\"218\">Libya (+218)</option><option data-countryCode=\"LI\" value=\"417\">Liechtenstein (+417)</option><option data-countryCode=\"LT\" value=\"370\">Lithuania (+370)</option><option data-countryCode=\"LU\" value=\"352\">Luxembourg (+352)</option><option data-countryCode=\"MO\" value=\"853\">Macao (+853)</option><option data-countryCode=\"MK\" value=\"389\">Macedonia (+389)</option><option data-countryCode=\"MG\" value=\"261\">Madagascar (+261)</option><option data-countryCode=\"MW\" value=\"265\">Malawi (+265)</option><option data-countryCode=\"MY\" value=\"60\">Malaysia (+60)</option><option data-countryCode=\"MV\" value=\"960\">Maldives (+960)</option><option data-countryCode=\"ML\" value=\"223\">Mali (+223)</option><option data-countryCode=\"MT\" value=\"356\">Malta (+356)</option><option data-countryCode=\"MH\" value=\"692\">Marshall Islands (+692)</option><option data-countryCode=\"MQ\" value=\"596\">Martinique (+596)</option><option data-countryCode=\"MR\" value=\"222\">Mauritania (+222)</option><option data-countryCode=\"YT\" value=\"269\">Mayotte (+269)</option><option data-countryCode=\"MX\" value=\"52\">Mexico (+52)</option><option data-countryCode=\"FM\" value=\"691\">Micronesia (+691)</option><option data-countryCode=\"MD\" value=\"373\">Moldova (+373)</option><option data-countryCode=\"MC\" value=\"377\">Monaco (+377)</option><option data-countryCode=\"MN\" value=\"976\">Mongolia (+976)</option><option data-countryCode=\"MS\" value=\"1664\">Montserrat (+1664)</option><option data-countryCode=\"MA\" value=\"212\">Morocco (+212)</option><option data-countryCode=\"MZ\" value=\"258\">Mozambique (+258)</option><option data-countryCode=\"MN\" value=\"95\">Myanmar (+95)</option><option data-countryCode=\"NA\" value=\"264\">Namibia (+264)</option><option data-countryCode=\"NR\" value=\"674\">Nauru (+674)</option><option data-countryCode=\"NP\" value=\"977\">Nepal (+977)</option><option data-countryCode=\"NL\" value=\"31\">Netherlands (+31)</option><option data-countryCode=\"NC\" value=\"687\">New Caledonia (+687)</option><option data-countryCode=\"NZ\" value=\"64\">New Zealand (+64)</option><option data-countryCode=\"NI\" value=\"505\">Nicaragua (+505)</option><option data-countryCode=\"NE\" value=\"227\">Niger (+227)</option><option data-countryCode=\"NG\" value=\"234\">Nigeria (+234)</option><option data-countryCode=\"NU\" value=\"683\">Niue (+683)</option><option data-countryCode=\"NF\" value=\"672\">Norfolk Islands (+672)</option><option data-countryCode=\"NP\" value=\"670\">Northern Marianas (+670)</option><option data-countryCode=\"NO\" value=\"47\">Norway (+47)</option><option data-countryCode=\"OM\" value=\"968\">Oman (+968)</option><option data-countryCode=\"PW\" value=\"680\">Palau (+680)</option><option data-countryCode=\"PA\" value=\"507\">Panama (+507)</option><option data-countryCode=\"PG\" value=\"675\">Papua New Guinea (+675)</option><option data-countryCode=\"PY\" value=\"595\">Paraguay (+595)</option><option data-countryCode=\"PE\" value=\"51\">Peru (+51)</option><option data-countryCode=\"PH\" value=\"63\">Philippines (+63)</option><option data-countryCode=\"PL\" value=\"48\">Poland (+48)</option><option data-countryCode=\"PT\" value=\"351\">Portugal (+351)</option><option data-countryCode=\"PR\" value=\"1787\">Puerto Rico (+1787)</option><option data-countryCode=\"QA\" value=\"974\">Qatar (+974)</option><option data-countryCode=\"RE\" value=\"262\">Reunion (+262)</option><option data-countryCode=\"RO\" value=\"40\">Romania (+40)</option><option data-countryCode=\"RU\" value=\"7\">Russia (+7)</option><option data-countryCode=\"RW\" value=\"250\">Rwanda (+250)</option><option data-countryCode=\"SM\" value=\"378\">San Marino (+378)</option><option data-countryCode=\"ST\" value=\"239\">Sao Tome &amp; Principe (+239)</option><option data-countryCode=\"SA\" value=\"966\">Saudi Arabia (+966)</option><option data-countryCode=\"SN\" value=\"221\">Senegal (+221)</option><option data-countryCode=\"CS\" value=\"381\">Serbia (+381)</option><option data-countryCode=\"SC\" value=\"248\">Seychelles (+248)</option><option data-countryCode=\"SL\" value=\"232\">Sierra Leone (+232)</option><option data-countryCode=\"SG\" value=\"65\">Singapore (+65)</option><option data-countryCode=\"SK\" value=\"421\">Slovak Republic (+421)</option><option data-countryCode=\"SI\" value=\"386\">Slovenia (+386)</option><option data-countryCode=\"SB\" value=\"677\">Solomon Islands (+677)</option><option data-countryCode=\"SO\" value=\"252\">Somalia (+252)</option><option data-countryCode=\"ZA\" value=\"27\">South Africa (+27)</option><option data-countryCode=\"ES\" value=\"34\">Spain (+34)</option><option data-countryCode=\"LK\" value=\"94\">Sri Lanka (+94)</option><option data-countryCode=\"SH\" value=\"290\">St. Helena (+290)</option><option data-countryCode=\"KN\" value=\"1869\">St. Kitts (+1869)</option><option data-countryCode=\"SC\" value=\"1758\">St. Lucia (+1758)</option><option data-countryCode=\"SD\" value=\"249\">Sudan (+249)</option><option data-countryCode=\"SR\" value=\"597\">Suriname (+597)</option><option data-countryCode=\"SZ\" value=\"268\">Swaziland (+268)</option><option data-countryCode=\"SE\" value=\"46\">Sweden (+46)</option><option data-countryCode=\"CH\" value=\"41\">Switzerland (+41)</option><option data-countryCode=\"SI\" value=\"963\">Syria (+963)</option><option data-countryCode=\"TW\" value=\"886\">Taiwan (+886)</option><option data-countryCode=\"TJ\" value=\"7\">Tajikstan (+7)</option><option data-countryCode=\"TH\" value=\"66\">Thailand (+66)</option><option data-countryCode=\"TG\" value=\"228\">Togo (+228)</option><option data-countryCode=\"TO\" value=\"676\">Tonga (+676)</option><option data-countryCode=\"TT\" value=\"1868\">Trinidad &amp; Tobago (+1868)</option><option data-countryCode=\"TN\" value=\"216\">Tunisia (+216)</option><option data-countryCode=\"TR\" value=\"90\">Turkey (+90)</option><option data-countryCode=\"TM\" value=\"7\">Turkmenistan (+7)</option><option data-countryCode=\"TM\" value=\"993\">Turkmenistan (+993)</option><option data-countryCode=\"TC\" value=\"1649\">Turks &amp; Caicos Islands (+1649)</option><option data-countryCode=\"TV\" value=\"688\">Tuvalu (+688)</option><option data-countryCode=\"UG\" value=\"256\">Uganda (+256)</option><option data-countryCode=\"UA\" value=\"380\">Ukraine (+380)</option><option data-countryCode=\"AE\" value=\"971\">United Arab Emirates (+971)</option><option data-countryCode=\"UY\" value=\"598\">Uruguay (+598)</option><option data-countryCode=\"UZ\" value=\"7\">Uzbekistan (+7)</option><option data-countryCode=\"VU\" value=\"678\">Vanuatu (+678)</option><option data-countryCode=\"VA\" value=\"379\">Vatican City (+379)</option><option data-countryCode=\"VE\" value=\"58\">Venezuela (+58)</option><option data-countryCode=\"VN\" value=\"84\">Vietnam (+84)</option><option data-countryCode=\"VG\" value=\"84\">Virgin Islands - British (+1284)</option><option data-countryCode=\"VI\" value=\"84\">Virgin Islands - US (+1340)</option><option data-countryCode=\"WF\" value=\"681\">Wallis &amp; Futuna (+681)</option><option data-countryCode=\"YE\" value=\"969\">Yemen (North)(+969)</option><option data-countryCode=\"YE\" value=\"967\">Yemen (South)(+967)</option><option data-countryCode=\"ZM\" value=\"260\">Zambia (+260)</option><option data-countryCode=\"ZW\" value=\"263\">Zimbabwe (+263)</option></optgroup></select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col col-75\">\n\t\t\t\t\t<label class=\"item item-input\">\n\t\t\t\t\t\t<input type=\"text\" id=\"phone\" ng-model=\"user.phone\" placeholder=\"Phone\" ng-change=\"checkNumber(user.phone)\">\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ion-list>\n\t\t\t<div style=\"height: 10px;\" class=\"spacer\">\n\t\t</div>\n\t\t<button class=\"button button-stable button-block\" id=\"login-button\" ng-click=\"login(user)\">NEXT</button>\n\t</div>\n</ion-content>","js":""},{"_id":"1_f","_rev":"3-3c6c72eb174818bcfd2b3882660157e0","table":"template","name":"","html":"","js":""},{"_id":"1_h","_rev":"3-c7a94e26ad5d730d48d35adb6bff5bcb","table":"template","name":"Login header","html":"","js":"$scope.title = \"Login\";\nvar logged_number = seprateNumber($localStorage.logged_user_phone);\n\n$scope.user = {\n\tphone: logged_number.number,\n\tcountry_code: logged_number.countryCode \n};\n\n$scope.login = function(user) {\n\tvar number = user.phone ;\n\tif (!number) {\n\t\tutilityService.showAlert(\"Please enter phone number\").then(function(res) {\n\t\t\t$timeout(function() { $(\"#phone\").focus(); }, 100);\n\t\t});\n\t\treturn false;\n\t}\n\t\n\tnumber = number.replace(/[- )(]/g,\"\").trim();\n\tvar reg = new RegExp(\"^(0|[1-9][0-9]*)$\");\n\t\n\tif(!reg.test(number)){\n\t\tutilityService.showAlert(\"Please enter valid phone number\").then(function(res) {\n\t\t\t$timeout(function() { $(\"#phone\").focus(); }, 100);\n\t\t});\n\t\treturn false;\n\t}\n\tnumber = user.country_code + number ;\n\tvar endpoint = $scope.api_url + \"/api/login\";\n\tvar parameters = {\n\t\tphone:\tnumber,\n\t\taccess_token:\t$localStorage.access_token,\n\t\tdevice_id : $localStorage.device_id ,\n\t\tpush_accepted: $localStorage.push_accepted\n\t};\n\n\tif(number == $localStorage.logged_user_phone){\n\t\tutilityService.setBusy(true);\n\t\t$http.post(endpoint, parameters).then(function(res) {\n\t\t\tvar res_data = res.data;\n\t\t\tconsole.log(\"login res_data>>>\", res_data);\n\t\t\tmyService.apiResult = res_data;\n\t\t\t$localStorage.logged_user_phone = number;\n\t\t\t$scope.goToVerifyPage(res_data);\n\t\t});\n\t}else{\n\t\tutilityService.setBusy(true);\n\t\t$http.post(endpoint, parameters).then(function(res) {\n\t\t\tvar res_data = res.data;\n\t\t\tconsole.log(\"login res_data>>>\", res_data);\n\t\t\tmyService.apiResult = res_data;\n\t\t\t$localStorage.logged_user_phone = number;\n\t\t\t$scope.goToVerifyPage(res_data);\n\t\t});\n\t}\n};\n\n$scope.checkNumber = function(){\n\tif ($scope.user !== undefined && $scope.user.phone !== \"\") {\n\t\tvar input = $scope.user.phone.replace(/[^0-9\\(\\)\\s\\-]/g, \"\");\n\t\tvar inputlen = input.length;\n\t\t// Get just the numbers in the input\n\t\tvar numbers = $scope.user.phone.replace(/\\D/g, '');\n\t\tvar numberslen = numbers.length;\n\t\t// Value to store the masked input\n\t\tvar newval = \"\";\n\n\t\t// Loop through the existing numbers and apply the mask\n\t\tfor (var i = 0; i < numberslen; i++) {\n\t\t\tif (i == 0) newval = \"(\" + numbers[i];\n\t\t\telse if (i == 3) newval += \") \" + numbers[i];\n\t\t\telse if (i == 6) newval += \"-\" + numbers[i];\n\t\t\telse newval += numbers[i];\n\t\t}\n\n\t\t// Re-add the non-digit characters to the end of the input that the user entered and that match the mask.\n\t\tif (inputlen >= 1 && numberslen == 0 && input[0] == \"(\") newval = \"(\";\n\t\telse if (inputlen >= 6 && numberslen == 3 && input[4] == \")\" && input[5] == \" \") newval += \") \";\n\t\telse if (inputlen >= 5 && numberslen == 3 && input[4] == \")\") newval += \")\";\n\t\telse if (inputlen >= 6 && numberslen == 3 && input[5] == \" \") newval += \" \";\n\t\telse if (inputlen >= 10 && numberslen == 6 && input[9] == \"-\") newval += \"-\";\n\n\t\t//$(this).val(newval.substring(0, 14));\n\t\t$scope.user.phone = newval.substring(0, 14);\n\t}\n};\n\nfunction seprateNumber(number){\n\tvar obj = {};\n\tif(number !== null && number !== undefined){\n\t\tif(number.length > 4){\n\t\t\tobj.countryCode = number.substr(0, number.length - 10);\n\t\t\tnumber \t\t\t= number.substr(number.length - 10, number.length);\n\t\t\tobj.number \t\t= \"(\" + number.substr(0, 3) + \") \" + number.substr(3, 3) + \"-\" + number.substr(6, 4);\n\t\t}\n\t}else{\n\t\tobj.countryCode = \"1\";\n\t\tobj.number = \"\";\n\t}\n\treturn obj ;\n}\n\n$scope.goToVerifyPage = function (data){\n\tvar config = {\n\t\t\"params\": {\n\t\t\t\"app\": {\n\t\t\t\t\"api\": {\n\t\t\t\t\t\"type\": \"update_get_pages\",\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"page_id\": data.page_id,\n\t\t\t\t\t\t\"phone\": $localStorage.logged_user_phone\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ,\n\t\t\t\"platform\":{},\n\t\t\t\"other_users\":{}\n\t\t}\n\t};\n\t$http\n\t.get(APIROOT + \"/master_api_handler\", config)\n\t.then(function(res){\n\t\tvar res_data = res.data.records;\n\t\t\tres_data.status = 1;\n\t\tmyService.apiResult = res_data.req_page;\n\t\t$scope.setPage();\n\t\t$ionicScrollDelegate.scrollBottom(true);\n\t\tutilityService.setBusy(false);\n\t},function(err_data){\n\t\tconsole.log(\"api err>>>\", err_data);\n\t\t$scope.add_error_fn(config.params, err_data);\n\t\tutilityService.setBusy(false);\n\t});\n};"},{"_id":"1a45d2bd674f0b2eb3d3ff884311f2a8","_rev":"2-cf7205ff8ec1d0fc70e6398c8e023ce7","table":"node","user_id":"fa1785333117ba7c06b9020a6d3c0079","node_name":"","ancestors":["5e065d16188c137965e86bdbc1ce6639","companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"5a8d10684202e00037000028","parents":["5e065d16188c137965e86bdbc1ce6639"],"data_id_lineage":{"fa1785333117ba7c06b9020a6d3c0079":["company"],"data_id":["5a8d10684202e00037000028"],"f1b5ed9577f69c6b131d94a46b39044f":["company"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T06:52:50.409Z"},{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T06:54:38.668Z"}]},{"_id":"1ea8a6b39d2d9c37f23c99a3700ee37c","_rev":"1-f584f0fd17c4a9f631b3d67ad40c707d","table":"user_page","task_id":"51fb167ca7670096ea62b4e9f913e7e5","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1499057617028,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519196717876},{"_id":"1ef4211d2b93be5b4a0d6a9717e50c2b","_rev":"1-6873497108da0d72cb675af1ae55674a","table":"node","user_id":"fa1785333117ba7c06b9020a6d3c0079","node_name":"","ancestors":["5e065d16188c137965e86bdbc1ce6639","companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"5a8d17ab4202e0003700002c","parents":["5e065d16188c137965e86bdbc1ce6639"],"data_id_lineage":{"fa1785333117ba7c06b9020a6d3c0079":["company"],"data_id":["5a8d17ab4202e0003700002c","fa1785333117ba7c06b9020a6d3c0079","f1b5ed9577f69c6b131d94a46b39044f"],"f1b5ed9577f69c6b131d94a46b39044f":["company"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T07:02:30.191Z"}]},{"_id":"20","_rev":"1-4ba75197d26ec76dcddb123576191087","table":"task_table","task_name":"Manage Assistants","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":20,"from_page_id":1502774414284,"parent_id":1502774414284,"header_template_id":"20_h","detail_template_id":"20_d","footer_template_id":"20_f","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-07T05:37:02.620Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"20_0","_rev":"1-afd10122989ab6dc726ea670eb13e8d7","table":"details","child_task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":1502774414284,"from_page_id":1,"to_page_id":20,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-07T10:19:41.542Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Manage Assistants","message":"Manage Assistants"},"watson_incoming":{"message":"Watson response to : Manage Assistants","response":{}},"template":{"details":{"_id":"2_d","_rev":"7-0a8d302a193c0c3770a76652750d7bbb","table":"template","name":"Detail","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t\t <i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t </i>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'delete_detail',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502084222482,"page_ids":[1502774414284],"base_details":true},{"_id":"20_d","_rev":"6-77384107b000f77b1d7e503ef77ff3f7","table":"template","name":"manage_assistant_detail","html":"<ion-content class=\"has-header\" on-swipe-down=\"getEmployees();\">\n\t<ion-list can-swipe=\"true\">\n\t\t<ion-item ng-repeat=\"assistant in assistant_list track by $index\" type=\"item-text-wrap\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{ assistant.first_name ? assistant.first_name + ' (' + assistant.phone + ')' : assistant.phone }}</h2>\n\t\t </div>\n\t\t<ion-option-button class=\"button-assertive icon ion-trash-a\" ng-click=\"params = { app: { api: { api_type: 'ADD_ASSISTANT_INTO_GROUP', table: 'add_assistant_into_group', table_data:\t{ user_id:\tassistant.user_id, phone: assistant.phone, group_id: 'EmployeeGroup', type: 'DELETE_FROM_GROUP', screen: 'MANAGE_ASSISTANT'}}\t},platform: {},other_user: {}};common_request_handler(params);\"></ion-option-button>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"20_f","_rev":"6-95ed32e606ca64ac85568135185a6c41","table":"template","name":"manage_assistant_footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_ASSISTANT_INTO_GROUP',\n\t\t\t\t\t\t\t\ttable: 'add_assistant_into_group',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tuser_id : data.user_id,\n\t\t\t\t\t\t\t\t\tphone: data.message, \n \t\t\t\t\t\t\t\t\tgroup_id: 'EmployeeGroup',\n \t\t\t\t\t\t\t\t\ttype: 'ADD_INTO_GROUP',\n \t\t\t\t\t\t\t\t\tscreen: 'MANAGE_ASSISTANT'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"Add assistants\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"20_h","_rev":"3-29b39a75b249b74e271f4dd04a6a6591","table":"template","name":"manage_assistant_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.page_name='Add Assistants';\n$scope.config.from_page_id = 1502774414284;\n\n$scope.getEmployees = function(){\n\t$scope.$broadcast('scroll.refreshComplete');\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": \"\",\n\t\t\t\t\"group_users\": \"\"\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n};\n$scope.getEmployees();"},{"_id":"21","_rev":"1-28ef5ec46abbb6dca4f568238fa7a85f","table":"task_table","task_name":"Edit Assistants","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":21,"from_page_id":20,"parent_id":["2_0","20_0"],"header_template_id":"21_h","detail_template_id":"21_d","footer_template_id":"21_f","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-07T05:37:02.620Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"21_0","_rev":"1-025230ef19eeb97d941aa3c2e9a9fa52","table":"details","child_task_id":"21_0","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":21,"from_page_id":1,"to_page_id":21,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-07T05:37:02.481Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Edit Assistants","message":"Edit Assistants"},"watson_incoming":{"message":"Watson response to : edit Assistants","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502084222482,"page_ids":[21],"base_details":true},{"_id":"21_d","_rev":"3-2e6d5b62b5a30201079cbc96da772ce6","table":"template","name":"edit_assistant_detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"list\">\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">First Name</span>\n\t\t<input type=\"text\" placeholder=\"john\" ng-model=\"assistant.firstname\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Last Name</span>\n\t\t<input type=\"text\" placeholder=\"suhr\" ng-model=\"assistant.lastname\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Email</span>\n\t\t<input type=\"text\" placeholder=\"john@suhr.com\" ng-model=\"assistant.email\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Phone</span>\n\t\t<input type=\"text\" placeholder=\"12145644732\" ng-model=\"assistant.phone\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Devcie Id</span>\n\t\t<input type=\"text\" placeholder=\"john@suhr.com\" ng-model=\"assistant.device_id\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Push accepted</span>\n\t\t<input type=\"text\" placeholder=\"john@suhr.com\" ng-model=\"assistant.push_accepted\" />\n\t </label>\n\t</div>\n\t<div class=\"padding\">\n\t\t<button ng-click=\"updateAssistantDetail(assistant);\" type=\"button\" class=\"button button-block button-positive activated\">Update</button>\n\t</div>\n</ion-content>","js":""},{"_id":"21_f","_rev":"3-9cd9319e17c9819afd398c11c45e098a","table":"template","name":"manage_assistant_header","html":"","js":""},{"_id":"21_h","_rev":"3-984ace5a3238ac5be2ce9fcc78daf58b","table":"template","name":"edit_assistant_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"$scope.from_page_id = 20; $scope.page_name='Edit assistant';console.log('$scope.assistant >>>>>>>>>>>>>>>>>>>', $scope.assistant);"},{"_id":"22","_rev":"1-91837d39b6a45e647372b09fb128b529","table":"task_table","task_name":"Manage Groups","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":22,"from_page_id":1502774414284,"parent_id":1502774414284,"header_template_id":"22_h","detail_template_id":"22_d","footer_template_id":"22_f","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-08T05:23:22.844Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"22_0","_rev":"1-e59ba24fb972b3113472422a84690703","table":"details","child_task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":1502774414284,"from_page_id":1,"to_page_id":22,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-08T05:23:22.720Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Manage Groups","message":"Manage Groups"},"watson_incoming":{"message":"Watson response to : Manage Groups","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502169802721,"page_ids":[1502774414284],"base_details":true},{"_id":"22_1","_rev":"1-191d023cebcc060a5270c762a83417aa","table":"details","child_task_id":"","user_id":"f1b5ed9577f69c6b131d94a46b39044f","from_user_id":"","page_id":22,"to_page_id":1518090813204,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"First Responder","note":"First Responder"},"watson_incoming":{"message":"First Responder","note":"First Responder"},"timeout":{},"user_calculated":{},"location":[],"createdAt":1518090791764,"page_ids":[22]},{"_id":"22_2","_rev":"1-a8e2a58097bf0c05627a1a507505526f","table":"details","child_task_id":"","user_id":"f1b5ed9577f69c6b131d94a46b39044f","from_user_id":"","page_id":22,"to_page_id":1518090841525,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"Second Responder","note":"Second Responder"},"watson_incoming":{"message":"Second Responder","note":"Second Responder"},"timeout":{},"user_calculated":{},"location":[],"createdAt":1518090848174,"page_ids":[22]},{"_id":"22_d","_rev":"4-7cef3cbac5b19cc2c4af104f50d7f013","table":"template","name":"list_group_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\" ng-click=\"goPage(item.to_page_id);\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.user_incoming.message }}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteGroup(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"22_f","_rev":"3-e13d19e3ec40fe4482bda77500f36763","table":"template","name":"list_group_footer","html":"","js":""},{"_id":"22_h","_rev":"4-3acf0b7dd5c0a12e216539149ad56f15","table":"template","name":"list_group_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.config.from_page_id = 1502774414284;\n$scope.page_name='List groups';\nvar user_obj = myService.getUserInfo();\n$scope.getAllGroups = function(){\n\tvar req_params = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_users_groups\",\n\t\t\t \"type\": \"get_users_groups\",\n\t\t\t \"content\": {\n\t\t\t\tuserId: user_obj._id\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t};\n return false;\n\t$scope.common_request_handler(req_params);\n};\n$scope.getAllGroups();\nthis.populatePageDetail = function(){\n\tvar detailData = myService.getDetail();\n\t$ionicScrollDelegate.scrollBottom();\n\t$scope.details = detailData ;\n};\nthis.populatePageDetail();"},{"_id":"23","_rev":"1-95f57be08c7bbec851de637a5ac4113e","table":"task_table","task_name":"Add Groups","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":23,"from_page_id":2,"parent_id":["22"],"header_template_id":"23_h","detail_template_id":"23_d","footer_template_id":"23_f","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-08T05:23:22.844Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"23_0","_rev":"1-e530010e59cd20c9e061b4f8479d1a13","table":"details","child_task_id":"2_0","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":23,"from_page_id":1,"to_page_id":23,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-08T05:23:22.720Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Add Groups","message":"Add Groups"},"watson_incoming":{"message":"Watson response to : Add Groups","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502169802721,"page_ids":[23],"base_details":true},{"_id":"23_d","_rev":"3-2c9ccaf120b81cde48dbfdeef2c3b249","table":"template","name":"add_group_detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"list\">\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Group Name</span>\n\t\t<input type=\"text\" placeholder=\"dri_main\" ng-model=\"group.name\">\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">User Id</span>\n\t\t<input type=\"text\" placeholder=\"Owner Id\" ng-model=\"group.owner_id\" readonly=\"readonly\" />\n\t </label>\n\t</div>\n\t<div class=\"padding\">\n\t\t<button ng-click=\"addGroupDetails(group);\" type=\"button\" class=\"button button-block button-positive activated\">Create</button>\n\t</div>\n</ion-content>","js":""},{"_id":"23_f","_rev":"3-4aaefb1292fdaf1a8ff761b9fa3dbdb9","table":"template","name":"add_group_footer","html":"","js":""},{"_id":"23_h","_rev":"3-6a8eb9b9b28bba3763cad69afefc2f4a","table":"template","name":"add_group_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.from_page_id = 22;\n$scope.page_name='Add groups';\nvar user_info = myService.getUserInfo();\n$scope.group = {\n\t\"name\": \"\",\n\t\"owner_id\": user_info.user_id\n};\n"},{"_id":"24","_rev":"1-0087b1b62b8df9d4cf8a64978c3314cf","table":"task_table","task_name":"Edit Groups","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":24,"from_page_id":2,"parent_id":["23"],"header_template_id":"24_h","detail_template_id":"24_d","footer_template_id":"24_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-08T05:23:22.844Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"24_0","_rev":"1-39232fd9b07c6d6830e6649a0e87fc59","table":"details","child_task_id":"24","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":24,"from_page_id":1,"to_page_id":24,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-08T05:23:22.720Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Add Groups","message":"Add Groups"},"watson_incoming":{"message":"Watson response to : Add Groups","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502169802721,"page_ids":[24],"base_details":true},{"_id":"24_d","_rev":"3-186debbadd41a64da2f0de2e2a37655b","table":"template","name":"edit_group_header","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editGroup(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteGroup(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"24_f","_rev":"3-5fe5e4d5c3e13fdc629bdfe0fddcf716","table":"template","name":"edit_group_footer","html":"","js":""},{"_id":"24_h","_rev":"3-730fd2f684cbae24c94a8c66ce22d1f8","table":"template","name":"edit_group_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.from_page_id = 23;\n$scope.page_name='Edit group';"},{"_id":"25","_rev":"1-f0108059c619121c593db3932c7b8d1f","table":"task_table","task_name":"Show Assistants","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":25,"from_page_id":2,"parent_id":["22"],"header_template_id":"25_h","detail_template_id":"25_d","footer_template_id":"25_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-07T05:37:02.620Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"25_0","_rev":"1-4a1879b7016ddd2ddf20c16164647f96","table":"details","child_task_id":"24","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":1502271944711,"from_page_id":22,"to_page_id":25,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-08T05:23:22.720Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"List Assistants","message":"List Assistants"},"watson_incoming":{"message":"Watson response to : List Assistants","response":{}},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502271944711,"page_ids":[25],"base_details":true},{"_id":"25_1","_rev":"1-ddf3d5999360a3c01730cb26a1718c29","table":"task_table","task_name":"Show Assistants","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1518090813204,"from_page_id":22,"header_template_id":"25_1_h","detail_template_id":"25_1_d","footer_template_id":"25_1_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-07T05:37:02.620Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"25_1_d","_rev":"5-672063eea76a69bb91f5b3bb583d1261","table":"template","name":"first_responder_detail","html":"<ion-content class=\"content-stable\">\n <div class=\"list\">\n <ion-item ng-repeat=\"users in details track by $index\" type=\"item-text-wrap\">\n <div class=\"item-data\">\n <ion-checkbox class=\"userCheckBox\" ng-click=\"updateGroupWithUser(users)\" ng-model=\"clicked\">{{ users.name }}</ion-checkbox>\n </div>\n </ion-item>\n </div>\n</ion-content>","js":""},{"_id":"25_1_f","_rev":"2-2200d87a7624f6e5712682a82d1331ce","table":"template","name":"first_responder_footer","html":"","js":""},{"_id":"25_1_h","_rev":"11-8de22abb9f2b78f54ce27f211cc8306f","table":"template","name":"first_responder_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.config.from_page_id = 22;\n$scope.page_name='1st Responder Emp.';\n$scope.getAllGroups = function(){\n var req_params = {\n app: {\n api: {\n \"api_mode\": \"GET\",\n \"api_type\": \"get_users_groups\",\n \"type\": \"get_users_groups\",\n \"content\": {\n group_name: \"EmployeeGroup\"\n }\n }\n },\n platform: {},\n other_users: {}\n };\n $scope.common_request_handler(req_params);\n};\n$scope.getAllGroups();\n\n$scope.updateGroupWithUser = function(data){\nvar params = {};\nif(this.clicked){\n params = {\n app: {\n api: {\n api_mode: 'POST',\n api_type: 'ADD_ASSISTANT_INTO_GROUP',\n table: 'add_assistant_into_group',\n table_data: {\n user_id : data.id,\n group_id: \"Operator1\",\n phone: data.phone,\n type: \"ADD_INTO_GROUP\",\n screen: \"MANAGE_GROUP\"\n }\n }\n },\n platform: {},\n other_user: {}\n };\n console.log(params);\n $scope.common_request_handler(params);\n}else{\n params = {\n app: {\n api: {\n api_mode: 'POST',\n api_type: 'ADD_ASSISTANT_INTO_GROUP',\n table: 'add_assistant_into_group',\n table_data: {\n user_id : data.id,\n group_id: \"Operator1\",\n phone: data.phone,\n type: \"DELETE_FROM_GROUP\",\n screen: \"MANAGE_GROUP\"\n }\n }\n },\n platform: {},\n other_user: {}\n };\n console.log(params);\n $scope.common_request_handler(params);\n}\n\n}"},{"_id":"25_2","_rev":"1-2b63f4dd494570e3d4567644e160bc18","table":"task_table","task_name":"2nd Responder Emp.","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1518090841525,"from_page_id":22,"header_template_id":"25_2_h","detail_template_id":"25_2_d","footer_template_id":"25_2_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-07T05:37:02.620Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"25_2_d","_rev":"3-46bd6dde7fee14ad3322a845bdf87332","table":"template","name":"second_responder_detail","html":"<ion-content class=\"content-stable\">\n <div class=\"list\">\n <ion-item ng-repeat=\"users in details track by $index\" type=\"item-text-wrap\">\n <div class=\"item-data\">\n <ion-checkbox class=\"userCheckBox\" ng-click=\"updateGroupWithUser(users)\" ng-model=\"clicked\">{{ users.name }}</ion-checkbox>\n </div>\n </ion-item>\n </div>\n</ion-content>","js":""},{"_id":"25_2_f","_rev":"2-8ecf49556249a7cde03dfcf29ccceaa4","table":"template","name":"second_responder_footer","html":"","js":""},{"_id":"25_2_h","_rev":"7-ae95cffd4efbcedec0ce333491810f49","table":"template","name":"second_responder_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.config.from_page_id = 22;\n$scope.page_name='2nd Responder Emp.';\n$scope.getAllGroups = function(){\n\tvar req_params = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_users_groups\",\n\t\t\t \"type\": \"get_users_groups\",\n\t\t\t \"content\": {\n\t\t\t\tgroup_name: \"EmployeeGroup\"\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t};\n\t$scope.common_request_handler(req_params);\n};\n$scope.getAllGroups();\n\n$scope.updateGroupWithUser = function(data){\n\tvar params = {};\n\tif(this.clicked){\n\t params = {\n\t app: {\n\t api: {\n\t api_mode: 'POST',\n\t api_type: 'ADD_ASSISTANT_INTO_GROUP',\n\t table: 'add_assistant_into_group',\n\t table_data: {\n\t user_id : data.id,\n\t group_id: \"Operator2\",\n\t phone: data.phone,\n\t type: \"ADD_INTO_GROUP\",\n\t screen: \"MANAGE_GROUP\"\n\t }\n\t }\n\t },\n\t platform: {},\n\t other_user: {}\n\t };\n\t console.log(params);\n\t $scope.common_request_handler(params);\n\t}else{\n\t params = {\n\t app: {\n\t api: {\n\t api_mode: 'POST',\n\t api_type: 'ADD_ASSISTANT_INTO_GROUP',\n\t table: 'add_assistant_into_group',\n\t table_data: {\n\t user_id : data.id,\n\t group_id: \"Operator2\",\n\t phone: data.phone,\n\t type: \"DELETE_FROM_GROUP\",\n\t screen: \"MANAGE_GROUP\"\n\t }\n\t }\n\t },\n\t platform: {},\n\t other_user: {}\n\t };\n\t console.log(params);\n\t $scope.common_request_handler(params);\n\t}\n}"},{"_id":"25_d","_rev":"4-893dad9bc22a978cfc1dd83a61d27cad","table":"template","name":"show_assistant_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"25_f","_rev":"3-42ee62af6c1092eee0a67b1699da464c","table":"template","name":"show_assistant_footer","html":"","js":""},{"_id":"25_h","_rev":"4-42312d16496ab33898ad44eed517a965","table":"template","name":"show_assistant_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"goPage(28);\"> <i class=\"icon ion-plus-round\"></i> </button>\n</ion-header-bar>\n\n","js":"$scope.page_name='List Assistants';\n$scope.config.from_page_id = 22;\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": $scope.group_info.group_id,\n\t\t\t\t\"group_users\": true\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n}\n$scope.getAssistants();"},{"_id":"25e95ff7524c950a712714dcf50963ab","_rev":"1-f065fbb7478f7faf19fdea980742f28b","table":"user_page","task_id":"51fb167ca7670096ea62b4e9f913e7e5","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1499057617028,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519194399666},{"_id":"25e95ff7524c950a712714dcf509bae7","_rev":"1-c8b3a7baa74655ce38bb0c0084a580a8","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519194401580},{"_id":"26","_rev":"1-d0ab0ae0c0e222a94203d8a1b7b223a4","table":"task_table","task_name":"Stumped Category","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"from_page_id":1499057617028,"parent_id":1499057617028,"header_template_id":"26_h","detail_template_id":"26_d","footer_template_id":"26_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-08T05:23:22.844Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"26_d","_rev":"6-d373216020b3bb6a0933e3c9ded7ae21","table":"template","name":"stumped_category_detail","html":"<ion-content class=\"has-header\" ng-cloak>\n<ion-refresher on-refresh=\"pull_down_refresh();\" ng-cloak></ion-refresher>\n<ion-list style=\"\" ng-cloak>\n<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\" class=\"item-remove-animate item-icon-right\" ng-cloak>\n<div class=\"item-data\" ng-click=\"subDetails(item)\" ng-cloak>\n<h2 ng-cloak>{{item.name}}</h2>\n<i class=\"icon ion-chevron-right icon-accessory\" ng-cloak>\n<span class=\"badge badge-assertive icon-badge\" ng-cloak>0 / 0</span>\n</i>\n</div>\n<item-swipe-pane class=\"left-pane\" ng-cloak>\n<button class=\"button button-calm\" ng-click=\"editDetails(item)\" ng-cloak>\n<div class=\"two-line-btn\" ng-cloak>\n<ion-icon class=\"ion-edit\" ng-cloak></ion-icon>\n<label ng-cloak>Edit</label>\n</div>\n</button>\n<button class=\"button button-assertive\"\nng-click=\"params = {\napp: {\napi: {\napi_type:\t'delete_detail',\ntable:\t\t'delete_detail',\ntable_data:\t{\nid:\titem.id\n}\n}\n},\nplatform: {},\nother_user: {}\n};\ncommon_request_handler(params);\" ng-cloak>\n<div class=\"two-line-btn\" ng-cloak>\n<ion-icon class=\"ion-trash-a\" ng-cloak></ion-icon>\n<label ng-cloak>Delete</label>\n</div>\n</button>\n<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\" ng-cloak>\n<div class=\"two-line-btn\" ng-cloak>\n<ion-icon class=\"ion-more\" ng-cloak></ion-icon>\n<label ng-cloak>More</label>\n</div>\n</button>\n</item-swipe-pane>\n</ion-item>\n</ion-list>\n</ion-content>","js":""},{"_id":"26_f","_rev":"3-7c4f0f8fc39c1d618adbd6ba83fea6ea","table":"template","name":"stumped_category_footer","html":"","js":""},{"_id":"26_h","_rev":"10-7b6617af5019ca5ac512e9f59a219863","table":"template","name":"stumped_category_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n\t$scope.sort = \"asc\";\n\t$scope.sortKey = \"name\";\n\t$scope.task_name = task_info.task_name;\n\t$scope.page_name = task_info.task_name;\n\t$scope.config.task_id = task_info.task_id;\n\tif($scope.config.page_id == $scope.config.from_page_id) $scope.config.from_page_id = task_info.from_page_id;\n\t$scope.getAllGroups = function(){\n\t \tvar req_params = {\t\n\t \t\tapp: {\n\t \t\t\tapi: {\n\t \t\t\t\t\"api_mode\": \"GET\",\n\t \t\t\t\t\"api_type\": \"get_users_groups\",\n\t \t\t\t\t\"type\": \"get_users_groups\",\n \t\t\t\t\t\"content\": {\n\t \t\t\t\t\tgroup_name: \"company\"\n\t \t\t\t\t}\n\t \t\t\t}\n\t \t\t},\n\t \t\tplatform: {},\n\t \t\tother_users: {}\n\t \t};\n\t \t$scope.common_request_handler(req_params);\n\t};\n\t$scope.getAllGroups();\n\t$scope.toggleDate = function() {\n\t\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t\t$scope.details = utilityService.sortByKey($scope.details, $scope.sortKey, $scope.sort);\n\t};\n\t$scope.subDetails = function(item){\n\t\t$scope.config.from_page_id = $scope.config.page_id;\n\t\t$scope.config.page_name = item.name;\n\t\t$scope.config.task_name = item.name;\n\t\t$scope.goPage(item.page_id);\n\t};\n\t$scope.editDetails = function(item){\n\t\tconsole.log(\"items >>>\", item);\n\t\t$scope.config.from_page_id = item.page_id;\n\t\t$scope.config.task_name = item.name;\n\t\t\n\t\t$scope.short_info = {\n\t\t\t\"detail_id\"\t\t\t: \titem.detail_id,\n\t\t\t\"message\"\t\t\t:\titem.name,\n\t\t\t\"page_id\"\t\t\t:\titem.page_id,\n\t\t\t\"task_name\"\t\t\t: \titem.name,\n\t\t\t\"display_if_empty\"\t:\titem.display_if_empty,\n\t\t\t\"type\"\t\t\t\t: \titem.type\n\t\t};\n\t\tconsole.log(\"$scope.short_info\", $scope.short_info);\n\t\tvar page_id = 15;\n\t\t$scope.goPage(page_id);\n\t};"},{"_id":"27","_rev":"1-2a52d5d90c9b1beab7d8989138f1b96d","table":"task_table","task_name":"Manage Timeout","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":27,"from_page_id":1502774414284,"parent_id":1502774414284,"header_template_id":"27_h","detail_template_id":"27_d","footer_template_id":"27_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-07T05:37:02.620Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"27_d","_rev":"3-52564cadbb203126b1d94febb1271e39","table":"template","name":"manage_timeout_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"27_f","_rev":"3-baaa5adb15699b6674e37f7118c4f0ac","table":"template","name":"manage_timeout_footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_ASSISTANTS',\n\t\t\t\t\t\t\t\ttable: 'add_assistants',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnumber:\t data.message,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"Add assistants\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"27_h","_rev":"3-36849f13a4b72c0e627d0c79bdc96181","table":"template","name":"manage_timeout_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.page_name='Manage Timeout';\n$scope.from_page_id = 1502774414284;\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": \"virtual_group\",\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n}\n$scope.getAssistants();"},{"_id":"28","_rev":"1-3ec3a84dd938db2294f4c44d642e1b73","table":"task_table","task_name":"Add Assistants","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":28,"from_page_id":2,"parent_id":["25"],"header_template_id":"28_h","detail_template_id":"28_d","footer_template_id":"28_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-23T12:47:32.818Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"28_d","_rev":"5-90c56bc7d44463ee4bbe6cde68b9741f","table":"template","name":"add_assistant_from_group_detail","html":"<ion-content class=\"content-stable\">\n <div class=\"list\">\n <ion-item ng-repeat=\"assistant in assistant_list track by $index\" type=\"item-text-wrap\">\n <div class=\"item-data\">\n <ion-checkbox class=\"userCheckBox\" ng-disabled=\"isDisabled\" ng-click=\"updateGroupWithUser(assistant)\" ng-model=\"clicked\">{{ assistant.first_name ? assistant.first_name + ' (' + assistant.phone + ')' : assistant.phone }}</ion-checkbox>\n </div>\n </ion-item>\n </div>\n</ion-content>","js":""},{"_id":"28_f","_rev":"3-81689029227bd997c1807d6437bca92a","table":"template","name":"add_assistant_from_group_detail_page_footer","html":"","js":""},{"_id":"28_h","_rev":"5-06a58468979c5865b5713907c9fe300a","table":"template","name":"add_assistant_from_group","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>\n\n","js":"$scope.page_name='Add Assistants';\n$scope.config.from_page_id = 25;\n$scope.selected_assistant = {\n\tuser_id : \"\",\n\tgroup_id: $scope.group_info.group_id\n};\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": \"\",\n\t\t\t\t\"group_users\": \"\"\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n};\n$scope.getAssistants();\n\n$scope.updateGroupWithUser = function(data){\n $scope.isDisabled = true;\n var params = {\n app: {\n api: {\n api_mode: 'POST',\n api_type: 'ADD_ASSISTANT_INTO_GROUP',\n table: 'add_assistant_into_group',\n table_data: {\n user_id : data.user_id,\n group_id: $scope.group_info.group_id\n }\n }\n },\n platform: {},\n other_user: {}\n };\n $scope.common_request_handler(params);\n};"},{"_id":"29","_rev":"1-9a7a70f69e7baaa1674faebfbeed0fbf","table":"task_table","task_name":"Sechduled Timeout Task","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":29,"from_page_id":2,"parent_id":["ce2611918feca7eff5a07a26367593b7"],"header_template_id":"29_h","detail_template_id":"29_d","footer_template_id":"29_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-28T05:51:37.749Z","type":{"public":"public"},"status":"true","category":"messages","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"29_d","_rev":"3-fbe2e23f8f2b3f4077d7fd0843350800","table":"template","name":"sechduled_timeout_template_detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"list\">\n\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t<span class=\"input-label\">Username</span>\n\t\t\t<textarea placeholder=\"sechduleData.message\" ng-model=\"sechduleData.message\"></textarea>\n\t\t</label>\n\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t<span class=\"input-lable\">Time</span>\n\t\t\t<div class=\"date-selector\" ion-datetime-picker seconds am-pm ng-model=\"sechduleData.sechduleDate\">\n\t\t\t\t<div class=\"sechdule-input\"><input id=\"datetime\" type=\"datetime-local\" ng-model=\"sechduleData.sechduleDate\" readonly/></div>\n\t\t\t\t<div class=\"sechdule-calander\"><i class=\"icon ion-calendar\"></i></div>\n\t\t\t</div>\n\t\t</label>\n\t\t<label class=\"item item-select item-light item-stacked-label\">\n\t\t\t\t<div class = \"input-label\">\n\t\t\t\t\tTimezone\n\t\t\t\t</div>\n\t\t\t\t<timezone-selector ng-model=\"sechduleData.timezone\"></timezone-selector>\n\t\t\t</label>\n\t\t<label class=\"item item-input\">\n\t\t\t<button type=\"button\" ng-click=\"updateSechdule(sechduleData);\" class=\"button button-block button-positive activated\">Update</button> \n\t\t</label>\n\t</div>\n</ion-content>","js":""},{"_id":"29_f","_rev":"3-e331b293fc0760c46e09186ebd048e4a","table":"template","name":"sechduled_timeout_template_footer","html":"","js":""},{"_id":"29_h","_rev":"3-a1195ed451d9d6d6218e0edcca1fb0c4","table":"template","name":"sechduled_timeout_template_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"deleteMessage();\" ng-if=\"showDeleteButton();\">\n\t <i class=\"icon ion-android-delete\"></i>\n\t</button>\n</ion-header-bar>","js":"$scope.page_name = 'Scheduled time';\n$scope.updateSechdule = function(sechduleData){\n\tif(sechduleData.task_id){\n\t\tsechduleData.type = \"new_message\";\n\t}else{\n\t\tsechduleData.type = \"old_message\";\n\t}\n\tvar params = {\n\t\t\tapp: {\n\t\t\t\tapi: {\n\t\t\t\t\tapi_type: 'UPDATE_SCHEDULE',\n\t\t\t\t\ttable: 'update_message_schedule',\n\t\t\t\t\ttable_data: sechduleData\n\t\t\t\t}\n\t\t\t},\n\t\t\tplatform: {},\n\t\t\tother_user: {}\n\t\t};\n\t$scope.common_request_handler(params);\n};\n\n$scope.showDeleteButton = function(){\n\tvar sechduleData = $scope.sechduleData;\n\tif(sechduleData.detail_id){\n\t\treturn true;\n\t}else{\n\t\treturn false\n\t}\n};\n\n$scope.deleteMessage = function(){\n\tvar selected_message = $scope.sechduleData;\n\tconsole.log(\"selected_message >>>\", selected_message);\n\tvar params = {\n\t\t\tapp: {\n\t\t\t\tapi: {\n\t\t\t\t\tapi_type: 'UPDATE_SCHEDULE',\n\t\t\t\t\ttable: 'delete_schedule_message',\n\t\t\t\t\ttable_data: selected_message\n\t\t\t\t}\n\t\t\t},\n\t\t\tplatform: {},\n\t\t\tother_user: {}\n\t\t};\n\t$scope.common_request_handler(params);\n};\n\n"},{"_id":"2_0","_rev":"1-31f17b8c8dc1ef15e83a97ab4b56800a","table":"task_table","task_name":"Categories","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_page_id":0,"page_id":2,"parent_id":0,"header_template_id":"2_h","detail_template_id":"2_d","footer_template_id":"2_f","timeout_id":null,"child_default_task_id":"cbf23f2101dfed59bdfe1b57f6bca9a5","child_default_task_name":"sub_category_task","date_created":"2017-03-15T10:29:39.453Z","type":{"public":"public"},"category":"Categories","additional_data_fn":"N/A","optional_data":"\"{}\"","required_data":"\"{}\"","offline_expiration_time":0,"display_if_empty":true,"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","status":1},{"_id":"2_1","_rev":"1-088fdcc8257ad6ada20f2ed74526bd26","table":"details","child_task_id":"","user_id":null,"from_user_id":null,"page_id":1000,"to_page_id":3,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"false","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"private":"private"},"user_incoming":{"message":"Books","note":"Books"},"watson_incoming":{"note":"Books","message":"Books"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[],"base_details":true},{"_id":"2_2","_rev":"1-cf000c565fa1b6c2c3f999ed4e9def83","table":"details","child_task_id":"","user_id":null,"from_user_id":null,"page_id":1000,"to_page_id":4,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"false","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"private":"private"},"user_incoming":{"message":"Places"},"watson_incoming":{},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[],"base_details":true},{"_id":"2_3","_rev":"1-827be46a49be55950a45e036363f5b6d","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":2,"to_page_id":5,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"My Chats"},"watson_incoming":{},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"createdAt":1493708443709,"page_ids":[2],"base_details":true},{"_id":"2_4","_rev":"1-649e73191f0b3cfc385ee9fdacab5472","table":"details","child_task_id":"","user_id":null,"from_user_id":null,"page_id":1000,"to_page_id":6,"synchronized":true,"processed":true,"status":true,"read":true,"display_if_empty":false,"due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"private":"private"},"user_incoming":{"message":"Chat","note":"Chat"},"watson_incoming":{"note":"Chat","message":"Chat"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":[],"base_details":true},{"_id":"2_d","_rev":"3-1b5f04948868a3e968777046c022075a","table":"template","name":"Detail","html":"<ion-content class=\"has-header\" on-swipe-up=\"watchSwipeUpEvent();\">\n\t<ion-refresher on-refresh=\"watchSwipeDownEvent();\"></ion-refresher>\n\t<template-render render-data=\"details\" logged-user=\"logged_user\" is-paginated=\"isPaginated\" page-type=\"categoryScreen\" sub-details=\"subDetails\" edit-details=\"editDetails\" request-handler=\"common_request_handler\" more-details=\"moreDetails\" ng-cloak></template-render>\n</ion-content>","js":""},{"_id":"2_f","_rev":"3-126cfd0120fe7e14d02bce9264b2bd4f","table":"template","name":"category_footer","html":"<ion-footer-bar ng-if=\"isSuperAdmin()\" keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"New Category\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"2_h","_rev":"3-bbe7e1ea659961cc290804ecf0fb4a18","table":"template","name":"Category","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"logout()\">\n\t <i class=\"icon ion-log-out\"></i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort = {\n\torder:\t\"asc\",\n\tkey:\t\"name\"\n};\n$scope.logged_user = myService.getUserInfo();\nthis.populatePageDetail = function(){\n\tvar detailData = myService.getDetail();\n\t$ionicScrollDelegate.scrollBottom();\n\t$scope.details = detailData ;\n};\nthis.populatePageDetail();"},{"_id":"31_0","_rev":"1-3065188d0f9dbd9a55e56cd28c58ead3","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Paradise Lost","page_id":31,"from_page_id":3,"parent_id":"3_0","header_template_id":"31_h","detail_template_id":"31_d","footer_template_id":"31_f","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_ids":{},"child_default_task_id":"ea1f86fe7bb573a145fb8e66ab08c49e","child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"23d5c58422026c68269cd6e9ac22ca4a"}},{"_id":"31_1","_rev":"1-6988530c1f3bf866d34fac6627232650","table":"details","child_task_id":"3_1","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":31,"to_page_id":31,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 5:17 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"mine message will be userincoming and the others will be wastonincoming?"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["31_0"],"base_details":true},{"_id":"31_2","_rev":"1-03115e9561e833f238a8416172b39959","table":"details","child_task_id":"3_1","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":31,"to_page_id":0,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 6:27 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Yes a field inside there called message"},"watson_incoming":{"message":"Yes a field inside there called message"},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["31_0"],"base_details":true},{"_id":"31_3","_rev":"1-294adb2e97db35ae3ab2837f7294c1a7","table":"details","child_task_id":"3_1","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":31,"to_page_id":0,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 7:11 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"So just field changes and HTML changes."},"watson_incoming":{"message":"So just field changes and HTML changes."},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["31_0"],"base_details":true},{"_id":"31_d","_rev":"3-3a2a7e25c0361907158e3600e7a78bf2","table":"template","name":"Message list","html":"<ion-content class=\"content-stable\"\n\t\t on-swipe-left=\"hideTime = false\"\n\t\t on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\"\n\t ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\">\n\t\t<div class=\"message\">\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t<span>{{ message.message }} <a href=\"javascript:void(0);\"><i class=\"icon ion-edit\"></i></a></span>\n\t\t</div>\n\t</div>\n</ion-content>","js":""},{"_id":"31_f","_rev":"3-0bc8e2039ed156652de6283bfa2e1b7a","table":"template","name":"","html":"<ion-content class=\"content-stable\"\n\t\t on-swipe-left=\"hideTime = false\"\n\t\t on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\"\n\t ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\">\n\t\t<div class=\"message\">\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t<span>{{ message.message }} &nbsp;<a href=\"javascript:void(0);\" ng-click=\"\"><i class=\"icon ion-edit\"></i></a></span>\n\t\t</div>\n\t</div>\n</ion-content>","js":""},{"_id":"31_h","_rev":"3-465e4ea07f3c102496d8335ed9e07f3d","table":"template","name":"","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"sortDetail()\">\n\t\t <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n\nvar task_info = myService.getTaskInfo();\n$scope.config.from_page_id = task_info.from_page_id;\n$scope.config.task_id = task_info.task_id;\n$scope.config.task_name = task_info.task_name;\n$scope.title = $scope.config.task_name;\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_id == $localStorage.user_id){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":\titem._id,\n\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\"message\":\t\tmessage,\n\t\t\t\"date_created\":\titem.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n\n$scope.add_msg_from_sub_category = function() {\n\tvar endpoint = \"http://platform.mybluemix.net/api_handler\" ,\n\t\tpostdata = {\n\t\t\t\"type\": \"add_detail\",\n\t\t\t\"body\": {\n\t\t\t\t\"user_id\":\t\t\t$localStorage.user_id,\n\t\t\t\t\"access_token\": \t$localStorage.access_token,\n\t\t\t\t\"note\": \t\t\t$scope.data.message,\n\t\t\t\t\"task_id\":\t\t \ttask_info.task_id,\n\t\t\t\t\"page_id\":\t\t\t$scope.config.page_id,\n\t\t\t\t\"from_page_id\":\t\t$scope.config.from_page_id\n\t\t\t}\n\t\t};\n\tutilityService.setBusy(true, \"Sending...\");\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {headers:headers};\n\t$http.post(endpoint, postdata, config).then(function(res) {\n\t\tvar res_data = res.data;\n\t\tconsole.log(\"res_data>>>\",res_data);\n\t\t\n\t\tvar msg_data = {\n\t\t\t\"detail_id\":\tres_data._id,\n\t\t\t\"type\":\t\t\t\"mine\",\n\t\t\t\"message\":\t\tres_data.user_incoming.message,\n\t\t\t\"date_created\":\tres_data.date_created\n\t\t};\n\t\t$scope.messages.push(msg_data);\n\t\tutilityService.setBusy(false);\n\t},function(err) {\n\t\tconsole.log(\"err>>>\",err);\n\t\tutilityService.setBusy(false);\n\t});\n\tdelete $scope.data.message;\n};"},{"_id":"32_0","_rev":"1-8214b24f7363641068b69ee5bc035d70","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"The Lean Startup","page_id":32,"from_page_id":3,"parent_id":"3_0","header_template_id":"31_h","detail_template_id":"31_d","footer_template_id":"31_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"32_1","_rev":"1-88870742d10eb2bafcb8556a7cea72c4","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":32,"to_page_id":0,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 5:17 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Chilling at my pool"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["32_0"],"base_details":true},{"_id":"32_2","_rev":"1-0f6dc381742dbeadf094ad1d786ada65","table":"details","child_task_id":"3_1","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":32,"to_page_id":32,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 6:27 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"If not, Mom can get me."},"watson_incoming":{"message":"If not, Mom can get me."},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["32_0"],"base_details":true},{"_id":"32_3","_rev":"1-2cc9da506d10926651b077bb46079040","table":"details","child_task_id":"3_1","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":32,"to_page_id":32,"from_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 7:11 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Want to have lunch and check out the office?"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["32_0"],"base_details":true},{"_id":"374453d0eb6ed32a7aa5b5221b4adc8d","_rev":"1-5a5bf6c4d5e9e363b9b20cce2e5c9545","table":"node","user_id":"fa1785333117ba7c06b9020a6d3c0079","node_name":"","ancestors":["5e065d16188c137965e86bdbc1ce6639","companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"8e3384889429685de23b3b4226f13685","parents":["5e065d16188c137965e86bdbc1ce6639"],"data_id_lineage":{"fa1785333117ba7c06b9020a6d3c0079":["company"],"data_id":["8e3384889429685de23b3b4226f13685","fa1785333117ba7c06b9020a6d3c0079","f1b5ed9577f69c6b131d94a46b39044f"],"f1b5ed9577f69c6b131d94a46b39044f":["company"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:50:46.561Z"}]},{"_id":"396e23462ed59551526f4b49cc10ce1e","_rev":"1-3601c826bceab12168c97a61bfcb3d1d","table":"node","user_id":"fa1785333117ba7c06b9020a6d3c0079","node_name":"","ancestors":["5e065d16188c137965e86bdbc1ce6639","companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"5a8d19cc4202e00037000030","parents":["5e065d16188c137965e86bdbc1ce6639"],"data_id_lineage":{"fa1785333117ba7c06b9020a6d3c0079":["company"],"data_id":["5a8d19cc4202e00037000030","fa1785333117ba7c06b9020a6d3c0079","f1b5ed9577f69c6b131d94a46b39044f"],"f1b5ed9577f69c6b131d94a46b39044f":["company"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T07:03:43.212Z"}]},{"_id":"3_0","_rev":"1-c70ac907350f54bb3a3c2a007c3d1107","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Books","page_id":3,"from_page_id":2,"to_page_id":0,"parent_id":"2_0","header_template_id":"3_h","detail_template_id":"3_d","footer_template_id":"3_f","timeout_id":null,"location_ids":{},"child_default_task_id":"80f37beb644eb8e365422286f051b5ca","child_default_task_name":"book_message_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"3_1","_rev":"1-2b5be08babc7794d508c7e392971d027","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":3,"to_page_id":31,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-03T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Paradise Lost"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["3_0"],"base_details":true},{"_id":"3_2","_rev":"1-60bfc5fb775fd7dceeed0db7b4e5632e","table":"details","child_task_id":"3_1","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":3,"to_page_id":32,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"The Lean Startup"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["3_0"],"base_details":true},{"_id":"3_d","_rev":"3-a50f08b8ec4179f222862c61618be42c","table":"template","name":"Book list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\" ng-repeat=\"item in details\" type=\"item-text-wrap\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"3_f","_rev":"3-133ea6ae7de6b51614aaff1f7bd0fb3a","table":"template","name":"Book list","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable:\t\t'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id,\n\t\t\t\t\t\t\t\t\tchild_task_id: config.child_task_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}}\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"ng-disabled=\"!data.message\">Submit</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"3_h","_rev":"3-e840bdb6da90583686b0829c8413466d","table":"template","name":"Books","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"sortDetail()\">\n\t\t <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort = {\n\torder:\t\"asc\",\n\tkey:\t\"name\"\n};var task_info = myService.getTaskInfo(); if($scope.config.page_id == $scope.config.from_page_id) $scope.config.from_page_id = task_info.from_page_id;"},{"_id":"3a29a7698c6ac52103bfc5d16202fa50","_rev":"2-ef23b06e88ead8e1995ee9191ccc1cec","table":"details","page_ids":[1519196075805],"child_task_id":null,"user_id":"5a8d17ab4202e0003700002c","from_user_id":{"user_id":"5a8d17ab4202e0003700002c","phone":919814698146,"firstname":919814698146,"lastname":"","type":{"public":"public"}},"page_id":1519196075805,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"operator_type":"0","date_created":"2018-02-21T06:54:36.224Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919814698146","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"3a29a7698c6ac52103bfc5d16202fa50","subject_id":null,"from_user_id":"919814698146"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196077724,"category":"message"},{"_id":"3a29a7698c6ac52103bfc5d16202ff03","_rev":"2-c9c7923b222ef7cb5d39cf3ce79a3466","table":"details","page_ids":[1519196075805],"child_task_id":null,"user_id":"5a8d17ab4202e0003700002c","from_user_id":{"user_id":"5a8d17ab4202e0003700002c","phone":919814698146,"firstname":919814698146,"lastname":"","type":{"public":"public"}},"page_id":1519196075805,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":1519196196224,"operator_type":"1","date_created":"2018-02-21T06:54:36.224Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919814698146","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"3a29a7698c6ac52103bfc5d16202ff03","subject_id":null,"from_user_id":"919814698146"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196077725,"category":"message"},{"_id":"3a29a7698c6ac52103bfc5d162030237","_rev":"2-9a91d6fd6f8b1503b6a07a142d88cc59","table":"details","page_ids":[1519196075805],"child_task_id":null,"user_id":"5a8d17ab4202e0003700002c","from_user_id":{"user_id":"5a8d17ab4202e0003700002c","phone":919814698146,"firstname":919814698146,"lastname":"","type":{"public":"public"}},"page_id":1519196075805,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:54:36.225Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":"919814698146","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"3a29a7698c6ac52103bfc5d162030237","subject_id":null,"from_user_id":"919814698146"},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"3a29a7698c6ac52103bfc5d162030237","subject_id":null,"from_user_id":"919814698146"}},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196076725,"category":"message"},{"_id":"3a29a7698c6ac52103bfc5d162031022","_rev":"1-2a851c40f20120ab9462e14833a7a0b9","table":"details","page_ids":[18,1519196075805],"child_task_id":null,"user_id":"5a8d17ab4202e0003700002c","from_user_id":{"user_id":"5a8d17ab4202e0003700002c","phone":919814698146,"firstname":919814698146,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":0,"to_page_id":0,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:54:36.225Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919814698146","message":"What day would you like to come in?","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196077225},{"_id":"3d1cc396c1ac728c8e190b66d0041a52","_rev":"1-d84a2de1c98e2bd1aac80acc69d1c393","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205826279},{"_id":"3d1cc396c1ac728c8e190b66d0ba0743","_rev":"1-61a26a7ab70ee0b9206bebf3e6cd71eb","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206143680},{"_id":"3d1cc396c1ac728c8e190b66d0ca16ff","_rev":"1-79fad8053f2c739900f2b17586b22fe9","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206177571},{"_id":"40a539c5c7d5e50b43d6ee15bfbfb323","_rev":"1-4814fdbcde3bda05ec1a23bc45f42067","table":"user_page","task_id":"51fb167ca7670096ea62b4e9f913e7e5","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1499057617028,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205833728},{"_id":"41_0","_rev":"1-315cbe3fee9e770d4eefc47ab07b8064","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Germany","page_id":41,"parent_id":"4_0","header_template_id":"41_h","detail_template_id":"41_d","footer_template_id":"41_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"41_1","_rev":"1-a5b78566b2715dbbff1c238f1dca8d73","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":41,"from_page_id":4,"to_page_id":41,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 5:17 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"It's cups mom wanted for Jimmy."},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["41_0"],"base_details":true},{"_id":"41_2","_rev":"1-353ee7167eb3b47ea67815ab684ea3e1","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":41,"to_page_id":41,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 6:27 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"If not, Mom can get me."},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["41_0"],"base_details":true},{"_id":"41_3","_rev":"1-abc6b9ab1dbdf77db11aaa4c7e1e3afe","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":41,"to_page_id":41,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","date_created":"1/26/2017 7:11 PM","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":""},"watson_incoming":{"message":"Want to have lunch and check out the office?"},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["41_0"],"base_details":true},{"_id":"41_d","_rev":"3-2e3bbe271ce2f89ec195e1c69857a355","table":"template","name":"Message list","html":"<ion-content class=\"content-stable\"\r\n\t\t on-swipe-left=\"hideTime = false\"\r\n\t\t on-swipe-right=\"hideTime = true\">\r\n\t<div ng-repeat=\"message in messages\"\r\n\t   ng-class=\"{other: message.type != myMsgTypeStr}\"\r\n\t   class=\"messages\">\r\n\t\t<div class=\"message\" >\r\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\r\n\t\t\t<span >{{ message.message }}</span>\r\n\t\t</div>\r\n\t\t<div class=\"datetime\">{{message.date_created}}</div>\r\n\t</div>\r\n</ion-content>","js":""},{"_id":"41_f","_rev":"3-0d4db89d8ac431715c6ee4b292b184fc","table":"template","name":"Travel Footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"41_h","_rev":"3-62ad7d2deb59c94e4cf1e7e373194033","table":"template","name":"","html":"<ion-header-bar class=\"bar-stable\">\r\n\t<button class=\"button button-icon\" ng-click=\"goPage(4)\">\r\n\t   <i class=\"icon ion-ios-arrow-back\">Back</i>\r\n\t</button>\r\n\t<h1 class=\"title\">{{title}}</h1>\r\n\t\r\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\r\n\t  <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\r\n\t</button>\r\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n$scope.data = {};\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_incoming.message != \"undefined\"){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.watson_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":\titem.detail_id,\n\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\"message\":\t\tmessage,\n\t\t\t\"date_created\":\titem.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n \n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n \n$scope.sendMsg\t=\tfunction(to,body){\n\tvar timestamp = new Date().getTime();\n\tconsole.log(\"to,body\", to,body, timestamp);\n};\n\n$scope.showSendMessage = function() {\n\t$scope.sendMsg($scope.parent_id,$scope.data.message); \n\n\tvar d = new Date();\n\tdt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\n\t$scope.messages.push({\n\t user_id:\t$scope.user_id,\n\t type:\t\t$scope.myMsgTypeStr,\n\t message:\t$scope.data.message,\n\t date_created: dt\n\t});\n\n\tdelete $scope.data.message;\n\t$ionicScrollDelegate.scrollBottom(true);\n};\n$scope.add_travel_detail_from_message = function(){\n\t var endpoint = \"http://platform.mybluemix.net/api_handler\";\n\t var postdata = {\n\t\t\"type\": \"add_detail\",\n\t\t\"body\": {\n\t\t\t\"user_id\":\t\t\t$localStorage.user_id,\n\t\t\t\"access_token\": \t$localStorage.access_token,\n\t\t\t\"task_id\": task_info.task_id,\n\t\t\t\"note\": $scope.data.message,\n\t\t\t\"page_id\": parseInt($scope.config.page_id),\n\t\t\t\"from_page_id\": parseInt($scope.config.from_page_id) \n\t\t}\n\t}; \n\t var headers = {\"Content-Type\": \"application/json\"};\n\t var config = {\"headers\":headers}; \n\t $http.post(endpoint, postdata, config).then(function(res) { \n\t var res_data = res.data; \n\t console.log(\"res_data>>>\",res_data);\n\t },function(err) {\n\t console.log(\"err>>>\",err);\n\t }); \n\t delete $scope.data.message; \n\t};"},{"_id":"42_0","_rev":"1-02a1c5e46ac5eb82ebcd9b2dd4b1b770","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"India","page_id":42,"parent_id":"4_0","header_template_id":"41_h","detail_template_id":"41_d","footer_template_id":"41_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"42_1","_rev":"1-b109cc5cbc719343557aa12d0f3593cc","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":42,"to_page_id":42,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{},"watson_incoming":{"message":"I have included a skeleton for local_data.js"},"date_created":"1/26/2017 5:17 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["42_0"],"base_details":true},{"_id":"42_2","_rev":"1-3b1ce0aeac59a8e9495d57c509b6a0c7","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":42,"to_page_id":42,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{},"watson_incoming":{"message":"“from_user”:{“image”:”img/file”}"},"date_created":"1/26/2017 6:27 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["42_0"],"base_details":true},{"_id":"42_3","_rev":"1-a5d9eff5729f84eb736fe7f990fa3331","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":42,"to_page_id":42,"child_page_id":"","synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Big_record table will be used in webapp?"},"watson_incoming":{},"date_created":"1/26/2017 7:11 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["42_0"],"base_details":true},{"_id":"47126a7129fa090a23a20d53c0025d87","_rev":"1-6320c2e16c7a0f32560d255b237b3569","table":"task_table","task_name":"text_message_task","page_id":1496985127509,"from_page_id":0,"parent_id":0,"user_id":"10067e83ad5cd3b4e099d534bc28d76d","header_template_id":"51_h","detail_template_id":"51_d","footer_template_id":"51_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-03-23T06:32:36.647Z","status":"true","category":"SMS","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":1,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"4_0","_rev":"1-119a4289b262fb525f43a39d26412037","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Places","page_id":4,"from_page_id":2,"parent_id":"2_0","header_template_id":"4_h","detail_template_id":"4_d","footer_template_id":"4_f","timeout_id":null,"location_ids":{},"child_default_task_id":"8e780e0db7b8301ae2fda36ceda7b987","child_default_task_name":"travel_message_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"4_1","_rev":"1-a8c917a00d899ed11687e63ff0824378","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":4,"to_page_id":41,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-03T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Germany"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["4_0"],"base_details":true},{"_id":"4_2","_rev":"1-3f1cd0d5374d9c812fc98aaf728f2c8c","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":4,"to_page_id":42,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-03T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"India"},"watson_incoming":{},"type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["4_0"],"base_details":true},{"_id":"4_d","_rev":"3-6228374f11b3194d0a5b6bebc87a9108","table":"template","name":"Travel list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\" ng-repeat=\"item in details\" type=\"item-text-wrap\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"4_f","_rev":"3-a72d4260c3610694eb73caf8c3697746","table":"template","name":"","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}}\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"4_h","_rev":"3-c9f0c80dde5d662ae90316898695b32b","table":"template","name":"Travel","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort.order = \"asc\";\n\t$scope.sort.key = \"name\";\nvar task_info = myService.getTaskInfo();\n//$scope.config.page_id;\n$scope.config.from_page_id = task_info.from_page_id;\n$scope.config.task_id = task_info.task_id;\n$scope.config.task_name = task_info.task_name;\nconsole.log(\"$scope.config>>>\", $scope.config);\n$scope.title = $scope.config.task_name;\n$scope.isAdmin = true;\nfunction getDetail() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar temp = {\n\t\t\t\"id\":\t\titem._id,\n\t\t\t\"name\":\t\titem.user_incoming.message,\n\t\t\t\"page_id\":\titem.to_page_id,\n\t\t\t\"active\":\titem.count.active,\n\t\t\t\"unread\":\titem.count.unread\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.details = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n}\ngetDetail();\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.details = utilityService.sortByKey($scope.details, $scope.sortKey, $scope.sort);\n};\n$scope.editUser = function(){\n\t$scope.config.from_page_id = 2;\n\t$scope.config.task_name = \"User edit\";\n\tvar page_id = 14;\n\t$scope.goPage(page_id);\n};\n$scope.subDetails = function(item){\n\t$scope.config.from_page_id = $scope.config.page_id;\n\t$scope.config.task_name = item.name;\n\t$scope.goPage(item.page_id);\n};\n$scope.add_detail_sub_from_category = function() {\n\t//console.log($scope.data.message);\n\tvar endpoint = \"https://platform.mybluemix.net/api_handler\";\n\tvar postdata = {\n\t\ttype: \"add_detail\",\n\t\tbody: {\n\t\t\tuser_id:\t\t$localStorage.user_id,\n\t\t\taccess_token: \t$localStorage.access_token,\n\t\t\tnote: \t\t\t$scope.data.message,\n\t\t\ttask_id:\t\ttask_info.child_task_id,\n\t\t\tpage_id:\t\t$scope.config.page_id,\n\t\t\tfrom_page_id:\t$scope.config.from_page_id\n\t\t}\n\t};\n\t//console.log(postdata);return true;\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {headers:headers};\n\t$http.post(endpoint, postdata, config).then(function(res) {\n\t\tvar res_data = res.data;\n\t\tconsole.log(\"res_data>>>\",res_data);\n\t\t\n\t},function(err) {\n\t\tconsole.log(\"err>>>\",err);\n\t});\n\tdelete $scope.data.message;\n};\n$scope.editDetails = function(item){\n\t$scope.config.from_page_id = $scope.config.page_id;\n\t$scope.config.task_name = item.name;\n\t$scope.short_info = {\n\t\t\"detail_id\": \titem.id,\n\t\t\"message\":\t \titem.name,\n\t\t\"task_id\":\t\t$scope.config.task_id,\n\t\t\"task_name\": \t$scope.config.task_name,\n\t\t\"task_status\":\t\"true\"\n\t};\n\tvar page_id = 15;\n\t$scope.goPage(page_id);\n};\n$scope.deleteDetails = function(item) {\n\tvar endpoint = \"https://platform.mybluemix.net/api_handler\";\n\tvar parameters = {\n\t\ttype : \"delete_detail\",\n\t\tbody: {\n\t\t\t_id:\t\t item.id,\n\t\t\taccess_token: $localStorage.access_token\n\t\t}\n\t};\n\t//console.log(parameters);return true;\n\tutilityService.setBusy(true, \"Processing...\");\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {params:parameters, headers:headers};\n\t$http.get(endpoint, config).then(function(res){\n\t\tif(res.data.status == 200){\n\t\t\t$scope.details.splice($scope.details.indexOf(item), 1);\n\t\t}\n\t\telse {\n\t\t\t\n\t\t}\n\t\tutilityService.setBusy(false);\n\t}, function(err_task){\n\t\tconsole.log('err_task', err_task);\n\t\tutilityService.setBusy(false);\n\t});\n};\n$scope.moreDetails = function(item) {\n\t$scope.config.from_page_id = $scope.config.page_id;\n\t$scope.config.task_name = item.name;\n\tvar page_id = 16;\n\t$scope.goPage(page_id);\n};"},{"_id":"4b8e310c44ca4e6e04aafd81594bfc5c","_rev":"3-12692519975c41dc0b7f7d6ad89ee72a","table":"template","name":"message_detail","html":"<ion-content class=\"content-stable\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\" on-swipe-up=\"watchSwipeUpEvent();\">\n\t<ion-refresher on-refresh=\"watchSwipeDownEvent();\"></ion-refresher>\n\t<template-render render-data=\"details\" logged-user=\"logged_user\" is-paginated=\"isPaginated\" page-type=\"oldMessageScreen\" sub-details=\"subDetails\" edit-details=\"editDetails\" request-handler=\"common_request_handler\" more-details=\"moreDetails\" ng-cloak></template-render>\n</ion-content>","js":""},{"_id":"4b8e310c44ca4e6e04aafd8159643699","_rev":"3-cfab91c77d2dd2ffbac4531b9373065c","table":"template","name":"category_footer","html":"<ion-footer-bar keyboard-attach class=\\\"bar-stable item-input-inset\\\">\\r\\n\\t<form name=\\\"sendMessageForm\\\" class=\\\"sendmessage\\\" ng-submit=\\\"add_detail_from_category()\\\" novalidate>\\r\\n\\t\\t<label class=\\\"item-input-wrapper\\\">\\r\\n\\t\\t\\t<input type=\\\"text\\\" placeholder=\\\"Type your message\\\" ng-model=\\\"data.message\\\" ng-change=\\\"updateTyping()\\\" on-return=\\\"closeKeyboard()\\\" on-focus=\\\"inputUp()\\\" on-blur=\\\"inputDown()\\\" />\\r\\n\\t\\t</label>\\r\\n\\t\\t<div class=\\\"footer-btn-wrap\\\">\\r\\n\\t\\t\\t<button type=\\\"submit\\\" class=\\\"button button-icon icon ion-ios-paperplane footer-btn\\\"\\r\\n\\t\\t\\t\\tng-disabled=\\\"!data.message\\\">\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t</form>\\r\\n</ion-footer-bar>","js":""},{"_id":"51","_rev":"1-dd61589ffffb97e11f8dc5bf14441202","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":51,"to_page_id":51,"from_page_id":5,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"Hello"},"watson_incoming":{},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["51_0"],"base_details":true},{"_id":"51_0","_rev":"1-5ad86e0595b454afdd77c678481323e9","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Adam","page_id":51,"parent_id":"5_0","header_template_id":"51_h","detail_template_id":"51_d","footer_template_id":"51_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"51_d","_rev":"3-3feb8340855ab05140db00cb9383a0dc","table":"template","name":"Message list","html":"<ion-content class=\"content-stable\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\" ng-class=\"{'other': message.type != myMsgTypeStr}\" class=\"messages\">\n\t\t<div class=\"message\" >\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t\t<span >{{ message.message }}</span>\n\t\t</div>\n\t\t<div class=\"datetime\" ng-if=\"message.type == myMsgTypeStr\">{{message.date_created}}</div></div>\n</ion-content>","js":""},{"_id":"51_f","_rev":"3-836748ad4816d0f79963b9d3447c0348","table":"template","name":"","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"showSendMessage()\" novalidate>\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button button-icon icon ion-ios-paperplane footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"51_h","_rev":"3-06df73b1774313b2d9865245ce5a65bd","table":"template","name":"","html":"<ion-header-bar class=\"bar-stable\">\n\r<button class=\"button button-icon\" ng-click=\"goPage(5)\">\n\r<i class=\"icon ion-ios-arrow-back\">Back</i>\n\r</button>\n\r<h1 class=\"title\">{{title}}</h1>\n\r<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\r<i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\r</button>\n\r</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n$scope.data = {};\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_incoming.message != \"undefined\"){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.watson_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":\titem.detail_id,\n\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\"message\":\t\tmessage,\n\t\t\t\"date_created\":\titem.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n \n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n \n$scope.sendMsg\t=\tfunction(to,body){\n\tvar timestamp = new Date().getTime();\n\tconsole.log(\"to,body\", to,body, timestamp);\n};\n\n$scope.showSendMessage = function() {\n\t$scope.sendMsg($scope.parent_id,$scope.data.message); \n\n\tvar d = new Date();\n\tdt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\n\t$scope.messages.push({\n\t user_id:\t$scope.user_id,\n\t type:\t\t\"mine\",\n\t message:\t$scope.data.message,\n\t date_created: dt\n\t});\n\tutilityService.setBusy(true, 'Processing....');\n\tvar url = \"http://play-timeout.mybluemix.net/chatbot?text=\" + $scope.data.message;\n\t$http.get(url).then(function(result){\n\t\tvar t = new Date();\n\t\tdtt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\t\t$scope.messages.push({\n\t\t user_id:\t$scope.user_id,\n\t\t type:\t\t\"other\",\n\t\t message:\tresult.data.data,\n\t\t date_created: dtt\n\t\t});\n\t\tutilityService.setBusy(false);\n\t}, function(err){\n\t\tconsole.log(\"error occured\", err);\n\t\tutilityService.setBusy(false);\n\t});\n\tdelete $scope.data.message;\n\t$ionicScrollDelegate.scrollBottom(true);\n};"},{"_id":"51fb167ca7670096ea62b4e9f913e7e5","_rev":"1-b9ee39308b5b5b94a57a99f83ee06e5c","table":"task_table","task_name":"Chat by Types","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1499057617028,"from_page_id":1502774414284,"parent_id":1502774414284,"header_template_id":"9c96192922ad00f4ba81f45415b4bb7d","detail_template_id":"e835b9f969469024d7b820feea29c131","footer_template_id":"8f035001d4d22a7c6170a57020787ca7","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":"63270362fc0bdbc55379f9512d088c56","child_default_task_name":"message_task","date_created":"2017-07-03T04:53:37.123Z","type":{},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":false,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"52","_rev":"1-bf1caca4eb60536b7ce389b3ae047a44","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":52,"from_page_id":5,"to_page_id":52,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"How are you?"},"watson_incoming":{},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["52_0"],"base_details":true},{"_id":"52_0","_rev":"1-94786df7d787e692747ffb959c6f598f","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Ben","page_id":52,"header_template_id":"51_h","detail_template_id":"51_d","footer_template_id":"51_f","timeout_id":null,"parent_id":"5_0","location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"53","_rev":"1-850a11fc09ac40fd510c3cf6044e7aba","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":53,"from_page_id":5,"to_page_id":53,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"Fine, thank you"},"watson_incoming":{},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["53_0"],"base_details":true},{"_id":"5397519ffd4adf26ba8ce18d656593a3","_rev":"1-ee9ba5d11e9b88d8b264d91c8b8e821e","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519103976655},{"_id":"5397519ffd4adf26ba8ce18d656f3a3e","_rev":"1-5a35982425a6d39cea90c9944aefeb58","table":"user_page","task_id":"14_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":14,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519104080776},{"_id":"5397519ffd4adf26ba8ce18d65705198","_rev":"1-1b55f7c4c2f31db7c2e612d7ec221290","table":"user_page","task_id":"5_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":5,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519104092437},{"_id":"53_0","_rev":"1-9f2c458a8d46f6ae10253a5649c67424","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Clemens","page_id":53,"parent_id":"5_0","header_template_id":"51_h","detail_template_id":"51_d","footer_template_id":"51_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"571460d4fb87a38ce5d6487e6fc74cc6","_rev":"1-1f4ab2793a0d7779f912ac81f96011d4","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519109996246},{"_id":"571460d4fb87a38ce5d6487e6fc75e3d","_rev":"1-f5267f8ae398935b5220f238cab9f2b9","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519109997046},{"_id":"5_0","_rev":"1-657d8eac3b77dd99f137edfd254f2f57","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Text","page_id":5,"from_page_id":2,"header_template_id":"5_h","detail_template_id":"5_d","footer_template_id":"5_f","parent_id":"2_0","timeout_id":null,"location_ids":{},"child_default_task_id":"47126a7129fa090a23a20d53c0025d87","child_default_task_name":"text_message_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"5_d","_rev":"3-5134e7d5a795e378ed7a5180d3a5683b","table":"template","name":"Text list","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\" ng-repeat=\"item in sms_details\" type=\"item-text-wrap\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"5_f","_rev":"3-18dc1219c71f738a93fb7e3b4fb48790","table":"template","name":"User list","html":"","js":""},{"_id":"5_h","_rev":"3-e39325ff4d02f7011975bf8bdeb4c34d","table":"template","name":"Chats","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\nif($scope.config.page_id == $scope.config.from_page_id) {\n\t$scope.config.from_page_id = task_info.from_page_id ;\n}\n$scope.sort = {order:\t\"asc\",key:\t\"name\"};\n\n$scope.populateChatDetail = function(){\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar temp = {\n\t\t\t\"id\":\t\titem._id,\n\t\t\t\"name\":\t\titem.user_incoming.message,\n\t\t\t\"from_user\": item.from_user_id,\n\t\t\t\"page_id\":\titem.to_page_id,\n\t\t\t\"active\":\titem.count.active,\n\t\t\t\"unread\":\titem.count.unread\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.sms_details = myDetail;\n\t$scope.sort.order = ($scope.sort.order == \"asc\")?\"desc\":\"asc\";\n\t$scope.sortDetail();\n};\n$scope.populateChatDetail();\n"},{"_id":"5a8d0ef04202e00037000021","_rev":"1-d9c92716074ebb0f0302354a1cc939d1","table":"details","page_ids":[26],"child_task_id":"47126a7129fa090a23a20d53c0025d87","user_id":"5a8d0ef04202e00037000020","from_user_id":{"user_id":"5a8d0ef04202e00037000020","phone":12145644732,"firstname":12145644732,"lastname":"","type":{"public":"public"}},"page_id":26,"from_page_id":2,"to_page_id":1519193840524,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:17:20.524Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":12145644732,"message":"12145644732"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519193840524,"myTimeout":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}}},{"_id":"5a8d0ef04202e00037000022","_rev":"1-857247ffb308330ff3ac6e8c21183533","table":"details","page_ids":[18],"child_task_id":null,"user_id":"5a8d0ef04202e00037000020","from_user_id":{"user_id":"5a8d0ef04202e00037000020","phone":12145644732,"firstname":12145644732,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":5,"to_page_id":1519193840525,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:17:20.525Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":12145644732,"message":"Reservation"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519193840525},{"_id":"5a8d0ef04202e00037000023","_rev":"1-bf38e2b0e59dca84387b701ce65ef940","table":"task_table","user_id":"5a8d0ef04202e00037000020","task_name":"12145644732","page_id":1519193840524,"from_page_id":26,"header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}},"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2018-02-21T06:17:20.645Z","category":"stumped","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":""},{"_id":"5a8d100b4202e00037000025","_rev":"1-f148cc4efcc6231c63ce4f4ef0c39fc2","table":"details","page_ids":[26],"child_task_id":"47126a7129fa090a23a20d53c0025d87","user_id":"5a8d100b4202e00037000024","from_user_id":{"user_id":"5a8d100b4202e00037000024","phone":917696016749,"firstname":917696016749,"lastname":"","type":{"public":"public"}},"page_id":26,"from_page_id":2,"to_page_id":1519194123591,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:22:03.591Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":917696016749,"message":"917696016749"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519194123591,"myTimeout":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}}},{"_id":"5a8d100b4202e00037000026","_rev":"1-3071fdb1214605400be0dec405e8136f","table":"details","page_ids":[18],"child_task_id":null,"user_id":"5a8d100b4202e00037000024","from_user_id":{"user_id":"5a8d100b4202e00037000024","phone":917696016749,"firstname":917696016749,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":5,"to_page_id":1519194123592,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:22:03.592Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":917696016749,"message":"Reservation"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519194123592},{"_id":"5a8d100b4202e00037000027","_rev":"1-7a1968a5271df5b70bc0a44cee5c8ff2","table":"task_table","user_id":"5a8d100b4202e00037000024","task_name":"917696016749","page_id":1519194123591,"from_page_id":26,"header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}},"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2018-02-21T06:22:03.642Z","category":"stumped","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":""},{"_id":"5a8d10684202e00037000028","_rev":"1-957efc17bb23fea76669051e4459f476","table":"users","long_url":"","access_token":"1512367299166.6gs5wh40wadlyvaniqi3jfko6r","security_level":1,"phone":919815098150,"virtual_phone":9815098150,"email":"mss.test@gmail.com","converstation_id":"","firstname":"test","lastname":"user","code":6501,"password":"","image":"","type":{"public":"public"},"data":{},"device_id":"","push_accepted":1,"device_token":{}},{"_id":"5a8d10684202e00037000029","_rev":"1-91181b63b4bded9192477a3a91cdad07","table":"details","page_ids":[26],"child_task_id":"47126a7129fa090a23a20d53c0025d87","user_id":"5a8d10684202e00037000028","from_user_id":{"user_id":"5a8d10684202e00037000028","phone":919815098150,"firstname":919815098150,"lastname":"","type":{"public":"public"}},"page_id":26,"from_page_id":2,"to_page_id":1519194216520,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:23:36.520Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":919815098150,"message":"919815098150"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519194216520,"myTimeout":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}}},{"_id":"5a8d10684202e0003700002a","_rev":"1-48cb2104cf01bae1dce97777981e996d","table":"details","page_ids":[18],"child_task_id":null,"user_id":"5a8d10684202e00037000028","from_user_id":{"user_id":"5a8d10684202e00037000028","phone":919815098150,"firstname":919815098150,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":5,"to_page_id":1519194216520,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:23:36.520Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":919815098150,"message":"Reservation"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519194216520},{"_id":"5a8d10684202e0003700002b","_rev":"1-8ed2d218169a5c2860ac63a67e7f9171","table":"task_table","user_id":"5a8d10684202e00037000028","task_name":"919815098150","page_id":1519194216520,"from_page_id":26,"header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}},"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2018-02-21T06:23:36.573Z","category":"stumped","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":""},{"_id":"5a8d17ab4202e0003700002c","_rev":"1-653d2d6cecf66bc9726771a0d2fc6210","table":"users","access_token":"1519196075770.6qne6xq5yv915802yq177j5rk9","firstname":919814698146,"lastname":"","phone":919814698146,"virtual_phone":919814698146,"security_level":0,"code":2533,"type":{"public":"public"},"data":{},"device_id":null,"push_accepted":0},{"_id":"5a8d17ab4202e0003700002d","_rev":"1-4bfa945b375f80e7c1527b2599178ac4","table":"details","page_ids":[26],"child_task_id":"47126a7129fa090a23a20d53c0025d87","user_id":"5a8d17ab4202e0003700002c","from_user_id":{"user_id":"5a8d17ab4202e0003700002c","phone":919814698146,"firstname":919814698146,"lastname":"","type":{"public":"public"}},"page_id":26,"from_page_id":2,"to_page_id":1519196075805,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:54:35.805Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":919814698146,"message":"919814698146"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519196075805,"myTimeout":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}}},{"_id":"5a8d17ab4202e0003700002e","_rev":"1-879ba33b253d8cc9dc329a0070625fa3","table":"details","page_ids":[18],"child_task_id":null,"user_id":"5a8d17ab4202e0003700002c","from_user_id":{"user_id":"5a8d17ab4202e0003700002c","phone":919814698146,"firstname":919814698146,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":5,"to_page_id":1519196075805,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T06:54:35.805Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":919814698146,"message":"Reservation"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519196075805},{"_id":"5a8d17ab4202e0003700002f","_rev":"1-029b60a331d44d5d25fae280ab6bab7f","table":"task_table","user_id":"5a8d17ab4202e0003700002c","task_name":"919814698146","page_id":1519196075805,"from_page_id":26,"header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}},"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2018-02-21T06:54:35.840Z","category":"stumped","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":""},{"_id":"5a8d19cc4202e00037000030","_rev":"1-d69016403a3da7ce3f4bf018885ae971","table":"users","access_token":"1519196620556.j1gthdbr3bhrvi4e5irzcwhfr","firstname":919818898188,"lastname":"","phone":919818898188,"virtual_phone":919818898188,"security_level":0,"code":4673,"type":{"public":"public"},"data":{"fa1785333117ba7c06b9020a6d3c0079":{"context":{"first_name":919818898188,"last_name":"User","phone":919818898188,"timeStamp":1519196620645,"conversation_id":"d74b73ce-6ef9-4f48-b64f-9c19279e18ed","system":{"dialog_stack":[{"dialog_node":"slot_2_1503759913836","state":"in_progress"}],"dialog_turn_counter":1,"dialog_request_counter":1,"_node_output_map":{}}}}},"device_id":null,"push_accepted":0},{"_id":"5a8d19cc4202e00037000031","_rev":"1-0a99c9ebbdc2e79cb2f45fda8d0ce163","table":"details","page_ids":[26],"child_task_id":"47126a7129fa090a23a20d53c0025d87","user_id":"5a8d19cc4202e00037000030","from_user_id":{"user_id":"5a8d19cc4202e00037000030","phone":919818898188,"firstname":919818898188,"lastname":"","type":{"public":"public"}},"page_id":26,"from_page_id":2,"to_page_id":1519196620586,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T07:03:40.586Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":919818898188,"message":"919818898188"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519196620586,"myTimeout":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}}},{"_id":"5a8d19cc4202e00037000032","_rev":"1-5f1e9ac941a2e8c04e1c02efdb643ef6","table":"details","page_ids":[18],"child_task_id":null,"user_id":"5a8d19cc4202e00037000030","from_user_id":{"user_id":"5a8d19cc4202e00037000030","phone":919818898188,"firstname":919818898188,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":5,"to_page_id":1519196620587,"synchronized":0,"processed":1,"status":1,"read":1,"display_if_empty":"true","date_created":"2018-02-21T07:03:40.587Z","offline_expiration_seconds":0,"priority":1,"category":"stumped","type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":919818898188,"message":"Reservation"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1519196620587},{"_id":"5a8d19cc4202e00037000033","_rev":"1-e3b288d3ac64746fad6e20200da8fe8d","table":"task_table","user_id":"5a8d19cc4202e00037000030","task_name":"919818898188","page_id":1519196620586,"from_page_id":26,"header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}},"location_ids":{},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2018-02-21T07:03:40.645Z","category":"stumped","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":""},{"_id":"5d005c8c12b0b1a5f1bd9fa9b9980b40","_rev":"1-e20d0e01b9debd1f209d239295a75d7a","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519039094567},{"_id":"5e065d16188c137965e86bdbc1ce6639","_rev":"1-012b70d15b524db1efeb99ac2bbb113d","table":"node","user_id":"f1b5ed9577f69c6b131d94a46b39044f","node_name":"","ancestors":["companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"fa1785333117ba7c06b9020a6d3c0079","parents":["companyf1b5ed9577f69c6b131d94a46b39044f"],"data_id_lineage":{"f1b5ed9577f69c6b131d94a46b39044f":["company"],"data_id":["fa1785333117ba7c06b9020a6d3c0079","f1b5ed9577f69c6b131d94a46b39044f"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:18:59.299Z"}]},{"_id":"5ed9153c7b0d4dba039060edc7dd09ae","_rev":"4-a8283b032b22d78773022bb728dfce9e","table":"details","child_task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":1502774414284,"from_page_id":1,"to_page_id":1499057617028,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":false,"date_created":"2017-07-03T04:53:37.028Z","offline_expiration_seconds":0,"priority":1,"type":{},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Chat by Types","message":"Chat by Types"},"watson_incoming":{"message":"Watson response to : MasterBot","response":{}},"template":{"details":{"_id":"2_d","_rev":"5-914e7d169e79397d5c9ecf385640c9b6","table":"template","name":"Detail","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t\t <i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t </i>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapi_type:\t'delete_detail',\n\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"createdAt":1499057617028,"page_ids":[1502774414284],"base_details":true},{"_id":"5fb3dc9a8011fa0f5c2cecebcab96a2e","_rev":"3-6225346c0901d3c2c188f2f6639ed766","table":"template","name":"edit_detail_short_form_header","html":"<ion-header-bar class=\"bar-stable\"><button class=\"button button-icon\" ng-click=\"goPage(2)\"><i class=\"icon ion-ios-arrow-back\">Back</i></button><h1 class=\"title\">{{title}}</h1></ion-header-bar>","js":"$scope.title='Edit screen'"},{"_id":"61_0","_rev":"1-abee51e5426b3a529313907f17136257","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Adam","page_id":61,"parent_id":"6_0","header_template_id":"61_h","detail_template_id":"61_d","footer_template_id":"61_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"61_1","_rev":"1-501632177adbca1dce84463383cdca8a","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":61,"from_page_id":6,"to_page_id":61,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{},"watson_incoming":{"message":"the task that added these had a child_task_default \"add a detail\""},"date_created":"1/26/2017 5:17 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["61_0"],"base_details":true},{"_id":"61_2","_rev":"1-6ed5958207247cf89e3d2c6ea3dd7b0e","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":61,"from_page_id":6,"to_page_id":61,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{},"watson_incoming":{"message":"I will give response a piece at a time"},"date_created":"1/26/2017 6:27 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["61_0"],"base_details":true},{"_id":"61_3","_rev":"1-a44e94af5aa73d2821311b9f7fb6b970","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":61,"from_page_id":6,"to_page_id":61,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"you can add category more?"},"watson_incoming":{},"date_created":"1/26/2017 7:11 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["61_0"],"base_details":true},{"_id":"61_d","_rev":"3-89325c624c867fa436039c95da965c7f","table":"template","name":"SMS list","html":"<ion-content class=\"content-stable\"\n\r on-swipe-left=\"hideTime = false\"\n\r on-swipe-right=\"hideTime = true\">\n\r<div ng-repeat=\"message in messages\"\n\r ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\">\n\r<div class=\"message\" >\n\r<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\r<span >{{ message.message }}</span>\n\r</div>\n\r<div class=\"datetime\">{{message.date_created}}</div>\n\r</div>\n\r</ion-content>","js":""},{"_id":"61_f","_rev":"3-13a5ef0a59e30eb9f0b75a541690c427","table":"template","name":"text message","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"61_h","_rev":"3-67c2b9fc06b3715264de09e546cf2133","table":"template","name":"SMS list","html":"<ion-header-bar class=\"bar-stable\">\r\n\t<button class=\"button button-icon\" ng-click=\"goPage(6)\">\r\n\t   <i class=\"icon ion-ios-arrow-back\">Back</i>\r\n\t</button>\r\n\t<h1 class=\"title\">{{title}}</h1>\r\n\t\r\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\r\n\t  <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\r\n\t</button>\r\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_incoming.message != \"undefined\"){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}else {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.watson_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":item._id,\n\t\t\t\"type\":msg_type,\n\t\t\t\"message\":message,\n\t\t\t\"date_created\":item.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n\n$scope.sendMsg=function(to,body){\n\tvar timestamp = new Date().getTime();\n};\n\n$scope.showSendMessage = function() {\n\t$scope.sendMsg($scope.parent_id,$scope.data.message); \n\tvar d = new Date();\n\tdt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\t$scope.messages.push({\n\t\tuser_id:$scope.user_id,\n\t\ttype:$scope.myMsgTypeStr,\n\t\tmessage:$scope.data.message,\n\t\tdate_created: dt\n\t});\n\tdelete $scope.data.message;\n\t$ionicScrollDelegate.scrollBottom(true);\n};\n\n$scope.add_sms_detail_from_message = function(){\n\tvar endpoint = 'http://platform.mybluemix.net/api_handler';\n\tvar postdata = {\n\t\t\"type\": \"add_detail\",\n\t\t\"body\": {\n\t\t\t\"user_id\" : $localStorage.user_id,\n\t\t\t\"access_token\": $localStorage.access_token, \n\t\t\t\"task_id\": task_info.task_id,\n\t\t\t\"note\": $scope.data.message,\n\t\t\t\"page_id\": $scope.config.page_id,\n\t\t\t\"from_page_id\": $scope.config.from_page_id\n\t\t}\n\t};\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {\"headers\":headers}; \n\t$http.post(endpoint, postdata, config).then(function(res) { \n\t\tvar res_data = res.data; \n\t\tconsole.log(\"res_data>>>\",res_data);\n\t},function(err) {\n\t console.log(\"err>>>\",err);\n\t}); \n\tdelete $scope.data.message; \n};"},{"_id":"61ab9cc3d11cc60f19ac99615f90b2fd","_rev":"3-ec175c8d1b7e50c3d88ebc87d8ee2064","table":"template","name":"edit_user_header","html":"<ion-header-bar class=\"bar-stable\"><button class=\"button button-icon\" ng-click=\"goPage(2)\"><i class=\"icon ion-ios-arrow-back\">Back</i></button><h1 class=\"title\">{{title}}</h1></ion-header-bar>","js":"$scope.title = 'User edit screen';"},{"_id":"62_0","_rev":"1-e96fdfe897c171b89bed9ede1ae71a0e","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Ben","page_id":62,"parent_id":"6_0","header_template_id":"61_h","detail_template_id":"61_d","footer_template_id":"61_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"active","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"62_1","_rev":"1-7c4bd4307d20f33726baf0eb48b4e7c3","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":62,"from_page_id":6,"to_page_id":62,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"page to page traversal from data as before"},"watson_incoming":{},"date_created":"1/26/2017 5:17 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["62_0"],"base_details":true},{"_id":"62_2","_rev":"1-ffc247395b4edd0bd2c4852759c1df9c","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":62,"from_page_id":6,"to_page_id":62,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"obviously you will not know first name last name "},"watson_incoming":{},"date_created":"1/26/2017 6:27 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["62_0"],"base_details":true},{"_id":"62_3","_rev":"1-b19eb67aa2b4afbb5013591a10124798","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":62,"from_page_id":6,"to_page_id":62,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{},"watson_incoming":{"message":"Send message is for note?"},"date_created":"1/26/2017 7:11 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["62_0"],"base_details":true},{"_id":"62f50a80a4e7ec6467e9d6f7b1692fcf","_rev":"1-17502379caa5504a27682f85f9094402","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206780906},{"_id":"62f50a80a4e7ec6467e9d6f7b1f3adc7","_rev":"1-143750dc1a68d9ec35b7a7bd7ab67e04","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519207198066},{"_id":"63270362fc0bdbc55379f9512d088c56","_rev":"1-aa7152951ec05eb05ce4b4343480f508","table":"task_table","task_name":"message_task","page_id":769038,"from_page_id":769038,"parent_id":"cbf23f2101dfed59bdfe1b57f6bca9a5","user_id":"23d5c58422026c68269cd6e9ac22ca4a","header_template_id":"9c96192922ad00f4ba81f45415a028c8","detail_template_id":"4b8e310c44ca4e6e04aafd81594bfc5c","footer_template_id":"8f035001d4d22a7c6170a57020635378","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-04-03T11:02:39.970Z","status":"true","category":"message","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":1,"display_if_empty":true,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"23d5c58422026c68269cd6e9ac22ca4a"}},{"_id":"63_0","_rev":"1-758ee2037a725f2d817629f1644941aa","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Clemens","page_id":63,"parent_id":"6_0","header_template_id":"61_h","detail_template_id":"61_d","footer_template_id":"61_f","timeout_id":null,"location_ids":{},"child_default_task_id":null,"child_default_task_name":"task_w_create_task","date_created":"2017-03-15T10:29:39.453Z","category":"Book","status":"active","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"63_1","_rev":"1-877885f5be094230ebe05dc79bfe5632","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":63,"from_page_id":6,"to_page_id":63,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"I have included a skeleton for local_data.js"},"watson_incoming":{},"date_created":"1/26/2017 5:17 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["63_0"],"base_details":true},{"_id":"63_2","_rev":"1-98e874322db7c5e051cffe7e7bad2af5","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":63,"from_page_id":6,"to_page_id":63,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{},"watson_incoming":{"message":"“from_user”:{“image”:”img/file”}"},"date_created":"1/26/2017 6:27 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["63_0"],"base_details":true},{"_id":"63_3","_rev":"1-801bc01c5434f595f567fb405f20c487","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":63,"from_page_id":6,"to_page_id":63,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Big_record table will be used in webapp?"},"watson_incoming":{},"date_created":"1/26/2017 7:11 PM","type":{"public":"public"},"timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["63_0"],"base_details":true},{"_id":"6_0","_rev":"1-0929680795830da2977d256b1fcc2135","table":"task_table","user_id":"23d5c58422026c68269cd6e9ac22ca4a","task_name":"Chat","page_id":6,"from_page_id":2,"header_template_id":"6_h","detail_template_id":"6_d","footer_template_id":"6_f","parent_id":"2_0","timeout_id":null,"location_ids":{},"child_default_task_id":"ea1f86fe7bb573a145fb8e66ab08c49e","child_default_task_name":"chat_message_task","date_created":"2017-03-15T10:29:39.453Z","category":"Chat","status":1,"additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":1,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"6_1","_rev":"1-382d3769116fa2b5bfeb3f1cbcda213f","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":6,"from_page_id":2,"to_page_id":61,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-01T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"type":{"public":"public"},"user_incoming":{"message":"Adam"},"watson_incoming":{},"date_created":"1/26/2017 5:05 PM","timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"all_children":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["6_0"],"base_details":true},{"_id":"6_2","_rev":"1-1a29e3a920eae2b7359b3be0f43e25f6","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":6,"to_page_id":62,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Ben"},"watson_incoming":{},"date_created":"1/26/2017 6:06 PM","type":{"public":"public"},"image":"img/adam.jpg","timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["6_0"],"base_details":true},{"_id":"6_3","_rev":"1-f8c20363a280431065dc7201039f71b6","table":"details","child_task_id":"","user_id":"23d5c58422026c68269cd6e9ac22ca4a","from_user_id":"9092618242e9895441bc9e978fa15098","page_id":6,"to_page_id":63,"synchronized":"true","processed":"true","status":"active","read":"true","display_if_empty":"true","due_date":"2017-03-02T04:47:28.084Z","offline_expiration_seconds":3600,"priority":1,"user_incoming":{"message":"Clemens"},"watson_incoming":{},"date_created":"1/26/2017 7:07 PM","type":{"public":"public"},"image":"img/adam.jpg","timeout":{},"user_calculated":{},"location":[],"defaults":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"page_ids":["6_0"],"base_details":true},{"_id":"6_d","_rev":"3-768f595470745b913ef7194a9b2d8523","table":"template","name":"User list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\"\n\t\t\tng-repeat=\"item in chat_details\" type=\"item-text-wrap\" ng-if=\"check_if_valid_user(item);\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"6_f","_rev":"3-352e934b4036960adc44f8ba82e2f8af","table":"template","name":"","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"params = {\n\t\t\t\t\t\tapi_type:\t'ADD_DETAIL',\n\t\t\t\t\t\ttable:\t\t'add_detail',\n\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\tfrom_page_id: config.from_page_id,\n\t\t\t\t\t\t\tchild_task_id: config.child_task_id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}}\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"6_h","_rev":"3-3fdd6c76fb68b2804ad4e9e296edfc4a","table":"template","name":"Chat screen","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"goSearch()\">\n\t\t <i class=\"icon ion-search\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"sortDetail()\">\n\t\t <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort = {\n\torder:\t\"asc\",\n\tkey:\t\"name\"\n};\nvar logged_user = myService.getUserInfo();\n$scope.populateChatDetail = function(){\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar temp = {\n\t\t\t\"id\":\t\titem._id,\n\t\t\t\"name\":\t\titem.user_incoming.message,\n\t\t\t\"from_user\": item.from_user_id,\n\t\t\t\"page_id\":\titem.to_page_id,\n\t\t\t\"active\":\titem.count.active,\n\t\t\t\"unread\":\titem.count.unread\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.chat_details = myDetail;\n\t$scope.sort.order = ($scope.sort.order == \"asc\")?\"desc\":\"asc\";\n\t$scope.sortDetail();\n};\n$scope.populateChatDetail();\n\n$scope.check_if_valid_user = function(item){\n\tif(item.from_user){\n\t\tif(item.from_user == logged_user.user_id){\n\t\t\treturn true ;\n\t\t}else{\n\t\t\treturn false ;\n\t\t}\n\t}\n};"},{"_id":"6a381f8f96a0ddb744316797287d2a9e","_rev":"1-892c78cfdf504b4af85a4352a6e0bb8e","table":"user_page","task_id":"25_2","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1518090841525,"synchronized":1,"status":0,"date_updated":null,"parent_id":22,"ancestors":[22,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205167087},{"_id":"7045e9c79bbd09de0f141ec1a8ae8f86","_rev":"1-5157b6a7b6d35b54263c243dc4b6f148","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205826905},{"_id":"757193c6077ab39d18c080b1c27c1a0d","_rev":"1-7fb9710b00fe3767deb480236df934fe","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206169007},{"_id":"7c1dc1ac997a9d5408af590f2ba1c9fb","_rev":"2-f7cc4acc979e3816d03ad8d957f386b1","table":"details","page_ids":[1519193840524],"child_task_id":null,"user_id":"5a8d0ef04202e00037000020","from_user_id":{"user_id":"5a8d0ef04202e00037000020","phone":12145644732,"firstname":12145644732,"lastname":"","type":{"public":"public"}},"page_id":1519193840524,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"operator_type":"0","date_created":"2018-02-21T06:17:20.887Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"12145644732","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2ba1c9fb","subject_id":null,"from_user_id":"12145644732"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519193842387,"category":"message"},{"_id":"7c1dc1ac997a9d5408af590f2ba1d614","_rev":"2-168d3dfe68392bfe71d1e324c8a992b6","table":"details","page_ids":[1519193840524],"child_task_id":null,"user_id":"5a8d0ef04202e00037000020","from_user_id":{"user_id":"5a8d0ef04202e00037000020","phone":12145644732,"firstname":12145644732,"lastname":"","type":{"public":"public"}},"page_id":1519193840524,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":1519193960887,"operator_type":"1","date_created":"2018-02-21T06:17:20.887Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"12145644732","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2ba1d614","subject_id":null,"from_user_id":"12145644732"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519193842387,"category":"message"},{"_id":"7c1dc1ac997a9d5408af590f2ba1d96c","_rev":"2-e6e390f3989131a59628d838564354ef","table":"details","page_ids":[1519193840524],"child_task_id":null,"user_id":"5a8d0ef04202e00037000020","from_user_id":{"user_id":"5a8d0ef04202e00037000020","phone":12145644732,"firstname":12145644732,"lastname":"","type":{"public":"public"}},"page_id":1519193840524,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:17:20.888Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":"12145644732","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2ba1d96c","subject_id":null,"from_user_id":"12145644732"},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2ba1d96c","subject_id":null,"from_user_id":"12145644732"}},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519193841388,"category":"message"},{"_id":"7c1dc1ac997a9d5408af590f2ba1dd36","_rev":"1-a2039f7625bd31365e507d47bdf807e6","table":"details","page_ids":[18,1519193840524],"child_task_id":null,"user_id":"5a8d0ef04202e00037000020","from_user_id":{"user_id":"5a8d0ef04202e00037000020","phone":12145644732,"firstname":12145644732,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":0,"to_page_id":0,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:17:20.888Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"12145644732","message":"What day would you like to come in?","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519193841888},{"_id":"7c1dc1ac997a9d5408af590f2bb66091","_rev":"1-bd9d971d085c8dfd48916db77a884d83","table":"node","user_id":"fa1785333117ba7c06b9020a6d3c0079","node_name":"","ancestors":["5e065d16188c137965e86bdbc1ce6639","companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"0a9b50963bc76018418ffd857d551ced","parents":["5e065d16188c137965e86bdbc1ce6639"],"data_id_lineage":{"fa1785333117ba7c06b9020a6d3c0079":["company"],"data_id":["0a9b50963bc76018418ffd857d551ced","fa1785333117ba7c06b9020a6d3c0079","f1b5ed9577f69c6b131d94a46b39044f"],"f1b5ed9577f69c6b131d94a46b39044f":["company"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T06:20:39.157Z"}]},{"_id":"7c1dc1ac997a9d5408af590f2be4b3e4","_rev":"2-ad579410296d5dfac856327cae1488d9","table":"details","page_ids":[1519194216520],"child_task_id":null,"user_id":"5a8d10684202e00037000028","from_user_id":{"user_id":"5a8d10684202e00037000028","phone":919815098150,"firstname":919815098150,"lastname":"","type":{"public":"public"}},"page_id":1519194216520,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"operator_type":"0","date_created":"2018-02-21T06:23:36.762Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919815098150","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2be4b3e4","subject_id":null,"from_user_id":"919815098150"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194218262,"category":"message"},{"_id":"7c1dc1ac997a9d5408af590f2be4c250","_rev":"2-acb57add3e4603df384e4d61659b3207","table":"details","page_ids":[1519194216520],"child_task_id":null,"user_id":"5a8d10684202e00037000028","from_user_id":{"user_id":"5a8d10684202e00037000028","phone":919815098150,"firstname":919815098150,"lastname":"","type":{"public":"public"}},"page_id":1519194216520,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":1519194336762,"operator_type":"1","date_created":"2018-02-21T06:23:36.762Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919815098150","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2be4c250","subject_id":null,"from_user_id":"919815098150"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194218262,"category":"message"},{"_id":"7c1dc1ac997a9d5408af590f2be4c981","_rev":"2-81285701197586b46ad4d255b4a2b55b","table":"details","page_ids":[1519194216520],"child_task_id":null,"user_id":"5a8d10684202e00037000028","from_user_id":{"user_id":"5a8d10684202e00037000028","phone":919815098150,"firstname":919815098150,"lastname":"","type":{"public":"public"}},"page_id":1519194216520,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:23:36.762Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":"919815098150","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2be4c981","subject_id":null,"from_user_id":"919815098150"},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"7c1dc1ac997a9d5408af590f2be4c981","subject_id":null,"from_user_id":"919815098150"}},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194217263,"category":"message"},{"_id":"7c1dc1ac997a9d5408af590f2be4ce4b","_rev":"1-7bafbb91c192902f2dba6360365c5d50","table":"details","page_ids":[18,1519194216520],"child_task_id":null,"user_id":"5a8d10684202e00037000028","from_user_id":{"user_id":"5a8d10684202e00037000028","phone":919815098150,"firstname":919815098150,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":0,"to_page_id":0,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:23:36.762Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919815098150","message":"What day would you like to come in?","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194217762},{"_id":"7d00388f8bf27f8915de40d92d2c6668","_rev":"3-3e65951b852811c20d1cded7417d954e","table":"template","name":"edit_footer","html":"","js":""},{"_id":"7e58833cce388df9bcdcff6a997b6b7a","_rev":"1-c1ce451752c31a889e2cad70243ce4db","table":"user_page","task_id":"25_1","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1518090813204,"synchronized":1,"status":0,"date_updated":null,"parent_id":22,"ancestors":[22,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205073815},{"_id":"7f952411705bc8641dcc5851ce7f8f69","_rev":"1-b1efd955f0f007a89a09ca10b17bba96","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519196719611},{"_id":"80f37beb644eb8e365422286f051b5ca","_rev":"1-558f497d0e7fc4b2882c6022e932b2b4","table":"task_table","task_name":"book_message_task","page_id":1497616619194,"from_page_id":0,"parent_id":"3_0","user_id":"23d5c58422026c68269cd6e9ac22ca4a","header_template_id":"31_h","detail_template_id":"31_d","footer_template_id":"31_f","timeout_id":null,"location_id":{"9813b20055279c8a89664542666bc176":{"_id":"9813b20055279c8a89664542666bc176","_rev":"1-cefeb42a72cda445c31fe7e224a945f8","location_name":"Philadelphia","location_type":"City","location_data":{"lat":40.0046684,"lon":-75.258117,"dist":0,"web":"https://en.wikipedia.org/wiki/Philadelphia"}}},"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-03-28T06:33:44.904Z","status":"true","category":"Book","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"87f2a4c1dd7e6705da18c2b0da4c047b","_rev":"3-8209f3d97f353e1be5fa39109cfaee16","table":"template","name":"edit_detail","html":"<ion-content class=\"content-stable\"><form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"updateForm()\" novalidate><div class=\"input-fields\"><ion-list style=\"\"><input type=\"text\" name=\"first\" value=\"\" /></ion-list> \t\t\t<ion-list style=\"\"> \t\t\t<input type=\"text\" name=\"first\" value=\"\" /></ion-list> \t\t</div> \t\t<div class=\"submit-button\"> \t\t\t<input type=\"submit\" value=\"Update\" name=\"Update\"/></div></form></ion-content>","js":""},{"_id":"8bb20cac246e61fe4eadb8f231756f9b","_rev":"1-c45f9f6a4040b389486d7b0c05b4e64d","table":"task_table","task_name":"Second Responder","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":102,"from_page_id":5,"parent_id":["2_3"],"header_template_id":"26_h","detail_template_id":"26_d","footer_template_id":"26_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-08T05:23:22.844Z","type":{"public":"public"},"status":"true","category":"stumped","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"8e780e0db7b8301ae2fda36ceda7b987","_rev":"1-64550dc779914ae898181264d4c20edf","table":"task_table","task_name":"travel_message_task","page_id":1497616676014,"from_page_id":0,"parent_id":"4_0","user_id":"23d5c58422026c68269cd6e9ac22ca4a","header_template_id":"41_h","detail_template_id":"41_d","footer_template_id":"41_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-03-31T09:22:50.256Z","status":"true","category":"Books","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"23d5c58422026c68269cd6e9ac22ca4a"}},{"_id":"8f035001d4d22a7c6170a57020635378","_rev":"3-5a8a3de00f51be84149ae0e64b3e4c72","table":"template","name":"message_footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"8f035001d4d22a7c6170a57020787ca7","_rev":"3-17d1939024e939e8d5eef7a5d491826e","table":"template","name":"sub_category_footer","html":"<ion-footer-bar ng-if=\"isSuperAdmin()\" keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"910a45bd11d6392688d40eae1eb65233","_rev":"1-495c23c17de0d69159c82e0412a58b77","table":"users","access_token":"1501192719481.ago3caujotymj3qg07z2utasdf","phone":13031,"firstname":"Fast","lastname":"Food","virtual_phone":13031,"security_level":1,"code":6580,"type":{"chatbot":"chatbot"},"device_id":"","push_accepted":0},{"_id":"9813b20055279c8a89664542666bc176","_rev":"1-52656af18214435209a7cf57810d861f","table":"location","location_name":"Philadelphia","location_type":"City","location_data":{"lat":40.0046684,"lon":-75.258117,"dist":0,"web":"https://en.wikipedia.org/wiki/Philadelphia"}},{"_id":"99_0","_rev":"1-7a9787083633789145f4b42f70a9dcf4","table":"task_table","task_name":"user_chatbot_message_task","page_id":1496985127509,"from_page_id":0,"parent_id":0,"user_id":"10067e83ad5cd3b4e099d534bc28d76d","header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-03-23T06:32:36.647Z","status":"true","category":"SMS","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":1,"display_if_empty":"true","type":{"public":"public"},"image":""},{"_id":"99_d","_rev":"3-885c76c9ade9ad237c8839c4995465e9","table":"template","name":"user Chabot Details","html":"<ion-content class=\"content-stable\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\" overflow-scroll=\"false\" on-swipe-up=\"watchSwipeUpEvent();\" ng-clock>\n\t<ion-refresher on-refresh=\"watchSwipeDownEvent();\"></ion-refresher>\n <template-render render-data=\"details\" logged-user=\"logged_user\" is-paginated=\"isPaginated\" page-type=\"companyOperatorScreen\" sub-details=\"subDetails\" edit-details=\"editDetails\" request-handler=\"common_request_handler\" more-details=\"moreDetails\" ng-cloak></template-render>\n\t<div class=\"typing-class\" ng-show=\"isTyping\" ng-cloak>\n\t\t<p class=\"chat-typing\" ng-cloak> {{ typingUserName }} is typing......</p>\n\t</div>\n</ion-content>","js":""},{"_id":"99_f","_rev":"3-365d85ba6ff5e5090f2bd3f4f4319167","table":"template","name":"User Chabot Footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"sendChatBotMessage(data.message)\" novalidate>\n\t\t<label class=\"item-input-wrapper chat_wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" chatacter-count value=\"{{data.message}}\" maxlength=\"164\" ng-model=\"data.message\" ng-change=\"updateTyping();\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t\t<span class=\"textLimit\">164 char. left</span>\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap FooterBtn\">\n\t\t\t<button type=\"submit\" class=\"button button-icon icon ion-ios-paperplane footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t\t<button type=\"button\" ng-click=\"goToSechduleScreen(null, 'future');\" class=\"button button-icon icon ion-ios-clock footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"99_h","_rev":"3-cd992eea9d2145ab5edd97e94ae1b3f9","table":"template","name":"User Chatbot Header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort = \"asc\";\n$scope.sortKey = \"createdAt\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.data = {};\n$scope.config.from_page_id = 26;\n$scope.logged_user = myService.getUserInfo();\nthis.getDetail = function () {\n\t$scope.details = myService.getDetail();\n\t$timeout(function(){\n\t\t$ionicScrollDelegate.scrollBottom(true);\n\t}, 100);\n};\nthis.getDetail();\n\n$scope.goToSechduleScreen = function (item, type) {\n\tvar page_id = 29,\n\t\tlocal_data = myService.getUserInfo();\n\n\tif (type == \"present\") {\n\t\t$scope.sechduleData = {\n\t\t\t\"firstname\": local_data.firstname,\n\t\t\t\"lastname\": local_data.lastname,\n\t\t\t\"phone\": local_data.phone,\n\t\t\t\"detail_id\": item.detail_id,\n\t\t\t\"message\": item.message,\n\t\t\t\"sechduleDate\": new Date(item.date_created)\n\t\t};\n\t} else {\n\t\t$scope.sechduleData = {\n\t\t\t\"firstname\": local_data.firstname,\n\t\t\t\"lastname\": local_data.lastname,\n\t\t\t\"phone\": local_data.phone,\n\t\t\t\"task_name\": task_info.task_name,\n\t\t\t\"task_id\": task_info.task_id,\n\t\t\t\"message\": $scope.data.message,\n\t\t\t\"sechduleDate\": new Date(),\n\t\t\t\"page_id\": $scope.config.page_id\n\t\t};\n\t}\n\t$scope.goPage(page_id);\n};"},{"_id":"99b5ad079029be6efc2b6c2755ca48b8","_rev":"1-38d3d049021ca4ad094d9b15c591a973","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206885521},{"_id":"9ae8958b72a367496403213f6767ed1b","_rev":"1-7b2e048c09dc08e3c57fa6ee1c07e752","table":"user_page","task_id":"20","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":20,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206924400},{"_id":"9c82de15b25cad4716f25583cec17168","_rev":"1-7b4e7219f047f0c8c4ac88b00a6953fa","table":"task_table","task_name":"Stumped Category","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":101,"from_page_id":5,"parent_id":["ce2611918feca7eff5a07a26367593b7"],"header_template_id":"26_h","detail_template_id":"26_d","footer_template_id":"26_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-08T05:23:22.844Z","type":{"public":"public"},"status":"true","category":"stumped","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"9c96192922ad00f4ba81f45415a028c8","_rev":"3-a3f210221a891a929a81a0b5c69aac60","table":"template","name":"message_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo(); $scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n$scope.task_name = task_info.task_name;\n$scope.page_name = task_info.task_name;\n$scope.from_page_id = $scope.config.from_page_id;\n$scope.config.task_id = task_info.task_id;\n$scope.logged_user = myService.getUserInfo();\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\t$scope.messages = detailData\n};\nthis.getDetail();"},{"_id":"9c96192922ad00f4ba81f45415b4bb7d","_rev":"3-7c511f4ef099a5184fa4153dc343cf3e","table":"template","name":"sub_category_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"name\";\n$scope.task_name = task_info.task_name;\n$scope.page_name = task_info.task_name;\n$scope.logged_user = myService.getUserInfo();\n\nif($scope.config.page_id == $scope.config.from_page_id) $scope.config.from_page_id = task_info.from_page_id;\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\t$scope.details = detailData;\n};\nthis.getDetail();"},{"_id":"9ca1afb7e96b66d33ca0eeb0cec8d2f8","_rev":"1-0cd65d9c07696a4e62b83b7ec11ec226","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205829846},{"_id":"9da22db7ac2a99a8c6d322335bcb86d2","_rev":"1-22e10d95f7df6998407918e2fbb28319","table":"task_table","task_name":"ReminderBot Chatbot","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502454370295,"from_page_id":1502774414284,"parent_id":["2_0"],"header_template_id":"9c96192922ad00f4ba81f45415b4bb7d","detail_template_id":"e835b9f969469024d7b820feea29c131","footer_template_id":"8f035001d4d22a7c6170a57020787ca7","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":"63270362fc0bdbc55379f9512d088c56","child_default_task_name":"message_task","date_created":"2017-08-11T12:26:10.485Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB","_rev":"1-cbb438ae94294646ee5946e8354d41d1","table":"group_table","owner_id":"0a9b50963bc76018418ffd857d551ced","group_name":"second_responder"},{"_id":"a0cd5c8339613c35372bbc0a791654bd","_rev":"3-b0a641392908a27acde4da612ca79fcb","table":"template","name":"edit_user_detail","html":"<ion-content class='content-stable'><form name='updateTaskForm' class='updateTaskForm' ng-submit='update_task_info(task_data)' novalidate></form></ion-content>","js":""},{"_id":"a6f9e726b15793c6fd83580ee9c57b4c","_rev":"1-86ba074beb5d99d83ce0e92a2fafb45f","table":"user_page","task_id":"14_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":14,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519103971755},{"_id":"ace9f319e05c1bdc84459bd1a1f550f2","_rev":"1-d20cc9cd31656cbbdba1aee8d8253059","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205835740},{"_id":"ad0346f1a3eb9a10db1494062e7fbb83","_rev":"1-f9449dec6abd9992a39cb0b097d3edc0","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519039129925},{"_id":"add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","_rev":"4-cd8e24b83c27c6b0f49229b805ba2981","table":"node","user_id":"f1b5ed9577f69c6b131d94a46b39044f","node_name":"add_to_node_name_tree","ancestors":[],"data_id":"f1b5ed9577f69c6b131d94a46b39044f","parents":[],"data_id_lineage":{"data_id":["f1b5ed9577f69c6b131d94a46b39044f"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:18:59.013Z"}]},{"_id":"ae64ab5643786a544a19f116a2599d52","_rev":"1-f7f208688e9849c582cf3f413ab12997","table":"user_page","task_id":"51fb167ca7670096ea62b4e9f913e7e5","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1499057617028,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206145739},{"_id":"ae64ab5643786a544a19f116a26b399e","_rev":"1-c81aabbeafa490ea959f77bc38ff576b","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206169447},{"_id":"af556bbcbe2a1f662a44dd7464125339","_rev":"2-71734e030bddfe466e8b6e84169839e1","table":"details","page_ids":[1519194123591],"child_task_id":null,"user_id":"5a8d100b4202e00037000024","from_user_id":{"user_id":"5a8d100b4202e00037000024","phone":917696016749,"firstname":917696016749,"lastname":"","type":{"public":"public"}},"page_id":1519194123591,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"operator_type":"0","date_created":"2018-02-21T06:22:04.047Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"917696016749","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"af556bbcbe2a1f662a44dd7464125339","subject_id":null,"from_user_id":"917696016749"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194125548,"category":"message"},{"_id":"af556bbcbe2a1f662a44dd7464125c58","_rev":"2-9d008f99af0baf875932ce2d6851aaf2","table":"details","page_ids":[1519194123591],"child_task_id":null,"user_id":"5a8d100b4202e00037000024","from_user_id":{"user_id":"5a8d100b4202e00037000024","phone":917696016749,"firstname":917696016749,"lastname":"","type":{"public":"public"}},"page_id":1519194123591,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":1519194244048,"operator_type":"1","date_created":"2018-02-21T06:22:04.048Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"917696016749","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"af556bbcbe2a1f662a44dd7464125c58","subject_id":null,"from_user_id":"917696016749"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194125548,"category":"message"},{"_id":"af556bbcbe2a1f662a44dd7464126abe","_rev":"2-e35e63ae68fc7e2446b1ca68c405dfbd","table":"details","page_ids":[1519194123591],"child_task_id":null,"user_id":"5a8d100b4202e00037000024","from_user_id":{"user_id":"5a8d100b4202e00037000024","phone":917696016749,"firstname":917696016749,"lastname":"","type":{"public":"public"}},"page_id":1519194123591,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:22:04.050Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":"917696016749","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"af556bbcbe2a1f662a44dd7464126abe","subject_id":null,"from_user_id":"917696016749"},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"af556bbcbe2a1f662a44dd7464126abe","subject_id":null,"from_user_id":"917696016749"}},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194124550,"category":"message"},{"_id":"af556bbcbe2a1f662a44dd7464126f79","_rev":"1-91256fcd0227f3bea0f2eb054be94dc0","table":"details","page_ids":[18,1519194123591],"child_task_id":null,"user_id":"5a8d100b4202e00037000024","from_user_id":{"user_id":"5a8d100b4202e00037000024","phone":917696016749,"firstname":917696016749,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":0,"to_page_id":0,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T06:22:04.050Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"917696016749","message":"What day would you like to come in?","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519194125050},{"_id":"b2ebd4c788100820b31f0e17c9b8b44b","_rev":"1-72a63c2b6e37321a6c0f22c180ebe45c","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206587651},{"_id":"b4b861c2c818126f3fed1f933cb87a49","_rev":"2-0739cbd622821ccf32f9082714df20fa","table":"node","user_id":"fa1785333117ba7c06b9020a6d3c0079","node_name":"","ancestors":["5e065d16188c137965e86bdbc1ce6639","companyf1b5ed9577f69c6b131d94a46b39044f","get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"da9976858d8bda52021754cf1909a327","parents":["5e065d16188c137965e86bdbc1ce6639"],"data_id_lineage":{"fa1785333117ba7c06b9020a6d3c0079":["company"],"data_id":["da9976858d8bda52021754cf1909a327"],"f1b5ed9577f69c6b131d94a46b39044f":["company"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T06:22:06.436Z"},{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T06:23:39.084Z"}]},{"_id":"b4b861c2c818126f3fed1f933cdf55b6","_rev":"1-579f5d4d91b815efff8459a007dff258","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519194391339},{"_id":"b576b363fc9cfa3e7e2bc0c655721567","_rev":"1-439c13cd32cc3adf1a0c45f88c558f47","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206172985},{"_id":"b5ec1e1cf211c1ccbc42aadce96e5c6e","_rev":"3-486be8f732d174284882aafbd91e829e","table":"template","name":"edit_detail_short_form_footer","html":"","js":""},{"_id":"b63f7d97d22bcbb70a219f5ba4edc8a2","_rev":"1-62a220ae8ee0fae5775b9fdb69e9528a","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519196712269},{"_id":"c01a40e0a39ab7071c72d422a5c96104","_rev":"1-902fadb436f57c782660c168058049c9","table":"details","intent_task_id":"2_0","child_task_id":"cbf23f2101dfed59bdfe1b57f6bca9a5","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":2,"from_page_id":1,"to_page_id":1502774414284,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":true,"date_created":"2017-08-15T05:20:14.284Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Company Owner Section","message":"ReminderBot"},"template":{"details":{"_id":"2_d","_rev":"7-0a8d302a193c0c3770a76652750d7bbb","table":"template","name":"Detail","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t\t <i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t </i>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'delete_detail',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""}},"timeout":{},"user_calculate":{},"location":{},"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":1},"count_if":{"active":1,"unread":0},"createdAt":1502774414284,"page_ids":[2],"base_details":true},{"_id":"c122f008798ec39087ffc85638b38542","_rev":"1-58948ae2e1b3733d1f9df0e9986ec962","table":"user_page","task_id":"ce2611918feca7eff5a07a26367593b7","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"synchronized":1,"status":0,"date_updated":null,"parent_id":2,"ancestors":[2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519196715114},{"_id":"c2e8570a6c02b71e20739061d74b0f1f","_rev":"3-a7f06826aa75f1a7063f459eb45bf33f","table":"template","name":"category_header","html":"<ion-header-bar class=\\\"bar-stable\\\"><button class=\\\"button button-icon\\\" ng-click=\\\"logout()\\\"> <i class=\\\"icon ion-log-out\\\"></i></button><h1 class=\\\"title\\\">Menu</h1></ion-header-bar>","js":"$scope.logout = function() {\\n\\r//$localStorage.$reset();\\n\\r$localStorage.access_token = null;\\n\\r$scope.goPage(1);\\n\\r};\\r\\n\\t $scope.add_detail_from_category = function(){\\r\\n\\t var endpoint = \\\"https://platform.mybluemix.net/add_detail\\\";\\r\\n\\t var postdata = {\\r\\n\\t\\t \\\"access_token\\\": \\\"1489486409169.1pjwj8zy69v\\\", \\r\\n\\t\\t \\\"task_name\\\":\\\"task_w_create_task\\\",\\r\\n\\t\\t \\\"note\\\": $scope.data.message,\\r\\n\\t\\t \\\"page_id\\\": 2,\\r\\n\\t\\t \\\"from_page_id\\\": \\\"\\\" \\r\\n\\t\\t}; \\r\\n\\t var headers = {\\\"Content-Type\\\": \\\"application/json\\\"};\\r\\n\\t var config = {\\\"headers\\\":headers}; \\r\\n\\t $http.post(endpoint, postdata, config).then(function(res) { \\r\\n\\t var res_data = res.data; \\r\\n\\t console.log(\\\"res_data>>>\\\",res_data);\\r\\n\\t },function(err) {\\r\\n\\t console.log(\\\"err>>>\\\",err);\\r\\n\\t }); \\r\\n\\t delete $scope.data.message; \\r\\n\\t};"},{"_id":"c32d5d61b93474a15391755b8f2af274","_rev":"1-cc6547860e0c1e9b6152105cb8d07d04","table":"location","location_name":"Frankfurt","location_type":"City","location_data":{"lat":50.1211277,"lon":8.4964812,"dist":0,"web":"https://en.wikipedia.org/wiki/Frankfurt"}},{"_id":"c33ffb7ebb3fa4ee706a2aa0067145b1","_rev":"1-77cf4b32dcc67795f2b43ff27c94e941","table":"details","intent_task_id":"51fb167ca7670096ea62b4e9f913e7e5","child_task_id":"63270362fc0bdbc55379f9512d088c56","user_id":"fa1785333117ba7c06b9020a6d3c0079","from_user_id":null,"page_id":1499057617028,"from_page_id":2,"to_page_id":26,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":1,"date_created":"2017-08-16T05:33:25.821Z","due_date":"2017-03-23T09:48:08.914Z","offline_expiration_seconds":0,"priority":1,"type":{"private":"private"},"from_user":{"firstname":"ABC","lastname":"Burgers","email":"abc@burgers.com","phone":11906},"user_incoming":{"note":"Stumped","message":"Stumped"},"template":{"details":{}},"timeout":{},"user_calculate":{},"location":[],"default":{"parent":null,"allchildren":null},"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"createdAt":1502861605821,"base_details":true,"page_ids":[1499057617028]},{"_id":"c68432957b10e3fc007b78c32556568e","_rev":"1-78328b7f735672b1725b5631e8aa469f","table":"timeout","name":"Default timeout","timeout_list":{"0":{"delivery_count":0,"delivery_status":"false","delivery_due":"0","delivery_user_ids":"5f490c0ae2ee7321dc891a3e59bd64c6","delivery_via":"app","delivery_task_id":"task_w_timeout","message_id":null,"form_id":null}}},{"_id":"cbf23f2101dfed59bdfe1b57f6bca9a5","_rev":"1-c1702580027134769625d40c3fb50642","table":"task_table","task_name":"sub_category_task","page_id":948581,"from_page_id":2,"parent_id":"2_0","user_id":"23d5c58422026c68269cd6e9ac22ca4a","header_template_id":"9c96192922ad00f4ba81f45415b4bb7d","detail_template_id":"e835b9f969469024d7b820feea29c131","footer_template_id":"8f035001d4d22a7c6170a57020787ca7","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":"63270362fc0bdbc55379f9512d088c56","child_default_task_name":"message_task","date_created":"2017-04-03T06:58:07.756Z","status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png","defaults":{"parent":null,"next_child":null,"all_children":null,"user":"23d5c58422026c68269cd6e9ac22ca4a"}},{"_id":"ce2611918feca7eff5a07a26367593b7","_rev":"1-c4c37342b528512cef7234f4c152107e","table":"task_table","task_name":"ReminderBot Company","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1502774414284,"from_page_id":2,"parent_id":2,"header_template_id":"9c96192922ad00f4ba81f45415b4bb7d","detail_template_id":"e835b9f969469024d7b820feea29c131","footer_template_id":"8f035001d4d22a7c6170a57020787ca7","timeout_id":"05e8e44657c5ebfd8fd893ab1a366a9a","location_id":"9813b20055279c8a89664542666bc176","child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-08-15T05:20:14.718Z","type":{"public":"public"},"status":"true","category":"sub-category","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":true,"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"companyf1b5ed9577f69c6b131d94a46b39044f","_rev":"7-48c4ed6a0fa14057db97ef317ee647d7","table":"node","user_id":"f1b5ed9577f69c6b131d94a46b39044f","node_name":"company","ancestors":["get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id":"f1b5ed9577f69c6b131d94a46b39044f","parents":["get_pagef1b5ed9577f69c6b131d94a46b39044f","add_to_node_name_treef1b5ed9577f69c6b131d94a46b39044f","delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","get_node_name_treef1b5ed9577f69c6b131d94a46b39044f"],"data_id_lineage":{"data_id":["f1b5ed9577f69c6b131d94a46b39044f"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:18:59.160Z"}]},{"_id":"d33d30da003eb304713c70a0f9a1e228","_rev":"1-8ac232a1c623230d7892b82fde8a742c","table":"timeout","name":"Delivery count 1","timeout_list":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null}}},{"_id":"d38db64a881913c1b6227dcdbf7539ec","_rev":"1-777e5a7074113c9e77358367797da71c","table":"task_table","task_name":"Clemens ","user_id":"10067e83ad5cd3b4e099d534bc28d76d","page_id":1496821289391,"from_page_id":5,"parent_id":"5_0","header_template_id":"51_h","detail_template_id":"51_d","footer_template_id":"51_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-06-07T07:41:29.527Z","type":{"public":"public"},"status":"true","category":"SMS","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":1,"display_if_empty":"true","count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0}},{"_id":"d53fbbbc86d9575f3149004f3581fd4b","_rev":"1-667367da58c9ac6f2479ec763d722780","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519103966075},{"_id":"d53fbbbc86d9575f3149004f35958356","_rev":"1-366d22dab28bcb0e67be358249f4c633","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519104074437},{"_id":"d8e9eaaa44fae9586e01fcf892b8ee6c","_rev":"1-c0e5cc0d0b04fc9c269c9f9bad97e88b","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519207139931},{"_id":"da9976858d8bda52021754cf1909a327","_rev":"3-5029d64c9807c4ab1a45a1c57c53c65e","table":"users","long_url":"","access_token":"1512367299166.6gs5wh40wadlyvaniqi3jfko6r","security_level":1,"phone":917696016749,"virtual_phone":917696016749,"email":"mss.parveensachdeva@gmail.com","converstation_id":"","firstname":"Parveen","lastname":"Sachdeva","code":6501,"password":"","image":"","type":{"public":"public","admin":"admin","dri_main":"dri_main"},"data":{"groups":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"}},"device_id":"","push_accepted":1,"device_token":{}},{"_id":"dad4e519f694e96b68ff7fc791898773","_rev":"2-c2347324bbb3d6cdcef8ea7f52dbf70b","table":"details","page_ids":[1519196620586],"child_task_id":null,"user_id":"5a8d19cc4202e00037000030","from_user_id":{"user_id":"5a8d19cc4202e00037000030","phone":919818898188,"firstname":919818898188,"lastname":"","type":{"public":"public"}},"page_id":1519196620586,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"operator_type":"0","date_created":"2018-02-21T07:03:40.890Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919818898188","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"dad4e519f694e96b68ff7fc791898773","subject_id":null,"from_user_id":"919818898188"},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196622391,"category":"message"},{"_id":"dad4e519f694e96b68ff7fc791899687","_rev":"1-2432344a049b2c8c3c5f4fd134fdc569","table":"details","page_ids":[1519196620586],"child_task_id":null,"user_id":"5a8d19cc4202e00037000030","from_user_id":{"user_id":"5a8d19cc4202e00037000030","phone":919818898188,"firstname":919818898188,"lastname":"","type":{"public":"public"}},"page_id":1519196620586,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":0,"status":1,"read":0,"display_if_empty":"true","due_date":1519196740891,"operator_type":"1","date_created":"2018-02-21T07:03:40.891Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919818898188","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{},"delivery_via":"push","delivery_task_id":null,"message_id":null,"subject_id":null,"from_user_id":null},"user_calculate":{},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196622391},{"_id":"dad4e519f694e96b68ff7fc79189a21d","_rev":"2-0621b0c5f8cba3262862b9a1783ab980","table":"details","page_ids":[1519196620586],"child_task_id":null,"user_id":"5a8d19cc4202e00037000030","from_user_id":{"user_id":"5a8d19cc4202e00037000030","phone":919818898188,"firstname":919818898188,"lastname":"","type":{"public":"public"}},"page_id":1519196620586,"from_page_id":26,"to_page_id":0,"synchronized":0,"processed":1,"status":2,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T07:03:40.891Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public","company_bot_detail":"company_bot_detail"},"image":"","from_user":{},"user_incoming":{"note":"919818898188","message":"Reservation","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{"0":{"delivery_max_attempts":2,"delivery_count":0,"delivery_due":0,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced"},"delivery_user_types":{"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732}},"delivery_via":"push","delivery_task_id":null,"message_id":"dad4e519f694e96b68ff7fc79189a21d","subject_id":null,"from_user_id":"919818898188"},"1":{"delivery_max_attempts":2,"delivery_count":1,"delivery_due":120000,"delivery_user_ids":{"0a9b50963bc76018418ffd857d551ced":"0a9b50963bc76018418ffd857d551ced","da9976858d8bda52021754cf1909a327":"da9976858d8bda52021754cf1909a327"},"delivery_user_types":{"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB":"BKmmUtXUN3ASNznKVvuHIvq5eqOQl7RB"},"delivery_user_special":{"0a9b50963bc76018418ffd857d551ced":{"user_id":"0a9b50963bc76018418ffd857d551ced","firstname":"Roger","lastname":"Colburn","email":"roger@dri.com","device_id":"Web View","device_token":{"2847073126":{"device_type":"Web Browser","device_id":"Web View"},"3514455125":{"device_type":"Ios Device","device_id":"F53C37A5-4C75-4896-9950-B8606F08C85D"}},"phone":12145644732},"da9976858d8bda52021754cf1909a327":{"user_id":"da9976858d8bda52021754cf1909a327","firstname":"Parveen","lastname":"Sachdeva","email":"mss.parveensachdeva@gmail.com","device_id":"","device_token":{},"phone":917696016749}},"delivery_via":"push","delivery_task_id":null,"message_id":"dad4e519f694e96b68ff7fc79189a21d","subject_id":null,"from_user_id":"919818898188"}},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196621391,"category":"message"},{"_id":"dad4e519f694e96b68ff7fc79189a90e","_rev":"1-8037bee9ceb77293ea6587e6f7833b86","table":"details","page_ids":[18,1519196620586],"child_task_id":null,"user_id":"5a8d19cc4202e00037000030","from_user_id":{"user_id":"5a8d19cc4202e00037000030","phone":919818898188,"firstname":919818898188,"lastname":"","type":{"public":"public"}},"page_id":18,"from_page_id":0,"to_page_id":0,"synchronized":0,"processed":0,"status":0,"read":0,"display_if_empty":"true","due_date":0,"date_created":"2018-02-21T07:03:40.891Z","offline_expiration_seconds":0,"priority":1,"type":{"public":"public"},"image":"","from_user":{},"user_incoming":{"note":"919818898188","message":"What day would you like to come in?","watson":"What day would you like to come in?"},"template":{},"timeout":{},"user_calculate":{},"location":{},"default":{},"count_status":{},"count":{},"count_if":{},"createdAt":1519196621891},{"_id":"dd37329ed5f9546618eaa2f4e0495cc4","_rev":"3-d470334023429ab5a99b9a4ad67c520b","table":"template","name":"edit_user_footer","html":"","js":""},{"_id":"ddcd19303d7d4c612984dab9b06cbd74","_rev":"1-c1a14201db1cdff03cf43ec51d1da159","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206414205},{"_id":"ddcd19303d7d4c612984dab9b092d8be","_rev":"1-eee7d9dd01ce834f15d736d338210b06","table":"user_page","task_id":"26","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":26,"synchronized":1,"status":0,"date_updated":null,"parent_id":1499057617028,"ancestors":[1499057617028,1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206500478},{"_id":"de45509e3724f891c6facca9000350ab","_rev":"1-6a0184b6f37f18d1e6ba97bbbb7cf430","table":"task_table","user_id":"f1b5ed9577f69c6b131d94a46b39044f","task_name":"StumpedTask","page_id":0,"from_page_id":0,"parent_id":["0"],"header_template_id":"99_h","detail_template_id":"99_d","footer_template_id":"99_f","timeout_id":"d33d30da003eb304713c70a0f9a1e228","location_ids":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-09-11T05:57:47.681Z","category":"stumped","status":"true","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":0,"display_if_empty":"true","type":{"public":"public"},"image":"","createdAt":" 1505109450753"},{"_id":"delete_from_node_name_treef1b5ed9577f69c6b131d94a46b39044f","_rev":"4-cbe0cc0562501487a6862652ac5de03f","table":"node","user_id":"f1b5ed9577f69c6b131d94a46b39044f","node_name":"delete_from_node_name_tree","ancestors":[],"data_id":"f1b5ed9577f69c6b131d94a46b39044f","parents":[],"data_id_lineage":{"data_id":["f1b5ed9577f69c6b131d94a46b39044f"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:18:59.074Z"}]},{"_id":"e835b9f969469024d7b820feea29c131","_rev":"3-36d2b89584693c5959ef5e941ae99ea0","table":"template","name":"sub_category_detail","html":"<ion-content class=\"has-header\" on-swipe-up=\"watchSwipeUpEvent();\">\n\t<ion-refresher on-refresh=\"watchSwipeDownEvent();\"></ion-refresher>\n\t<template-render render-data=\"details\" logged-user=\"logged_user\" is-paginated=\"isPaginated\" page-type=\"subCategoryScreen\" sub-details=\"subDetails\" edit-details=\"editDetails\" request-handler=\"common_request_handler\" more-details=\"moreDetails\" ng-cloak></template-render>\n</ion-content>","js":""},{"_id":"ea1f86fe7bb573a145fb8e66ab08c49e","_rev":"1-6fe75627c38e4e622f4cbafca90ff28e","table":"task_table","task_name":"chat_message_task","page_id":1496985323154,"from_page_id":0,"parent_id":0,"user_id":"10067e83ad5cd3b4e099d534bc28d76d","header_template_id":"61_h","detail_template_id":"61_d","footer_template_id":"61_f","timeout_id":null,"location_id":null,"child_default_task_id":null,"child_default_task_name":null,"date_created":"2017-03-23T06:32:36.647Z","status":"true","category":"SMS","additional_data_fn":null,"optional_data":{},"required_data":{},"offline_expiration_time":1,"display_if_empty":"true","type":{"public":"public"},"image":"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png"},{"_id":"ed1ba24ab0d1bbe4b6afc69023f01270","_rev":"1-4beacbf13f74bb300e02a6fb72325e5e","table":"user_page","task_id":"51fb167ca7670096ea62b4e9f913e7e5","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":1499057617028,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519206175507},{"_id":"ef451c4cdb5cc5fbcd5d14d936cdf844","_rev":"3-ac865a43130f16b1aac07b9930b6f60d","table":"template","name":"edit_header","html":"<ion-header-bar class='bar-stable'><button class='button button-icon' ng-click='logout()'><i class='icon ion-log-out'></i></button><h1 class='title'>{{title}}</h1></ion-header-bar>","js":"$scope.title='Edit screen'"},{"_id":"f050e3951041d1f7a388869b4fe5e401","_rev":"1-d3a2d55dbbf52f9f0fcc193f032f50eb","table":"user_page","task_id":"2_0","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":2,"synchronized":1,"status":0,"date_updated":null,"parent_id":0,"ancestors":[0],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519194390003},{"_id":"f1b5ed9577f69c6b131d94a46b39044f","_rev":"8-e632b57693cb7a72bcc304ecedb41f78","table":"users","long_url":"","access_token":"1515420557174.o0i9pckra2xtxt6s9v28lrf6r","security_level":1,"phone":1234,"virtual_phone":11234,"email":"admin@drilist.com","converstation_id":"","firstname":"admin","lastname":"user","code":9489,"password":"","image":"","type":{"public":"public","admin":"admin"},"data":{"fa1785333117ba7c06b9020a6d3c0079":{"context":{"first_name":"admin","last_name":"user","phone":"11234","timeStamp":1513691494946,"conversation_id":"63d11b69-10cf-4f75-9ec3-c17bc4099a54","system":{"dialog_stack":[{"dialog_node":"root"}],"dialog_turn_counter":1,"dialog_request_counter":1,"_node_output_map":{"Anything else":[0]},"branch_exited":true,"branch_exited_reason":"completed"}}}},"device_id":"Web View","device_token":{"13567351":{"device_type":"Ios Device","device_id":"0A6B4BF4-B230-4FDF-9034-4B02EAA3E923"},"58460678":{"device_type":"Web Browser","device_id":"Web View"},"1124110913":{"device_type":"Web Browser","device_id":"Web View"}},"push_accepted":1},{"_id":"f2459179417c63e1ff278257eb98b12b","_rev":"1-5313218030d8b261ed98c97cea39d776","table":"user_page","task_id":"22","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":22,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519205069410},{"_id":"f8d1aba6756cf7fd5bda0f56585d8c91","_rev":"3-fc2c637dcbe5077a41d6d0a0b144b5e0","table":"template","name":"edit_detail_short_form_detail","html":"<ion-content class='content-stable'> <form name='updateTaskForm' class='updateTaskForm' ng-submit='update_detail_short_info(task_info)' novalidate> <div class='list'> <label class='item item-input item-stacked-label'> <span class='input-label'>Message</span> <input type='text' placeholder='First name' ng-model='task_info.message' /> </label> <label class='item item-input item-stacked-label'> <span class='input-label'>Task name</span> <input type='text' placeholder='Task name' ng-model='task_info.task_name' /> </label> <label class='item item-input item-stacked-label'> <span class='input-label'>Task status</span> <input type='text' placeholder='Email' ng-model='task_info.staus' /> </label> </div> <div class='padding'> <button class='button button-block button-positive' type='submit'>Update</button> </div> </form> </ion-content>","js":""},{"_id":"fa1785333117ba7c06b9020a6d3c0079","_rev":"1-bd62e7f1e5cb3cf9c86750e67b5724fb","table":"users","access_token":"1505915176652.8bwoh8j7fft8jjpa59zjb57b9","phone":12312259665,"firstname":"Reminder","lastname":"Bot","virtual_phone":12312259665,"security_level":1,"code":6440,"type":{},"device_id":"Web View","push_accepted":1,"long_url":"","email":"","image":"","timezone":"America/Los_Angeles"},{"_id":"fd99a4352980d70cb1c7ec2c82c77a3a","_rev":"1-185368e3bc7f0d9c0d735c3214bc00b0","table":"user_page","task_id":"20","user_id":"0a9b50963bc76018418ffd857d551ced","page_id":20,"synchronized":1,"status":0,"date_updated":null,"parent_id":1502774414284,"ancestors":[1502774414284,2],"count_status":{"active":1,"unread":0},"count":{"active":1,"unread":0},"count_if":{"active":1,"unread":0},"templates":{},"timeout":{},"createdAt":1519214177637},{"_id":"get_node_name_treef1b5ed9577f69c6b131d94a46b39044f","_rev":"4-2bedfde65e7d68058f8d5a240053c06a","table":"node","user_id":"f1b5ed9577f69c6b131d94a46b39044f","node_name":"get_node_name_tree","ancestors":[],"data_id":"f1b5ed9577f69c6b131d94a46b39044f","parents":[],"data_id_lineage":{"data_id":["f1b5ed9577f69c6b131d94a46b39044f"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:18:58.958Z"}]},{"_id":"get_pagef1b5ed9577f69c6b131d94a46b39044f","_rev":"4-dcd217d40c2f0795cde669fe75bf0b01","table":"node","user_id":"f1b5ed9577f69c6b131d94a46b39044f","node_name":"get_page","ancestors":[],"data_id":"f1b5ed9577f69c6b131d94a46b39044f","parents":[],"data_id_lineage":{"data_id":["f1b5ed9577f69c6b131d94a46b39044f"]},"history":[{"user_id":"f1b5ed9577f69c6b131d94a46b39044f","date":"2018-02-21T05:18:58.903Z"}]},{"_id":"n8AvG1ceetCnqdg0MlE5XpY0wm3urtdc","_rev":"1-0890124d73bf7ff66f61ddefaf0ed2bc","table":"group_table","owner_id":"0a9b50963bc76018418ffd857d551ced","group_name":"first_responder"}]