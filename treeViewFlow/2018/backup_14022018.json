[
    {
        "id": "55e92ca3.9a3084",
        "type": "tab",
        "label": "Tree View Flow"
    },
    {
        "id": "34caf70a.f489c8",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 617.0000762939453,
        "y": 132,
        "wires": [
            [
                "b88327c1.b7ac08"
            ]
        ]
    },
    {
        "id": "d8124009.fdedc",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "start",
        "topic": "start",
        "payload": "start",
        "payloadType": "flow",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 107.00005340576172,
        "y": 133.00002479553223,
        "wires": [
            [
                "6e9f953.77a546c"
            ]
        ]
    },
    {
        "id": "b88327c1.b7ac08",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 802.0000762939453,
        "y": 131.00000762939453,
        "wires": []
    },
    {
        "id": "7e3d30c7.491f3",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init_load",
        "func": "var system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // Company Reminderbot Id\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\", // detail associated with task above\n\n\tinclude_data = true,\n\tinclude_head = false,\n\tmaster_parents = [],\n\tgroup_name_company = \"company\",\n\tgroup_name_employee = \"employees\",\n\n\tfn_name_add = \"add_to_node_name_tree\",\n\tfn_name_get = \"get_node_name_tree\",\n\tfn_name_del = \"delete_from_node_name_tree\",\n\tfn_get_page = \"get_page\",\n\tfn_get_page2 = \"get_page2\",\n\t\n\tname_add = \"add_to_node_name_tree\",\n\tname_get = \"get_node_name_tree\",\n\tname_del = \"delete_from_node_name_tree\",\n\tname_get_page = \"get_page\",\n\tnode_id = null,\n\ttree_owner_id = system_id,\n\ttemp_node_company = group_name_company + system_id,\n\ttemp_node_employee = group_name_employee + system_id,\n\ttemp_node_page = group_name_page + system_id;\n\n\nvar init_load = [\n\t\t{\n\t\t\t// set up grandfather for get_page\n\t\t\t//0\n\t\t\tpayload: {\n\t\t\t\tuser_id: tree_owner_id,\n\t\t\t\tportal_id: tree_owner_id,\n\t\t\t\tnode_name: name_get_page,\n\t\t\t\tdata_id: tree_owner_id,\n\t\t\t\tmaster_parents: master_parents,\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget:\"grand\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n\t\t{\n\t\t\t// set up grandfather for get_node_name_tree\n\t\t\t//1\n\t\t\tpayload: {\n\t\t\t\tuser_id: tree_owner_id,\n\t\t\t\tportal_id: tree_owner_id,\n\t\t\t\tnode_name: name_get,\n\t\t\t\tdata_id: tree_owner_id,\n\t\t\t\tmaster_parents: master_parents,\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget:\"grand\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n\t\t{\n\t\t\t// set up grandfather for add_to_node_name_tree\n\t\t\t//2\n\t\t\tpayload: {\n\t\t\t\tuser_id: tree_owner_id,\n\t\t\t\tportal_id: tree_owner_id,\n\t\t\t\tnode_name: name_add,\n\t\t\t\tdata_id: tree_owner_id,\n\t\t\t\tmaster_parents: master_parents,\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget:\"grand\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n\t\t{\n\t\t\t// set up grandfather for delete_from_node_name_tree\n\t\t\t//3\n\t\t\tpayload: {\n\t\t\t\tuser_id: tree_owner_id,\n\t\t\t\tportal_id: tree_owner_id,\n\t\t\t\tnode_name: name_del,\n\t\t\t\tdata_id: tree_owner_id,\n\t\t\t\tmaster_parents: master_parents,\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget:\"grand\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n// \t\t// system_id create system_id company node_name\n// \t\t// set up grandfather for \"company\"\n// \t\t// at the same time add those to the actions created above -- note companies can add, get, delete, get page\n// \t\t//4\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: tree_owner_id,\n\t\t\t\tportal_id: tree_owner_id,\n\t\t\t\tnode_name: group_name_company,\n\t\t\t\tdata_id: tree_owner_id,\n\t\t\t\tmaster_parents: [name_get_page + system_id, name_add + system_id, name_del + system_id, name_get+ system_id],\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget:\"grand\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n\n\t\t// system_id add reminder_bot_id to system_id company node_name  -- do this one per company -- add more companies similar way\n\t\t// company id ie reminderbot_id is now authroized to company stuff\n\t\t//5\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: system_id,\n\t\t\t\tnode_name: group_name_company,\n\t\t\t\tdata_id: company_id,\n\t\t\t\tmaster_parents: master_parents,\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget:\"parent\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n\n// \t\t// portal_id add a user to system_id comapany node_name -- add more users in similar way \n// \t\t// user_id_co is now been authorized by reminder_bot_id to do company stuff \n// \t\t//6\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: company_id,\n\t\t\t\tnode_name: group_name_company,\n\t\t\t\tdata_id: user_id_co,\n\t\t\t\tmaster_parents: master_parents,\n\t\t\t\ttree_owner_id: tree_owner_id,\n\t\t\t\tnode_id: node_id,\n\t\t\t\ttarget: \"child\",\n\t\t\t\tparent_node_name:\"\",\n\t\t\t},\n\t\t\tfn_name: fn_name_add\n\t\t},\n// \t\t//check if the \"company tree\" got added right\n// \t\t//7\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: system_id,\n\t\t\t\tnode_name: group_name_company,\n\t\t\t\tinclude_data:false,\n\t\t\t\tinclude_head:true,\n\t\t\t\ttree_owner_id: system_id\n\t\t},\n\t\t\tfn_name: fn_name_get\n\t\t},\n// \t\t// system_id create system_id employee node_name\n// \t\t// at the same time add those to the actions created above -- this one per node_name\n// \t\t// employees cannot delete\n// \t\t//8\n\t\t{payload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tsystem_id, \n\t\t\t\tnode_name: \t\t\tgroup_name_employee, \n\t\t\t\tdata_id: \t\t\tsystem_id, \n\t\t\t\tmaster_parents: \t[\"get_node_name_tree\"+system_id, \"add_to_node_name_tree\"+system_id], \n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"grand\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n\n// \t\t// system_id add reminderbot_id to system_id company node_name  -- do this one per company -- add more companies similar way\n// \t\t//9\n\t\t{\n\t\t\tpayload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tsystem_id, \n\t\t\t\tnode_name: \t\t\tgroup_name_employee, \n\t\t\t\tdata_id: \t\t\tcompany_id, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"parent\" ,\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n\n// \t\t// portal_id add a user to system_id comapany node_name -- add more users in similar way \n// \t\t// user_id_employee has not been authorized to do reminderbot_id employee stuff\n// \t\t//10\n\t\t{\n\t\t\tpayload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tcompany_id, \n\t\t\t\tnode_name: \t\t\tgroup_name_employee, \n\t\t\t\tdata_id: \t\t\tuser_id_employee, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"child\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n// \t\t// view results of group_name_company\n\t\t//11\n\t\t\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: system_id,\n\t\t\t\tnode_name: group_name_employee,\n\t\t\t\tinclude_data:false,\n\t\t\t\tinclude_head:true,\n\t\t\t\ttree_owner_id: system_id\n\t\t},\n\t\t\tfn_name: fn_name_get\n\t\t},\n// \t\t//12\n\t\t{\n\t\t\tpayload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tcompany_id, \n\t\t\t\tnode_name: \t\t\tgroup_name_employee, \n\t\t\t\tdata_id: \t\t\tuser_id_co, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"child\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n\t\t//13\n\t\t\t\t\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: company_id,\n\t\t\t\tnode_name: group_name_employee,\n\t\t\t\tinclude_data:false,\n\t\t\t\tinclude_head:true,\n\t\t\t\ttree_owner_id: system_id\n\t\t},\n\t\t\tfn_name: fn_name_get\n\t\t},\n\n\n// \t\t// #14\n// \t\t//add page to existing company record\n\t\t{payload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tsystem_id, \n\t\t\t\tnode_name: \t\t\tgroup_name_company, \n\t\t\t\tdata_id: \t\t\tgroup_name_page, // the id of the page is like reminder_bot\n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\t\n\t\t\t\ttarget: \t\t\t\"parent\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n\n// \t\t//15\n// \t\t// add specific ITEMS to this company/page\n\t\t{payload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tgroup_name_page, \n\t\t\t\tnode_name: \t\t\tgroup_name_company, \n\t\t\t\tdata_id: \t\t\titem1, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"child\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n// \t\t//16\n\t\t{payload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tgroup_name_page, \n\t\t\t\tnode_name: \t\t\tgroup_name_company, \n\t\t\t\tdata_id: \t\t\titem2, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"child\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n\n\t\t//17\n\t\t// add parent of page to employees\n\t\t{payload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tsystem_id, \n\t\t\t\tnode_name: \t\t\tgroup_name_employee,\n\t\t\t\tdata_id: \t\t\tgroup_name_page, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"parent\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t}, \n\t\t\tfn_name:fn_name_add\n\t\t},\n// \t\t// 18\n// \t\t// add specific ITEMS to this employee/page\n\t\t{payload :  {user_id: \t\tsystem_id, \n\t\t\t\tportal_id: \t\t\tgroup_name_page, \n\t\t\t\tnode_name: \t\t\tgroup_name_employee,\n\t\t\t\tdata_id: \t\t\titem1, \n\t\t\t\tmaster_parents: \tmaster_parents,\n\t\t\t\ttree_owner_id: \t\ttree_owner_id, \n\t\t\t\tnode_id: \t\t\tnode_id,\n\t\t\t\ttarget: \t\t\t\"child\",\n\t\t\t\tparent_node_name: \t\"\",\n\t\t},\n\t\t\tfn_name:fn_name_add\n\t\t},\n// \t\t//19\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: group_name_page,\n\t\t\t\tnode_name: group_name_company,\n\t\t\t\tinclude_data:false,//true,\n\t\t\t\tinclude_head:false,\n\t\t\t\ttree_owner_id: system_id\n\t\t},\n\t\t\tfn_name: fn_name_get\n\t\t},\n\t\t//20\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: system_id,\n\t\t\t\tportal_id: group_name_page,\n\t\t\t\tnode_name: group_name_employee,\n\t\t\t\tinclude_data:false,\n\t\t\t\tinclude_head:false,\n\t\t\t\ttree_owner_id: system_id\n\t\t},\n\t\t\tfn_name: fn_name_get\n\t\t},\n\t\t//21\n\t\t//now get\n\t\t{\n\t\t    payload :  {\n\t\t        user_id: \t\t    user_id_employee, //or user_id_co\n\t\t\t\tportal_id: \t\t\tcompany_id, \n\t\t\t\tpage_id:  \t\t\tgroup_name_page,\n\t\t\t\tfilter: \t\t\tnull\n\t\t},\n\t\t\tfn_name:fn_get_page\n\t\t},\n\t\t{\n\t\t    payload: {\n\t\t        user_id: user_id_employee, //or user_id_co\n\t\t        portal_id: company_id,\n\t\t        page_id: group_name_page,\n\t\t        filter: [group_name_employee, group_name_company] //group_name_company\n\t\t    },\n\t\t    fn_name: fn_get_page\n\t\t}\n\t];\n\nmsg.payload = init_load ;\n//node.warn(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 428.0000457763672,
        "y": 132.00000762939453,
        "wires": [
            [
                "34caf70a.f489c8",
                "a159b821.394708"
            ]
        ]
    },
    {
        "id": "6e9f953.77a546c",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "func": "var\n\tsystem_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // user\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\"; // detail associated with task above\n\nvar object = {\n    node_original1: {\n    \t\"f1b5ed9577f69c6b131d94a46b39044f\": {\n    \t\t\"_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"access_token\": \"1515420557174.o0i9pckra2xtxt6s9v28lrf6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 1234,\n    \t  \t\"virtual_phone\": 11234,\n    \t  \t\"email\": \"admin@drilist.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"admin\",\n    \t  \t\"lastname\": \"user\",\n    \t  \t\"code\": 9489,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"device_token\": {},\n    \t  \t\"push_accepted\": 1\n    \t},\n    \t\"fa1785333117ba7c06b9020a6d3c0079\": {\n    \t\t\"_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"access_token\": \"1505915176652.8bwoh8j7fft8jjpa59zjb57b9\",\n    \t  \t\"phone\": 12312259665,\n    \t  \t\"firstname\": \"Reminder\",\n    \t  \t\"lastname\": \"Bot\",\n    \t  \t\"virtual_phone\": 12312259665,\n    \t  \t\"security_level\": 1,\n    \t  \t\"code\": 6440,\n    \t  \t\"type\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"long_url\": \"\",\n    \t  \t\"email\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"timezone\": \"America/Los_Angeles\"\n    \t},\n    \t\"da9976858d8bda52021754cf1909a327\": {\n    \t\t\"_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"table\": \"users\",\n      \t\t\"long_url\": \"\",\n    \t  \t\"user_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"access_token\": \"1512367299166.6gs5wh40wadlyvaniqi3jfko6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 917696016749,\n    \t  \t\"virtual_phone\": 917696016749,\n    \t  \t\"email\": \"mss.parveensachdeva@gmail.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Parveen\",\n    \t  \t\"lastname\": \"Sachdeva\",\n    \t  \t\"code\": 6501,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\",\n    \t    \t\"admin\": \"admin\",\n    \t    \t\"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"9C23D678-F1CA-44A1-AACB-B0871FFBF920\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {}\n    \t},\n    \t\"0a9b50963bc76018418ffd857d551ced\": {\n    \t\t\"_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"user_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"access_token\": \"1514977855897.ppl38hod8cea08dabzzrggb9\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 12145644732,\n    \t  \t\"virtual_phone\": 12145644732,\n    \t  \t\"email\": \"roger@dri.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Roger\",\n    \t  \t\"lastname\": \"Colburn\",\n    \t  \t\"code\": 9512,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\",\n    \t\t    \"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {},\n    \t  \t\"timezone\": \"America/New_York\"\n    \t},\n    \t\"2_0\": {\n    \t\t\"_id\": \"2_0\",\n    \t\t\"table\": \"task_table\",\n    \t  \t\"task_name\": \"Categories\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_page_id\": 0,\n    \t  \t\"page_id\": 2,\n    \t  \t\"parent_id\": 0,\n    \t  \t\"header_template_id\": \"2_h\",\n    \t  \t\"detail_template_id\": \"2_d\",\n    \t  \t\"footer_template_id\": \"2_f\",\n    \t  \t\"timeout_id\": null,\n    \t  \t\"child_default_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"child_default_task_name\": \"sub_category_task\",\n    \t  \t\"date_created\": \"2017-03-15T10:29:39.453Z\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"category\": \"Categories\",\n    \t  \t\"additional_data_fn\": \"N/A\",\n    \t  \t\"optional_data\": \"\\\"{}\\\"\",\n    \t  \t\"required_data\": \"\\\"{}\\\"\",\n    \t  \t\"offline_expiration_time\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"status\": 1\n    \t},\n    \t\"2_3\": {\n    \t\t\"_id\": \"2_3\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"child_task_id\": \"\",\n      \t\t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": \"9092618242e9895441bc9e978fa15098\",\n    \t  \t\"page_id\": 2,\n    \t  \t\"to_page_id\": 5,\n    \t  \t\"synchronized\": \"true\",\n    \t  \t\"processed\": \"true\",\n    \t  \t\"status\": \"active\",\n    \t  \t\"read\": \"true\",\n    \t  \t\"display_if_empty\": \"true\",\n    \t  \t\"due_date\": \"2017-03-01T04:47:28.084Z\",\n    \t  \t\"offline_expiration_seconds\": 3600,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t    \t\"message\": \"My Chats\"\n    \t  \t},\n    \t  \t\"watson_incoming\": {},\n    \t  \t\"timeout\": {},\n    \t  \t\"user_calculated\": {},\n      \t\t\"location\": [],\n    \t  \t\"defaults\": {\n    \t    \t\"parent\": null,\n    \t    \t\"all_children\": null\n    \t  \t},\n    \t  \t\"count_status\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count_if\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"createdAt\": 1493708443709,\n    \t  \t\"page_ids\": [2]\n    \t},\n    \t\"c01a40e0a39ab7071c72d422a5c96104\": {\n    \t\t\"_id\": \"c01a40e0a39ab7071c72d422a5c96104\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"intent_task_id\": \"2_0\",\n    \t  \t\"child_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": null,\n    \t  \t\"page_id\": 2,\n    \t  \t\"from_page_id\": 1,\n    \t  \t\"to_page_id\": 1502774414284,\n    \t  \t\"synchronized\": 0,\n    \t  \t\"processed\": 0,\n    \t  \t\"status\": 0,\n    \t  \t\"read\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"date_created\": \"2017-08-15T05:20:14.284Z\",\n    \t  \t\"offline_expiration_seconds\": 0,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"private\": \"private\"\n    \t  \t},\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"from_user\": {\n    \t\t    \"firstname\": \"ABC\",\n    \t\t    \"lastname\": \"Burgers\",\n    \t\t    \"email\": \"abc@burgers.com\",\n    \t\t    \"phone\": 11906\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t\t    \"note\": \"Company Owner Section\",\n    \t\t    \"message\": \"ReminderBot\"\n    \t  \t},\n    \t  \t\"template\": {\n    \t    \t\"details\": {\n    \t\t      \"_id\": \"2_d\",\n    \t\t      \"_rev\": \"7-0a8d302a193c0c3770a76652750d7bbb\",\n    \t\t      \"table\": \"template\",\n    \t\t      \"name\": \"Detail\",\n    \t\t      \"html\": \"\",\n    \t\t      \"js\": \"\"\n    \t    \t}\n    \t  },\n    \t  \"timeout\": {},\n    \t  \"user_calculate\": {},\n    \t  \"location\": {},\n    \t  \"default\": {\n    \t    \"parent\": null,\n    \t    \"allchildren\": null\n    \t  },\n    \t  \"count_status\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"count\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 1\n    \t  },\n    \t  \"count_if\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"createdAt\": 1502774414284,\n    \t  \"page_ids\": [2]\n    \t}\n    },\n//     node_original1 : {\n// \t\tsystem_id: {\n// \t\t\t\"_id\": system_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": system_id\n// \t\t},\n// \t\tcompany_id: {\n// \t\t\t\"_id\": company_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\tuser_id_co: {\n// \t\t\t\"_id\": user_id_co,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_co\n// \t\t},\n// \t\tuser_id_employee: {\n// \t\t\t\"_id\": user_id_employee,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_employee\n// \t\t},\n// \t\tgroup_name_page: {\n// \t\t\t\"_id\": group_name_page,\n// \t\t\t\"table\": \"task\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem1: {\n// \t\t\t\"_id\": item1,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem2: {\n// \t\t\t\"_id\": item2,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t}\n// \t},\n    node_original2: {\n\t\t\"987\": {\n\t\t\t\"_id\": \"987\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"999\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testname111\": {\n\t\t\t\"_id\": \"testname111\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testname\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"444\": {\n\t\t\t\"_id\": \"444\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"666\": {\n\t\t\t\"_id\": \"666\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"1001\": {\n\t\t\t\"_id\": \"1001\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"AAA\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"AAA\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1002\": {\n\t\t\t\"_id\": \"1002\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"history\": [],\n\t\t\t\"node_name\": \"\",\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"BBB\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"BBB\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1003\": {\n\t\t\t\"_id\": \"1003\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"CCC\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"CCC\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"444\"],\n\t\t\t\"ancestors\": [\"987\", \"444\"]\n\t\t},\n\t\t\"1004\": {\n\t\t\t\"_id\": \"1004\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"DDD\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"DDD\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"666\"],\n\t\t\t\"ancestors\": [\"987\", \"666\"]\n\t\t},\n\t\t\"999\": {\n\t\t\t\"_id\": \"999\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"AAA\": {\n\t\t\t\"_id\": \"AAA\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"BBB\": {\n\t\t\t\"_id\": \"BBB\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"CCC\": {\n\t\t\t\"_id\": \"CCC\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"DDD\": {\n\t\t\t\"_id\": \"DDD\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"111\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testfnsystem_id\": {\n\t\t\t\"_id\": \"testfn\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testfn\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"get_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"get_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"get node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"add_to_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"add_to_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"add to node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_from_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"delete_from_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete from node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"delete_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"create_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"create_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"create node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"companiessystem_id\": {\n\t\t\t\"_id\": \"companies\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"companies\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"reminderbot_company_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_company_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"companies\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id]\n\t\t},\n\t\t\"company_reminder_user123_id\": {\n\t\t\t\"_id\": \"company_reminder_user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_company_auth_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\"]\n\t\t},\n\t\t\"employee_actionssystem_id\": {\n\t\t\t\"_id\": \"employee_actions\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employee actions\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employeesystem_id\": {\n\t\t\t\"_id\": \"employee\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employees\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"employee_actions\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id]\n\t\t},\n\t\t\"reminderbot_employee_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_employee_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id]\n\t\t},\n\t\t\"reminderbot_employees_id\": {\n\t\t\t\"_id\": \"reminderbot_employees_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_employee_auth_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\"]\n\t\t},\n\t\t\"employee222_perm_id\": {\n\t\t\t\"_id\": \"employee222_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee222_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"employee333_perm_id\": {\n\t\t\t\"_id\": \"employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"sub_employee333_perm_id\": {\n\t\t\t\"_id\": \"sub_employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\", \"employee444_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee333_perm_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\", \"reminderbot_employees_id\", \"employee333_perm_id\", \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employee333_id\": {\n\t\t\t\"_id\": \"employee333_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee222_id\": {\n\t\t\t\"_id\": \"employee222_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee444_id\": {\n\t\t\t\"_id\": \"employee444_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee555_id\": {\n\t\t\t\"_id\": \"employee555_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"user123_id\"],\n\t\t\t\"ancestors\": [\"user123_id\"]\n\t\t},\n\t\t\"user123_id\": {\n\t\t\t\"_id\": \"user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"reminderbot_id\": {\n\t\t\t\"_id\": \"reminderbot_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id\": {\n\t\t\t\"_id\": \"old\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"old\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id_child\": {\n\t\t\t\"_id\": \"oldsystem_id_child\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"old\" + system_id, \"employee555_id\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"employee555_id\", \"user123_id\"]\n\t\t},\n\t\t\"oldsystem_id_childchild\": {\n\t\t\t\"_id\": \"oldsystem_id_childchild\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"oldsystem_id_child\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"oldsystem_id_child\", \"employee555_id\", \"user123_id\"]\n\t\t}\n    }\n};\n\n\nmsg.node_original1 = object.node_original1  ;\nmsg.node_original2 = object.node_original2  ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 247.00001525878906,
        "y": 131.99999237060547,
        "wires": [
            [
                "7e3d30c7.491f3",
                "c75a12dd.e99d7"
            ]
        ]
    },
    {
        "id": "d1911a9c.e5c218",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "get_page api-endpoint using custom node",
        "info": "",
        "x": 197.50003051757812,
        "y": 246.66672801971436,
        "wires": []
    },
    {
        "id": "d7dadf7e.8dfae",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 676.628532409668,
        "y": 315.5418167114258,
        "wires": [
            [
                "15a87f7.752a181"
            ]
        ]
    },
    {
        "id": "9ee28fd9.ad5b3",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "Start",
        "topic": "start",
        "payload": "{\"app\":{\"api\":{\"type\":\"update_get_pages\",\"content\":{\"page_id\":5,\"access_token\":\"1514977855897.ppl38hod8cea08dabzzrggb9\",\"phone\":\"12145644732\"}}},\"other_users\":{},\"platform\":{}}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 111.19099426269531,
        "y": 315.8785972595215,
        "wires": [
            [
                "d3813159.44f6c"
            ]
        ]
    },
    {
        "id": "afb268d1.926ed8",
        "type": "http request",
        "z": "55e92ca3.9a3084",
        "name": "View",
        "method": "GET",
        "ret": "obj",
        "url": "https://30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix.cloudant.com/master_table/_design/filterBy/_view/updated_get_pages",
        "tls": "",
        "x": 390.01737213134766,
        "y": 316.7882614135742,
        "wires": [
            [
                "65cd0c93.07fba4"
            ]
        ]
    },
    {
        "id": "d3813159.44f6c",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "payload",
        "func": "var payload = msg.payload;\n\nmsg.payload_content = payload.app.api.content ;\n\nnode.warn(msg.payload_content);\n\nnode.warn(msg);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 256.5173225402832,
        "y": 315.7882537841797,
        "wires": [
            [
                "afb268d1.926ed8"
            ]
        ]
    },
    {
        "id": "65cd0c93.07fba4",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "func": "var body            = msg.payload_content,\n    page_id         = body.page_id ,\n    access_token    = body.access_token,\n    payload         = msg.payload;\n \n    msg.db_record   = populate_records(payload.rows);\n    msg.user_obj    = populate_user(access_token, msg.db_record.users);\n    msg.user_tasks  = populate_user_task(msg.user_obj, msg.db_record.user_tasks);\n    msg.task_obj    = populate_taskobj(page_id, msg.db_record.tasks);\n\nmsg.payload = [{\n    payload: {\n        user_id: msg.user_obj._id, //or user_id_co\n        portal_id: \"fa1785333117ba7c06b9020a6d3c0079\",\n        page_id: msg.task_obj._id,\n        filter: [\"employees\", \"company\"] //group_name_company\n    },\n    fn_name: \"get_page\"\n}];\n\nnode.warn(msg.payload);\nreturn msg;\n\nfunction populate_counts(payload){\n    if(isEmpty(payload.rows)){\n        return {};\n    }else{\n        if(Object.prototype.toString.call(payload.rows) === \"[object Array]\"){\n            if(isEmpty(payload.rows)){\n                return {};\n            }else{\n                var values          = payload.rows;\n                    reducedData     = [];\n\n                for (var each_value in values)  {\n                \tif(values[each_value]){\n                \t\treducedData.push(reduceFn(null, [values[each_value]], false)[0]);\t\n                \t}\n                }\n                return reduceFn(null, reducedData, true);\n            }\n        }else{\n            return {};\n        }\n    }\n}\n\nfunction reduceFn(key, values, rereduce){\n    if(rereduce){\n\t\tvar result_object = {}, out_array = {}, reduce_pages = {};\n\n\t\t// first convert values array to an object-- values_object = {page1: {}, page2:{}, etc.}\n\t\tfor (var i in values) {\n\t\t\tif (values[i].value) {\n\t\t\t\tvar record = values[i].value;\n\t\t\t\tvar page_id = record.page_id;\n\t\t\t\treduce_pages[page_id] = record;\n\t\t\t\t//result_object[page_id] = record.count;\n\t\t\t\tresult_object[page_id] = JSON.parse(JSON.stringify(record.count)); // not sure if needed, but to make a unlinked copy to from original\n\t\t\t}\n\t\t}\n\t\t\n\t\t// reduce_pages (object) is a copy of incoming values array \n\t\t// result_object will be the result of the recuce keyed by page_id\n\n\t\tfor(var pages in reduce_pages){\t\t\t\t\t\t\t\t\t\t// go through each page in values\n\t\t\tif(reduce_pages[pages]){\n\t\t\t\tvar local_obj = reduce_pages[pages],\n\t\t\t\t    ancestors = local_obj.ancestors;\n\n\t\t\t\tfor (var itr in ancestors) {\t\t\t\t\t\t\t\t// go through each ancestor in the current page being calculated \n\t\t\t\t\tvar this_ancestor = ancestors[itr];\n\t\t\t\t\tif(reduce_pages[this_ancestor]){\t\t\t\t\t\t\n\t\t\t\t\t\tvar single_obj = reduce_pages[this_ancestor];\t\t// get the record associated with this ancestor\n\t\t\t\t\t\tvar single_obj_page_id = single_obj.page_id;\n\n\t\t\t\t\t\t// now update each of the result objects for each ancestor\n\t\t\t\t\t\tif (single_obj.count_if.active) {\n\t\t\t\t\t\t\tresult_object[single_obj_page_id].active += single_obj.count.active;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\t\t\t\n\t\t}\n\n\t\t// now convert result_object to an array \n\t\tif (Object.keys(result_object).length > 0) {\n\t\t\tfor (var j in result_object) {\n\t\t\t\tif (Object.keys(result_object[j]).length) {\n\t\t\t\t\tout_array[j] = result_object[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t    return out_array;\n    }else{\n    \treturn values;\n    }\n}\n\nfunction populate_records(list){\n    var users = [], templates = [], details=[], task_table = [], user_task = [], sorted_detail = [];\n    for(var i=0; i<list.length; i++){\n        if(list[i].value.table == \"template\"){\n            templates.push(list[i].value);\n        }\n\n        if(list[i].value.table == \"task_table\"){\n            task_table.push(list[i].value);\n        }\n\n        if(list[i].value.table == \"users\"){\n            users.push(list[i].value);\n        }\n        \n        if(list[i].value.table == \"user_page\"){\n            user_task.push(list[i].value);\n        }\n    }\n\n    return {users: users, templates: templates, details: details, tasks: task_table, user_tasks: user_task} ;\n}\n\nfunction populate_user(access_token, users){\n    var obj = {} ,\n        phone = body.phone ;\n        \n    for(var i =0; i<users.length; i++){\n        if(users[i].virtual_phone){\n            if(\n                (access_token === users[i].access_token) ||\n                (phone == users[i].virtual_phone.toString())\n                ){\n                obj = users[i];\n            }    \n        }\n    }\n    return obj;\n}\n\nfunction populate_user_task(user, user_tasks){\n    var users_task = [];\n    \n    for(var i=0; i<user_tasks.length; i++){\n        if( \n            (user_tasks[i].user_id == user._id) &&\n            (parseInt(user_tasks[i].synchronized) === 0)\n        ){\n            users_task.push(user_tasks[i]);\n        }\n    }\n    \n    return users_task;\n}\n\nfunction populate_taskobj(id, arr){\n    if(isEmpty(id)) return {};\n    \n    if(isEmpty(arr)){\n        return {};\n    }else{\n        for(var i=0; i<arr.length; i++){\n            if(arr[i].page_id == id){\n                return arr[i];\n            }\n        }\n    }\n}\n\nfunction isEmpty(obj){\n\n    if(Object.prototype.toString.call(obj) === \"[object Object]\"){\n        if( Object.keys(obj).length ){\n            return false;\n        }else{\n            return true;\n        }\n    }else if(Object.prototype.toString.call(obj) === \"[object Array]\"){\n        if( obj.length ){\n            return false;\n        }else{\n            return true;\n        }\n    }else{\n        if( obj ){\n            return false;\n        }else{\n            return true;\n        }\n    }   \n}",
        "outputs": 1,
        "noerr": 0,
        "x": 527.9063453674316,
        "y": 315.7883195877075,
        "wires": [
            [
                "d7dadf7e.8dfae"
            ]
        ]
    },
    {
        "id": "15a87f7.752a181",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "populate_res",
        "func": "var body                    = msg.payload_content,\n    page_id                 = body.page_id ,\n    access_token            = body.access_token,\n    payload                 = msg.db_get_page,\n    counts                  = msg.counts ,\n    db_record               = msg.db_record,\n    user_obj                = msg.user_obj,\n    task_obj                = msg.task_obj,\n    ancestor_conts_array    = [] ,\n    paginated_details       = populate_paginated_details(msg.payload);\n\n\nmsg.api_response = {status: 200, error:false, msg: \"Record fetched successfully\", records: populated_pages(db_record), bookmark: paginated_details.bookmark };\nreturn msg;\n\nfunction populated_pages(db_obj){\n    var pages = [] , req_page = {};\n   \n    if(!isEmpty(page_id)){\n        if(!isEmpty(task_obj)){\n            var single_prepare_task   =  formulate_task(task_obj, db_obj),\n                single_prepare_detail =  formulate_details(paginated_details.data ? paginated_details.data : paginated_details);\n            \n            req_page = {\n               page_id : page_id,\n               user    : (page_id == 11 ) ? {} : user_obj ,\n               task    : single_prepare_task,\n               detail  : single_prepare_detail\n            };\n        }\n    }\n    \n    return {req_page : req_page, pages: pages};\n}\n\nfunction formulate_details(detail_data){\n    var detailRecord = {\n        \"_id\": \t\"\",\n        \"image\":\t\t\"\",\n        \"to_page_id\": \t\"\",\n        \"user_id\": \t\t\"\",\n        \"page_ids\":      \"\",\n        \"page_id\":      \"\",\n        \"from_user_id\": \"\",\n        \"display_if_empty\": \"\",\n        \"processed\": \"\",\n        \"status\": \"\",\n    \t\"user_incoming\":{},\n        \"watson_incoming\":{},\n        \"type\":         {},\n        \"due_date\": \"\",\n        \"createdAt\": \"\",\n        \"from_user\":    {},\n        \"count\":{\"active\":0, \"unread\":0}\n    }, detailObj= [] ;\n    \n    if(detail_data.length){\n        //when we don't have any user info while using access_token\n        for(var k in detail_data){\n           detailObj.push( get_obj_data(detailRecord, detail_data[k]) );\n        }\n    }\n    return detailObj;\n}\n\nfunction formulate_task(task_obj, db_data){\n    var template_data       = db_data.templates ,\n    task_data               = task_obj,\n    templateObj             = {},\n    header_template_id      = task_data.header_template_id,\n    detail_template_id      = task_data.detail_template_id,\n    footer_template_id      = task_data.footer_template_id;\n    \n    for(var ind=0; ind<template_data.length; ind++){\n        if(header_template_id == template_data[ind]._id){\n            templateObj.header = template_data[ind];\n        }\n        if(detail_template_id == template_data[ind]._id){\n            templateObj.detail = template_data[ind];\n        }\n        if(footer_template_id == template_data[ind]._id){\n            templateObj.footer = template_data[ind];\n        }\n    }\n    var taskObj = {\n        \"task_id\":\t\t    task_data._id,\n        \"task_name\":\t\ttask_data.task_name,\n        \"page_id\":          task_data.page_id,\n        \"parent_id\":        task_data.parent_id,\n        \"template\": \t\ttemplateObj,\n        \"from_page_id\":\t\ttask_data.from_page_id,\n        \"child_task_id\":    task_data.child_default_task_id,\n        \"date_created\":     task_data.date_created\n    };\n    \n    return taskObj;\n}\n\nfunction get_obj_data(obj1, obj2){\n\tvar obj = {};\n\tfor (var key in obj1) {\n\t\tif(obj2.hasOwnProperty(key))\n\t\t\tobj[key] = obj2[key];\n\t\telse\n\t\t    obj[key] = obj1[key];\n\t}\n\t//2nd operator check stated here...\n\tif(!isEmpty(obj2.operator_type) && obj2.operator_type == \"1\") {\n\t    obj.isSecondOperator = true ;\n\t}else{\n\t    obj.isSecondOperator = false ;\n\t}\n\treturn obj;\n}\n\nfunction populate_paginated_details(list){\n    return {data: list[0].result, bookmark: null};\n}\n\nfunction isEmpty(obj){\n\n    if(Object.prototype.toString.call(obj) === \"[object Object]\"){\n        if( Object.keys(obj).length ){\n            return false;\n        }else{\n            return true;\n        }\n    }else if(Object.prototype.toString.call(obj) === \"[object Array]\"){\n        if( obj.length ){\n            return false;\n        }else{\n            return true;\n        }\n    }else{\n        if( obj ){\n            return false;\n        }else{\n            return true;\n        }\n    }   \n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 852.6250343322754,
        "y": 314.5347604751587,
        "wires": [
            [
                "d0577403.a70ae8"
            ]
        ]
    },
    {
        "id": "d0577403.a70ae8",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "api_response",
        "x": 1054.8507194519043,
        "y": 314.23272228240967,
        "wires": []
    },
    {
        "id": "c75a12dd.e99d7",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 419.18750762939453,
        "y": 181.34027004241943,
        "wires": []
    },
    {
        "id": "a159b821.394708",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 608.1840438842773,
        "y": 178.34720993041992,
        "wires": []
    },
    {
        "id": "44aa38b1.c51c88",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "Basic Flow to test the treeSoftware with all init.js records",
        "info": "",
        "x": 245.18402099609375,
        "y": 57.40625,
        "wires": []
    },
    {
        "id": "42ee2f8f.e39eb",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "Create `Grand parent` records i.e (company/groups)",
        "info": "",
        "x": 232.00000762939453,
        "y": 467.9999704360962,
        "wires": []
    },
    {
        "id": "e7e8b012.76e0b",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 593.0000267028809,
        "y": 488.01037311553955,
        "wires": [
            [
                "a6cc35df.5675d8"
            ]
        ]
    },
    {
        "id": "8396b443.214d48",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "start",
        "topic": "start",
        "payload": "start",
        "payloadType": "flow",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 87.00003814697266,
        "y": 545.010368347168,
        "wires": [
            [
                "b5a693f1.d12ab"
            ]
        ]
    },
    {
        "id": "a6cc35df.5675d8",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 778.0000267028809,
        "y": 487.0103807449341,
        "wires": []
    },
    {
        "id": "45f2e53f.47a83c",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init_load",
        "func": "var system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // Company Reminderbot Id\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\", // detail associated with task above\n\n\tinclude_data = true,\n\tinclude_head = false,\n\tmaster_parents = [],\n\tgroup_name_company = \"company\",\n\tgroup_name_employee = \"employees\",\n\n\tfn_name_add = \"add_to_node_name_tree\",\n\tfn_name_get = \"get_node_name_tree\",\n\tfn_name_del = \"delete_from_node_name_tree\",\n\tfn_get_page = \"get_page\",\n\tfn_get_page2 = \"get_page2\",\n\t\n\tname_add = \"add_to_node_name_tree\",\n\tname_get = \"get_node_name_tree\",\n\tname_del = \"delete_from_node_name_tree\",\n\tname_get_page = \"get_page\",\n\tnode_id = null,\n\ttree_owner_id = system_id,\n\ttemp_node_company = group_name_company + system_id,\n\ttemp_node_employee = group_name_employee + system_id,\n\ttemp_node_page = group_name_page + system_id;\n\n\nvar init_load = [\n\t\t{\n            payload: {\n                user_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n                portal_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n                node_name: \"Operator2\", //group_name_company,\n                data_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n                master_parents: [], //tree_owner_id,\n                tree_owner_id: \"f1b5ed9577f69c6b131d94a46b39044f\",\n                node_id: null, //node_id,\n                target: \"grand\",\n                parent_node_name: \"EmployeeBranch\"\n            },\n            fn_name: fn_name_add\n        }\n\t];\n\t\nmsg.payload = init_load ;\n//node.warn(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 408,
        "y": 524.0103750228882,
        "wires": [
            [
                "e7e8b012.76e0b",
                "337570f0.a7e62"
            ]
        ]
    },
    {
        "id": "b5a693f1.d12ab",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "func": "var\n\tsystem_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // user\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\"; // detail associated with task above\n\nvar object = {\n    node_original1: {\n    \t\"f1b5ed9577f69c6b131d94a46b39044f\": {\n    \t\t\"_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"access_token\": \"1515420557174.o0i9pckra2xtxt6s9v28lrf6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 1234,\n    \t  \t\"virtual_phone\": 11234,\n    \t  \t\"email\": \"admin@drilist.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"admin\",\n    \t  \t\"lastname\": \"user\",\n    \t  \t\"code\": 9489,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"device_token\": {},\n    \t  \t\"push_accepted\": 1\n    \t},\n    \t\"fa1785333117ba7c06b9020a6d3c0079\": {\n    \t\t\"_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"access_token\": \"1505915176652.8bwoh8j7fft8jjpa59zjb57b9\",\n    \t  \t\"phone\": 12312259665,\n    \t  \t\"firstname\": \"Reminder\",\n    \t  \t\"lastname\": \"Bot\",\n    \t  \t\"virtual_phone\": 12312259665,\n    \t  \t\"security_level\": 1,\n    \t  \t\"code\": 6440,\n    \t  \t\"type\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"long_url\": \"\",\n    \t  \t\"email\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"timezone\": \"America/Los_Angeles\"\n    \t},\n    \t\"da9976858d8bda52021754cf1909a327\": {\n    \t\t\"_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"table\": \"users\",\n      \t\t\"long_url\": \"\",\n    \t  \t\"user_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"access_token\": \"1512367299166.6gs5wh40wadlyvaniqi3jfko6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 917696016749,\n    \t  \t\"virtual_phone\": 917696016749,\n    \t  \t\"email\": \"mss.parveensachdeva@gmail.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Parveen\",\n    \t  \t\"lastname\": \"Sachdeva\",\n    \t  \t\"code\": 6501,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\",\n    \t    \t\"admin\": \"admin\",\n    \t    \t\"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"9C23D678-F1CA-44A1-AACB-B0871FFBF920\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {}\n    \t},\n    \t\"0a9b50963bc76018418ffd857d551ced\": {\n    \t\t\"_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"user_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"access_token\": \"1514977855897.ppl38hod8cea08dabzzrggb9\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 12145644732,\n    \t  \t\"virtual_phone\": 12145644732,\n    \t  \t\"email\": \"roger@dri.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Roger\",\n    \t  \t\"lastname\": \"Colburn\",\n    \t  \t\"code\": 9512,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\",\n    \t\t    \"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {},\n    \t  \t\"timezone\": \"America/New_York\"\n    \t},\n    \t\"2_0\": {\n    \t\t\"_id\": \"2_0\",\n    \t\t\"table\": \"task_table\",\n    \t  \t\"task_name\": \"Categories\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_page_id\": 0,\n    \t  \t\"page_id\": 2,\n    \t  \t\"parent_id\": 0,\n    \t  \t\"header_template_id\": \"2_h\",\n    \t  \t\"detail_template_id\": \"2_d\",\n    \t  \t\"footer_template_id\": \"2_f\",\n    \t  \t\"timeout_id\": null,\n    \t  \t\"child_default_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"child_default_task_name\": \"sub_category_task\",\n    \t  \t\"date_created\": \"2017-03-15T10:29:39.453Z\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"category\": \"Categories\",\n    \t  \t\"additional_data_fn\": \"N/A\",\n    \t  \t\"optional_data\": \"\\\"{}\\\"\",\n    \t  \t\"required_data\": \"\\\"{}\\\"\",\n    \t  \t\"offline_expiration_time\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"status\": 1\n    \t},\n    \t\"2_3\": {\n    \t\t\"_id\": \"2_3\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"child_task_id\": \"\",\n      \t\t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": \"9092618242e9895441bc9e978fa15098\",\n    \t  \t\"page_id\": 2,\n    \t  \t\"to_page_id\": 5,\n    \t  \t\"synchronized\": \"true\",\n    \t  \t\"processed\": \"true\",\n    \t  \t\"status\": \"active\",\n    \t  \t\"read\": \"true\",\n    \t  \t\"display_if_empty\": \"true\",\n    \t  \t\"due_date\": \"2017-03-01T04:47:28.084Z\",\n    \t  \t\"offline_expiration_seconds\": 3600,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t    \t\"message\": \"My Chats\"\n    \t  \t},\n    \t  \t\"watson_incoming\": {},\n    \t  \t\"timeout\": {},\n    \t  \t\"user_calculated\": {},\n      \t\t\"location\": [],\n    \t  \t\"defaults\": {\n    \t    \t\"parent\": null,\n    \t    \t\"all_children\": null\n    \t  \t},\n    \t  \t\"count_status\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count_if\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"createdAt\": 1493708443709,\n    \t  \t\"page_ids\": [2]\n    \t},\n    \t\"c01a40e0a39ab7071c72d422a5c96104\": {\n    \t\t\"_id\": \"c01a40e0a39ab7071c72d422a5c96104\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"intent_task_id\": \"2_0\",\n    \t  \t\"child_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": null,\n    \t  \t\"page_id\": 2,\n    \t  \t\"from_page_id\": 1,\n    \t  \t\"to_page_id\": 1502774414284,\n    \t  \t\"synchronized\": 0,\n    \t  \t\"processed\": 0,\n    \t  \t\"status\": 0,\n    \t  \t\"read\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"date_created\": \"2017-08-15T05:20:14.284Z\",\n    \t  \t\"offline_expiration_seconds\": 0,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"private\": \"private\"\n    \t  \t},\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"from_user\": {\n    \t\t    \"firstname\": \"ABC\",\n    \t\t    \"lastname\": \"Burgers\",\n    \t\t    \"email\": \"abc@burgers.com\",\n    \t\t    \"phone\": 11906\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t\t    \"note\": \"Company Owner Section\",\n    \t\t    \"message\": \"ReminderBot\"\n    \t  \t},\n    \t  \t\"template\": {\n    \t    \t\"details\": {\n    \t\t      \"_id\": \"2_d\",\n    \t\t      \"_rev\": \"7-0a8d302a193c0c3770a76652750d7bbb\",\n    \t\t      \"table\": \"template\",\n    \t\t      \"name\": \"Detail\",\n    \t\t      \"html\": \"\",\n    \t\t      \"js\": \"\"\n    \t    \t}\n    \t  },\n    \t  \"timeout\": {},\n    \t  \"user_calculate\": {},\n    \t  \"location\": {},\n    \t  \"default\": {\n    \t    \"parent\": null,\n    \t    \"allchildren\": null\n    \t  },\n    \t  \"count_status\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"count\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 1\n    \t  },\n    \t  \"count_if\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"createdAt\": 1502774414284,\n    \t  \"page_ids\": [2]\n    \t}\n    },\n//     node_original1 : {\n// \t\tsystem_id: {\n// \t\t\t\"_id\": system_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": system_id\n// \t\t},\n// \t\tcompany_id: {\n// \t\t\t\"_id\": company_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\tuser_id_co: {\n// \t\t\t\"_id\": user_id_co,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_co\n// \t\t},\n// \t\tuser_id_employee: {\n// \t\t\t\"_id\": user_id_employee,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_employee\n// \t\t},\n// \t\tgroup_name_page: {\n// \t\t\t\"_id\": group_name_page,\n// \t\t\t\"table\": \"task\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem1: {\n// \t\t\t\"_id\": item1,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem2: {\n// \t\t\t\"_id\": item2,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t}\n// \t},\n    node_original2: {\n\t\t\"987\": {\n\t\t\t\"_id\": \"987\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"999\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testname111\": {\n\t\t\t\"_id\": \"testname111\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testname\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"444\": {\n\t\t\t\"_id\": \"444\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"666\": {\n\t\t\t\"_id\": \"666\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"1001\": {\n\t\t\t\"_id\": \"1001\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"AAA\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"AAA\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1002\": {\n\t\t\t\"_id\": \"1002\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"history\": [],\n\t\t\t\"node_name\": \"\",\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"BBB\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"BBB\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1003\": {\n\t\t\t\"_id\": \"1003\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"CCC\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"CCC\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"444\"],\n\t\t\t\"ancestors\": [\"987\", \"444\"]\n\t\t},\n\t\t\"1004\": {\n\t\t\t\"_id\": \"1004\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"DDD\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"DDD\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"666\"],\n\t\t\t\"ancestors\": [\"987\", \"666\"]\n\t\t},\n\t\t\"999\": {\n\t\t\t\"_id\": \"999\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"AAA\": {\n\t\t\t\"_id\": \"AAA\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"BBB\": {\n\t\t\t\"_id\": \"BBB\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"CCC\": {\n\t\t\t\"_id\": \"CCC\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"DDD\": {\n\t\t\t\"_id\": \"DDD\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"111\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testfnsystem_id\": {\n\t\t\t\"_id\": \"testfn\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testfn\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"get_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"get_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"get node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"add_to_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"add_to_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"add to node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_from_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"delete_from_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete from node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"delete_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"create_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"create_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"create node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"companiessystem_id\": {\n\t\t\t\"_id\": \"companies\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"companies\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"reminderbot_company_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_company_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"companies\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id]\n\t\t},\n\t\t\"company_reminder_user123_id\": {\n\t\t\t\"_id\": \"company_reminder_user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_company_auth_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\"]\n\t\t},\n\t\t\"employee_actionssystem_id\": {\n\t\t\t\"_id\": \"employee_actions\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employee actions\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employeesystem_id\": {\n\t\t\t\"_id\": \"employee\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employees\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"employee_actions\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id]\n\t\t},\n\t\t\"reminderbot_employee_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_employee_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id]\n\t\t},\n\t\t\"reminderbot_employees_id\": {\n\t\t\t\"_id\": \"reminderbot_employees_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_employee_auth_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\"]\n\t\t},\n\t\t\"employee222_perm_id\": {\n\t\t\t\"_id\": \"employee222_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee222_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"employee333_perm_id\": {\n\t\t\t\"_id\": \"employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"sub_employee333_perm_id\": {\n\t\t\t\"_id\": \"sub_employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\", \"employee444_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee333_perm_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\", \"reminderbot_employees_id\", \"employee333_perm_id\", \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employee333_id\": {\n\t\t\t\"_id\": \"employee333_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee222_id\": {\n\t\t\t\"_id\": \"employee222_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee444_id\": {\n\t\t\t\"_id\": \"employee444_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee555_id\": {\n\t\t\t\"_id\": \"employee555_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"user123_id\"],\n\t\t\t\"ancestors\": [\"user123_id\"]\n\t\t},\n\t\t\"user123_id\": {\n\t\t\t\"_id\": \"user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"reminderbot_id\": {\n\t\t\t\"_id\": \"reminderbot_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id\": {\n\t\t\t\"_id\": \"old\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"old\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id_child\": {\n\t\t\t\"_id\": \"oldsystem_id_child\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"old\" + system_id, \"employee555_id\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"employee555_id\", \"user123_id\"]\n\t\t},\n\t\t\"oldsystem_id_childchild\": {\n\t\t\t\"_id\": \"oldsystem_id_childchild\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"oldsystem_id_child\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"oldsystem_id_child\", \"employee555_id\", \"user123_id\"]\n\t\t}\n    }\n};\n\n\nmsg.node_original1 = object.node_original1  ;\nmsg.node_original2 = object.node_original2  ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 256.99999237060547,
        "y": 544.0103731155396,
        "wires": [
            [
                "45f2e53f.47a83c",
                "32f99b88.cd7be4"
            ]
        ]
    },
    {
        "id": "32f99b88.cd7be4",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 401.1874809265137,
        "y": 576.350625038147,
        "wires": []
    },
    {
        "id": "337570f0.a7e62",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 579.1840381622314,
        "y": 542.3575754165649,
        "wires": []
    },
    {
        "id": "8233495f.6ee3a8",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 596.9999961853027,
        "y": 662.9999675750732,
        "wires": [
            [
                "661afa4.115f804"
            ]
        ]
    },
    {
        "id": "92819174.ae3a7",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "start",
        "topic": "start",
        "payload": "start",
        "payloadType": "flow",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 92.00000762939453,
        "y": 718.0000228881836,
        "wires": [
            [
                "1cae0bde.9a2d64"
            ]
        ]
    },
    {
        "id": "661afa4.115f804",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 781.9999961853027,
        "y": 661.9999752044678,
        "wires": []
    },
    {
        "id": "33c86685.09128a",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init_load",
        "func": "var system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // Company Reminderbot Id\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\", // detail associated with task above\n\n\tinclude_data = true,\n\tinclude_head = false,\n\tmaster_parents = [],\n\tgroup_name_company = \"company\",\n\tgroup_name_employee = \"employees\",\n\n\tfn_name_add = \"add_to_node_name_tree\",\n\tfn_name_get = \"get_node_name_tree\",\n\tfn_name_del = \"delete_from_node_name_tree\",\n\tfn_get_page = \"get_page\",\n\tfn_get_page2 = \"get_page2\",\n\t\n\tname_add = \"add_to_node_name_tree\",\n\tname_get = \"get_node_name_tree\",\n\tname_del = \"delete_from_node_name_tree\",\n\tname_get_page = \"get_page\",\n\tnode_id = null,\n\ttree_owner_id = system_id,\n\ttemp_node_company = group_name_company + system_id,\n\ttemp_node_employee = group_name_employee + system_id,\n\ttemp_node_page = group_name_page + system_id;\n\n\nvar init_load = [\n\t\t{\n            payload: {\n                user_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id,\n                portal_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id,\n                node_name: \"Operator2\",\n                data_id: \"fa1785333117ba7c06b9020a6d3c0079\", //company_id\n                master_parents: [],\n                tree_owner_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n                node_id: null,\n                target: \"parent\",\n                parent_node_name: \"\"\n            },\n            fn_name: \"add_to_node_name_tree\", //fn_name_add\n        }\n\t];\n\t\nmsg.payload = init_load ;\n//node.warn(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 411.9999694824219,
        "y": 698.9999694824219,
        "wires": [
            [
                "bf382271.bf09e",
                "8233495f.6ee3a8"
            ]
        ]
    },
    {
        "id": "1cae0bde.9a2d64",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "func": "var\n\tsystem_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // user\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\"; // detail associated with task above\n\nvar object = {\n    node_original1: {\n    \t\"f1b5ed9577f69c6b131d94a46b39044f\": {\n    \t\t\"_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"access_token\": \"1515420557174.o0i9pckra2xtxt6s9v28lrf6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 1234,\n    \t  \t\"virtual_phone\": 11234,\n    \t  \t\"email\": \"admin@drilist.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"admin\",\n    \t  \t\"lastname\": \"user\",\n    \t  \t\"code\": 9489,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"device_token\": {},\n    \t  \t\"push_accepted\": 1\n    \t},\n    \t\"fa1785333117ba7c06b9020a6d3c0079\": {\n    \t\t\"_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"access_token\": \"1505915176652.8bwoh8j7fft8jjpa59zjb57b9\",\n    \t  \t\"phone\": 12312259665,\n    \t  \t\"firstname\": \"Reminder\",\n    \t  \t\"lastname\": \"Bot\",\n    \t  \t\"virtual_phone\": 12312259665,\n    \t  \t\"security_level\": 1,\n    \t  \t\"code\": 6440,\n    \t  \t\"type\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"long_url\": \"\",\n    \t  \t\"email\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"timezone\": \"America/Los_Angeles\"\n    \t},\n    \t\"da9976858d8bda52021754cf1909a327\": {\n    \t\t\"_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"table\": \"users\",\n      \t\t\"long_url\": \"\",\n    \t  \t\"user_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"access_token\": \"1512367299166.6gs5wh40wadlyvaniqi3jfko6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 917696016749,\n    \t  \t\"virtual_phone\": 917696016749,\n    \t  \t\"email\": \"mss.parveensachdeva@gmail.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Parveen\",\n    \t  \t\"lastname\": \"Sachdeva\",\n    \t  \t\"code\": 6501,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\",\n    \t    \t\"admin\": \"admin\",\n    \t    \t\"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"9C23D678-F1CA-44A1-AACB-B0871FFBF920\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {}\n    \t},\n    \t\"0a9b50963bc76018418ffd857d551ced\": {\n    \t\t\"_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"user_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"access_token\": \"1514977855897.ppl38hod8cea08dabzzrggb9\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 12145644732,\n    \t  \t\"virtual_phone\": 12145644732,\n    \t  \t\"email\": \"roger@dri.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Roger\",\n    \t  \t\"lastname\": \"Colburn\",\n    \t  \t\"code\": 9512,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\",\n    \t\t    \"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {},\n    \t  \t\"timezone\": \"America/New_York\"\n    \t},\n    \t\"2_0\": {\n    \t\t\"_id\": \"2_0\",\n    \t\t\"table\": \"task_table\",\n    \t  \t\"task_name\": \"Categories\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_page_id\": 0,\n    \t  \t\"page_id\": 2,\n    \t  \t\"parent_id\": 0,\n    \t  \t\"header_template_id\": \"2_h\",\n    \t  \t\"detail_template_id\": \"2_d\",\n    \t  \t\"footer_template_id\": \"2_f\",\n    \t  \t\"timeout_id\": null,\n    \t  \t\"child_default_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"child_default_task_name\": \"sub_category_task\",\n    \t  \t\"date_created\": \"2017-03-15T10:29:39.453Z\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"category\": \"Categories\",\n    \t  \t\"additional_data_fn\": \"N/A\",\n    \t  \t\"optional_data\": \"\\\"{}\\\"\",\n    \t  \t\"required_data\": \"\\\"{}\\\"\",\n    \t  \t\"offline_expiration_time\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"status\": 1\n    \t},\n    \t\"2_3\": {\n    \t\t\"_id\": \"2_3\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"child_task_id\": \"\",\n      \t\t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": \"9092618242e9895441bc9e978fa15098\",\n    \t  \t\"page_id\": 2,\n    \t  \t\"to_page_id\": 5,\n    \t  \t\"synchronized\": \"true\",\n    \t  \t\"processed\": \"true\",\n    \t  \t\"status\": \"active\",\n    \t  \t\"read\": \"true\",\n    \t  \t\"display_if_empty\": \"true\",\n    \t  \t\"due_date\": \"2017-03-01T04:47:28.084Z\",\n    \t  \t\"offline_expiration_seconds\": 3600,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t    \t\"message\": \"My Chats\"\n    \t  \t},\n    \t  \t\"watson_incoming\": {},\n    \t  \t\"timeout\": {},\n    \t  \t\"user_calculated\": {},\n      \t\t\"location\": [],\n    \t  \t\"defaults\": {\n    \t    \t\"parent\": null,\n    \t    \t\"all_children\": null\n    \t  \t},\n    \t  \t\"count_status\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count_if\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"createdAt\": 1493708443709,\n    \t  \t\"page_ids\": [2]\n    \t},\n    \t\"c01a40e0a39ab7071c72d422a5c96104\": {\n    \t\t\"_id\": \"c01a40e0a39ab7071c72d422a5c96104\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"intent_task_id\": \"2_0\",\n    \t  \t\"child_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": null,\n    \t  \t\"page_id\": 2,\n    \t  \t\"from_page_id\": 1,\n    \t  \t\"to_page_id\": 1502774414284,\n    \t  \t\"synchronized\": 0,\n    \t  \t\"processed\": 0,\n    \t  \t\"status\": 0,\n    \t  \t\"read\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"date_created\": \"2017-08-15T05:20:14.284Z\",\n    \t  \t\"offline_expiration_seconds\": 0,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"private\": \"private\"\n    \t  \t},\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"from_user\": {\n    \t\t    \"firstname\": \"ABC\",\n    \t\t    \"lastname\": \"Burgers\",\n    \t\t    \"email\": \"abc@burgers.com\",\n    \t\t    \"phone\": 11906\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t\t    \"note\": \"Company Owner Section\",\n    \t\t    \"message\": \"ReminderBot\"\n    \t  \t},\n    \t  \t\"template\": {\n    \t    \t\"details\": {\n    \t\t      \"_id\": \"2_d\",\n    \t\t      \"_rev\": \"7-0a8d302a193c0c3770a76652750d7bbb\",\n    \t\t      \"table\": \"template\",\n    \t\t      \"name\": \"Detail\",\n    \t\t      \"html\": \"\",\n    \t\t      \"js\": \"\"\n    \t    \t}\n    \t  },\n    \t  \"timeout\": {},\n    \t  \"user_calculate\": {},\n    \t  \"location\": {},\n    \t  \"default\": {\n    \t    \"parent\": null,\n    \t    \"allchildren\": null\n    \t  },\n    \t  \"count_status\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"count\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 1\n    \t  },\n    \t  \"count_if\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"createdAt\": 1502774414284,\n    \t  \"page_ids\": [2]\n    \t}\n    },\n//     node_original1 : {\n// \t\tsystem_id: {\n// \t\t\t\"_id\": system_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": system_id\n// \t\t},\n// \t\tcompany_id: {\n// \t\t\t\"_id\": company_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\tuser_id_co: {\n// \t\t\t\"_id\": user_id_co,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_co\n// \t\t},\n// \t\tuser_id_employee: {\n// \t\t\t\"_id\": user_id_employee,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_employee\n// \t\t},\n// \t\tgroup_name_page: {\n// \t\t\t\"_id\": group_name_page,\n// \t\t\t\"table\": \"task\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem1: {\n// \t\t\t\"_id\": item1,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem2: {\n// \t\t\t\"_id\": item2,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t}\n// \t},\n    node_original2: {\n\t\t\"987\": {\n\t\t\t\"_id\": \"987\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"999\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testname111\": {\n\t\t\t\"_id\": \"testname111\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testname\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"444\": {\n\t\t\t\"_id\": \"444\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"666\": {\n\t\t\t\"_id\": \"666\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"1001\": {\n\t\t\t\"_id\": \"1001\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"AAA\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"AAA\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1002\": {\n\t\t\t\"_id\": \"1002\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"history\": [],\n\t\t\t\"node_name\": \"\",\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"BBB\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"BBB\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1003\": {\n\t\t\t\"_id\": \"1003\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"CCC\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"CCC\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"444\"],\n\t\t\t\"ancestors\": [\"987\", \"444\"]\n\t\t},\n\t\t\"1004\": {\n\t\t\t\"_id\": \"1004\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"DDD\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"DDD\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"666\"],\n\t\t\t\"ancestors\": [\"987\", \"666\"]\n\t\t},\n\t\t\"999\": {\n\t\t\t\"_id\": \"999\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"AAA\": {\n\t\t\t\"_id\": \"AAA\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"BBB\": {\n\t\t\t\"_id\": \"BBB\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"CCC\": {\n\t\t\t\"_id\": \"CCC\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"DDD\": {\n\t\t\t\"_id\": \"DDD\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"111\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testfnsystem_id\": {\n\t\t\t\"_id\": \"testfn\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testfn\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"get_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"get_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"get node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"add_to_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"add_to_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"add to node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_from_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"delete_from_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete from node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"delete_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"create_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"create_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"create node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"companiessystem_id\": {\n\t\t\t\"_id\": \"companies\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"companies\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"reminderbot_company_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_company_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"companies\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id]\n\t\t},\n\t\t\"company_reminder_user123_id\": {\n\t\t\t\"_id\": \"company_reminder_user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_company_auth_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\"]\n\t\t},\n\t\t\"employee_actionssystem_id\": {\n\t\t\t\"_id\": \"employee_actions\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employee actions\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employeesystem_id\": {\n\t\t\t\"_id\": \"employee\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employees\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"employee_actions\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id]\n\t\t},\n\t\t\"reminderbot_employee_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_employee_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id]\n\t\t},\n\t\t\"reminderbot_employees_id\": {\n\t\t\t\"_id\": \"reminderbot_employees_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_employee_auth_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\"]\n\t\t},\n\t\t\"employee222_perm_id\": {\n\t\t\t\"_id\": \"employee222_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee222_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"employee333_perm_id\": {\n\t\t\t\"_id\": \"employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"sub_employee333_perm_id\": {\n\t\t\t\"_id\": \"sub_employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\", \"employee444_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee333_perm_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\", \"reminderbot_employees_id\", \"employee333_perm_id\", \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employee333_id\": {\n\t\t\t\"_id\": \"employee333_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee222_id\": {\n\t\t\t\"_id\": \"employee222_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee444_id\": {\n\t\t\t\"_id\": \"employee444_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee555_id\": {\n\t\t\t\"_id\": \"employee555_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"user123_id\"],\n\t\t\t\"ancestors\": [\"user123_id\"]\n\t\t},\n\t\t\"user123_id\": {\n\t\t\t\"_id\": \"user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"reminderbot_id\": {\n\t\t\t\"_id\": \"reminderbot_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id\": {\n\t\t\t\"_id\": \"old\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"old\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id_child\": {\n\t\t\t\"_id\": \"oldsystem_id_child\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"old\" + system_id, \"employee555_id\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"employee555_id\", \"user123_id\"]\n\t\t},\n\t\t\"oldsystem_id_childchild\": {\n\t\t\t\"_id\": \"oldsystem_id_childchild\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"oldsystem_id_child\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"oldsystem_id_child\", \"employee555_id\", \"user123_id\"]\n\t\t}\n    }\n};\n\n\nmsg.node_original1 = object.node_original1  ;\nmsg.node_original2 = object.node_original2  ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 260.99996185302734,
        "y": 718.9999675750732,
        "wires": [
            [
                "33c86685.09128a",
                "15a737d6.d83968"
            ]
        ]
    },
    {
        "id": "15a737d6.d83968",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 405.18745040893555,
        "y": 751.3402194976807,
        "wires": []
    },
    {
        "id": "bf382271.bf09e",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 583.1840076446533,
        "y": 717.3471698760986,
        "wires": []
    },
    {
        "id": "953b1425.5dbea8",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "create `parent/portal` record  inside a group/company",
        "info": "",
        "x": 235.00000762939453,
        "y": 658.0000190734863,
        "wires": []
    },
    {
        "id": "aff681ab.8d04b",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 570.0000076293945,
        "y": 873.0000953674316,
        "wires": [
            [
                "39c0cf4.764443"
            ]
        ]
    },
    {
        "id": "31f0d88c.2a6138",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "start",
        "topic": "start",
        "payload": "start",
        "payloadType": "flow",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 94.0000114440918,
        "y": 930.0001277923584,
        "wires": [
            [
                "d1bc0065.30d69"
            ]
        ]
    },
    {
        "id": "39c0cf4.764443",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 755.0000076293945,
        "y": 872.0001029968262,
        "wires": []
    },
    {
        "id": "25d33150.c6727e",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init_load",
        "func": "var system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // Company Reminderbot Id\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\", // detail associated with task above\n\n\tinclude_data = true,\n\tinclude_head = false,\n\tmaster_parents = [],\n\tgroup_name_company = \"company\",\n\tgroup_name_employee = \"employees\",\n\n\tfn_name_add = \"add_to_node_name_tree\",\n\tfn_name_get = \"get_node_name_tree\",\n\tfn_name_del = \"delete_from_node_name_tree\",\n\tfn_get_page = \"get_page\",\n\tfn_get_page2 = \"get_page2\",\n\t\n\tname_add = \"add_to_node_name_tree\",\n\tname_get = \"get_node_name_tree\",\n\tname_del = \"delete_from_node_name_tree\",\n\tname_get_page = \"get_page\",\n\tnode_id = null,\n\ttree_owner_id = system_id,\n\ttemp_node_company = group_name_company + system_id,\n\ttemp_node_employee = group_name_employee + system_id,\n\ttemp_node_page = group_name_page + system_id;\n\n\nvar init_load = [\n\t\t {\n            payload: {\n                user_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id,\n                portal_id: \"fa1785333117ba7c06b9020a6d3c0079\", //company_id,\n                node_name: \"Operator1\",\n                data_id: \"51fd8f4edcac9037a23548efd2805586\",// *CHANGE THIS *,\n                master_parents: [], //should be array in nature\n                tree_owner_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n                node_id: null,\n                target: \"child\",\n                parent_node_name: \"\",\n            },\n            fn_name: \"add_to_node_name_tree\"\n        }\n\t];\n\t\nmsg.payload = init_load ;\n//node.warn(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 384.9999809265137,
        "y": 909.0000972747803,
        "wires": [
            [
                "b9b18547.858b68",
                "aff681ab.8d04b"
            ]
        ]
    },
    {
        "id": "d1bc0065.30d69",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "func": "var\n\tsystem_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // user\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\"; // detail associated with task above\n\nvar object = {\n    node_original1: {\n    \t\"f1b5ed9577f69c6b131d94a46b39044f\": {\n    \t\t\"_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"access_token\": \"1515420557174.o0i9pckra2xtxt6s9v28lrf6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 1234,\n    \t  \t\"virtual_phone\": 11234,\n    \t  \t\"email\": \"admin@drilist.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"admin\",\n    \t  \t\"lastname\": \"user\",\n    \t  \t\"code\": 9489,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"device_token\": {},\n    \t  \t\"push_accepted\": 1\n    \t},\n    \t\"fa1785333117ba7c06b9020a6d3c0079\": {\n    \t\t\"_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"access_token\": \"1505915176652.8bwoh8j7fft8jjpa59zjb57b9\",\n    \t  \t\"phone\": 12312259665,\n    \t  \t\"firstname\": \"Reminder\",\n    \t  \t\"lastname\": \"Bot\",\n    \t  \t\"virtual_phone\": 12312259665,\n    \t  \t\"security_level\": 1,\n    \t  \t\"code\": 6440,\n    \t  \t\"type\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"long_url\": \"\",\n    \t  \t\"email\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"timezone\": \"America/Los_Angeles\"\n    \t},\n    \t\"da9976858d8bda52021754cf1909a327\": {\n    \t\t\"_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"table\": \"users\",\n      \t\t\"long_url\": \"\",\n    \t  \t\"user_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"access_token\": \"1512367299166.6gs5wh40wadlyvaniqi3jfko6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 917696016749,\n    \t  \t\"virtual_phone\": 917696016749,\n    \t  \t\"email\": \"mss.parveensachdeva@gmail.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Parveen\",\n    \t  \t\"lastname\": \"Sachdeva\",\n    \t  \t\"code\": 6501,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\",\n    \t    \t\"admin\": \"admin\",\n    \t    \t\"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"9C23D678-F1CA-44A1-AACB-B0871FFBF920\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {}\n    \t},\n    \t\"0a9b50963bc76018418ffd857d551ced\": {\n    \t\t\"_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"user_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"access_token\": \"1514977855897.ppl38hod8cea08dabzzrggb9\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 12145644732,\n    \t  \t\"virtual_phone\": 12145644732,\n    \t  \t\"email\": \"roger@dri.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Roger\",\n    \t  \t\"lastname\": \"Colburn\",\n    \t  \t\"code\": 9512,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\",\n    \t\t    \"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {},\n    \t  \t\"timezone\": \"America/New_York\"\n    \t},\n    \t\"2_0\": {\n    \t\t\"_id\": \"2_0\",\n    \t\t\"table\": \"task_table\",\n    \t  \t\"task_name\": \"Categories\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_page_id\": 0,\n    \t  \t\"page_id\": 2,\n    \t  \t\"parent_id\": 0,\n    \t  \t\"header_template_id\": \"2_h\",\n    \t  \t\"detail_template_id\": \"2_d\",\n    \t  \t\"footer_template_id\": \"2_f\",\n    \t  \t\"timeout_id\": null,\n    \t  \t\"child_default_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"child_default_task_name\": \"sub_category_task\",\n    \t  \t\"date_created\": \"2017-03-15T10:29:39.453Z\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"category\": \"Categories\",\n    \t  \t\"additional_data_fn\": \"N/A\",\n    \t  \t\"optional_data\": \"\\\"{}\\\"\",\n    \t  \t\"required_data\": \"\\\"{}\\\"\",\n    \t  \t\"offline_expiration_time\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"status\": 1\n    \t},\n    \t\"2_3\": {\n    \t\t\"_id\": \"2_3\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"child_task_id\": \"\",\n      \t\t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": \"9092618242e9895441bc9e978fa15098\",\n    \t  \t\"page_id\": 2,\n    \t  \t\"to_page_id\": 5,\n    \t  \t\"synchronized\": \"true\",\n    \t  \t\"processed\": \"true\",\n    \t  \t\"status\": \"active\",\n    \t  \t\"read\": \"true\",\n    \t  \t\"display_if_empty\": \"true\",\n    \t  \t\"due_date\": \"2017-03-01T04:47:28.084Z\",\n    \t  \t\"offline_expiration_seconds\": 3600,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t    \t\"message\": \"My Chats\"\n    \t  \t},\n    \t  \t\"watson_incoming\": {},\n    \t  \t\"timeout\": {},\n    \t  \t\"user_calculated\": {},\n      \t\t\"location\": [],\n    \t  \t\"defaults\": {\n    \t    \t\"parent\": null,\n    \t    \t\"all_children\": null\n    \t  \t},\n    \t  \t\"count_status\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count_if\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"createdAt\": 1493708443709,\n    \t  \t\"page_ids\": [2]\n    \t},\n    \t\"c01a40e0a39ab7071c72d422a5c96104\": {\n    \t\t\"_id\": \"c01a40e0a39ab7071c72d422a5c96104\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"intent_task_id\": \"2_0\",\n    \t  \t\"child_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": null,\n    \t  \t\"page_id\": 2,\n    \t  \t\"from_page_id\": 1,\n    \t  \t\"to_page_id\": 1502774414284,\n    \t  \t\"synchronized\": 0,\n    \t  \t\"processed\": 0,\n    \t  \t\"status\": 0,\n    \t  \t\"read\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"date_created\": \"2017-08-15T05:20:14.284Z\",\n    \t  \t\"offline_expiration_seconds\": 0,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"private\": \"private\"\n    \t  \t},\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"from_user\": {\n    \t\t    \"firstname\": \"ABC\",\n    \t\t    \"lastname\": \"Burgers\",\n    \t\t    \"email\": \"abc@burgers.com\",\n    \t\t    \"phone\": 11906\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t\t    \"note\": \"Company Owner Section\",\n    \t\t    \"message\": \"ReminderBot\"\n    \t  \t},\n    \t  \t\"template\": {\n    \t    \t\"details\": {\n    \t\t      \"_id\": \"2_d\",\n    \t\t      \"_rev\": \"7-0a8d302a193c0c3770a76652750d7bbb\",\n    \t\t      \"table\": \"template\",\n    \t\t      \"name\": \"Detail\",\n    \t\t      \"html\": \"\",\n    \t\t      \"js\": \"\"\n    \t    \t}\n    \t  },\n    \t  \"timeout\": {},\n    \t  \"user_calculate\": {},\n    \t  \"location\": {},\n    \t  \"default\": {\n    \t    \"parent\": null,\n    \t    \"allchildren\": null\n    \t  },\n    \t  \"count_status\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"count\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 1\n    \t  },\n    \t  \"count_if\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"createdAt\": 1502774414284,\n    \t  \"page_ids\": [2]\n    \t}\n    },\n//     node_original1 : {\n// \t\tsystem_id: {\n// \t\t\t\"_id\": system_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": system_id\n// \t\t},\n// \t\tcompany_id: {\n// \t\t\t\"_id\": company_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\tuser_id_co: {\n// \t\t\t\"_id\": user_id_co,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_co\n// \t\t},\n// \t\tuser_id_employee: {\n// \t\t\t\"_id\": user_id_employee,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_employee\n// \t\t},\n// \t\tgroup_name_page: {\n// \t\t\t\"_id\": group_name_page,\n// \t\t\t\"table\": \"task\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem1: {\n// \t\t\t\"_id\": item1,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem2: {\n// \t\t\t\"_id\": item2,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t}\n// \t},\n    node_original2: {\n\t\t\"987\": {\n\t\t\t\"_id\": \"987\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"999\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testname111\": {\n\t\t\t\"_id\": \"testname111\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testname\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"444\": {\n\t\t\t\"_id\": \"444\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"666\": {\n\t\t\t\"_id\": \"666\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"1001\": {\n\t\t\t\"_id\": \"1001\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"AAA\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"AAA\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1002\": {\n\t\t\t\"_id\": \"1002\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"history\": [],\n\t\t\t\"node_name\": \"\",\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"BBB\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"BBB\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1003\": {\n\t\t\t\"_id\": \"1003\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"CCC\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"CCC\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"444\"],\n\t\t\t\"ancestors\": [\"987\", \"444\"]\n\t\t},\n\t\t\"1004\": {\n\t\t\t\"_id\": \"1004\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"DDD\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"DDD\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"666\"],\n\t\t\t\"ancestors\": [\"987\", \"666\"]\n\t\t},\n\t\t\"999\": {\n\t\t\t\"_id\": \"999\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"AAA\": {\n\t\t\t\"_id\": \"AAA\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"BBB\": {\n\t\t\t\"_id\": \"BBB\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"CCC\": {\n\t\t\t\"_id\": \"CCC\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"DDD\": {\n\t\t\t\"_id\": \"DDD\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"111\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testfnsystem_id\": {\n\t\t\t\"_id\": \"testfn\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testfn\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"get_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"get_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"get node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"add_to_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"add_to_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"add to node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_from_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"delete_from_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete from node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"delete_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"create_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"create_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"create node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"companiessystem_id\": {\n\t\t\t\"_id\": \"companies\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"companies\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"reminderbot_company_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_company_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"companies\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id]\n\t\t},\n\t\t\"company_reminder_user123_id\": {\n\t\t\t\"_id\": \"company_reminder_user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_company_auth_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\"]\n\t\t},\n\t\t\"employee_actionssystem_id\": {\n\t\t\t\"_id\": \"employee_actions\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employee actions\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employeesystem_id\": {\n\t\t\t\"_id\": \"employee\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employees\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"employee_actions\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id]\n\t\t},\n\t\t\"reminderbot_employee_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_employee_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id]\n\t\t},\n\t\t\"reminderbot_employees_id\": {\n\t\t\t\"_id\": \"reminderbot_employees_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_employee_auth_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\"]\n\t\t},\n\t\t\"employee222_perm_id\": {\n\t\t\t\"_id\": \"employee222_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee222_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"employee333_perm_id\": {\n\t\t\t\"_id\": \"employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"sub_employee333_perm_id\": {\n\t\t\t\"_id\": \"sub_employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\", \"employee444_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee333_perm_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\", \"reminderbot_employees_id\", \"employee333_perm_id\", \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employee333_id\": {\n\t\t\t\"_id\": \"employee333_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee222_id\": {\n\t\t\t\"_id\": \"employee222_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee444_id\": {\n\t\t\t\"_id\": \"employee444_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee555_id\": {\n\t\t\t\"_id\": \"employee555_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"user123_id\"],\n\t\t\t\"ancestors\": [\"user123_id\"]\n\t\t},\n\t\t\"user123_id\": {\n\t\t\t\"_id\": \"user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"reminderbot_id\": {\n\t\t\t\"_id\": \"reminderbot_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id\": {\n\t\t\t\"_id\": \"old\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"old\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id_child\": {\n\t\t\t\"_id\": \"oldsystem_id_child\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"old\" + system_id, \"employee555_id\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"employee555_id\", \"user123_id\"]\n\t\t},\n\t\t\"oldsystem_id_childchild\": {\n\t\t\t\"_id\": \"oldsystem_id_childchild\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"oldsystem_id_child\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"oldsystem_id_child\", \"employee555_id\", \"user123_id\"]\n\t\t}\n    }\n};\n\n\nmsg.node_original1 = object.node_original1  ;\nmsg.node_original2 = object.node_original2  ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 233.99997329711914,
        "y": 929.0000953674316,
        "wires": [
            [
                "25d33150.c6727e",
                "b98eaddb.b9c4f"
            ]
        ]
    },
    {
        "id": "b98eaddb.b9c4f",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 378.18746185302734,
        "y": 961.3403472900391,
        "wires": []
    },
    {
        "id": "b9b18547.858b68",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 556.1840190887451,
        "y": 927.347297668457,
        "wires": []
    },
    {
        "id": "9ce612b8.24b59",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "Add employess under a group or company.",
        "info": "",
        "x": 207.00001525878906,
        "y": 859.0002136230469,
        "wires": []
    },
    {
        "id": "843e6c2b.ed435",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "Delete employess from group using the treesofware",
        "info": "",
        "x": 239.0000114440918,
        "y": 1040.0000801086426,
        "wires": []
    },
    {
        "id": "1081c18a.ec65ce",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "start",
        "topic": "start",
        "payload": "start",
        "payloadType": "flow",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 99.0000114440918,
        "y": 1130.0000801086426,
        "wires": [
            [
                "f313c30b.0b707"
            ]
        ]
    },
    {
        "id": "7c29e9d9.d3afa8",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init_load",
        "func": "var system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // Company Reminderbot Id\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\", // detail associated with task above\n\n\tinclude_data = true,\n\tinclude_head = false,\n\tmaster_parents = [],\n\tgroup_name_company = \"company\",\n\tgroup_name_employee = \"employees\",\n\n\tfn_name_add = \"add_to_node_name_tree\",\n\tfn_name_get = \"get_node_name_tree\",\n\tfn_name_del = \"delete_from_node_name_tree\",\n\tfn_get_page = \"get_page\",\n\tfn_get_page2 = \"get_page2\",\n\t\n\tname_add = \"add_to_node_name_tree\",\n\tname_get = \"get_node_name_tree\",\n\tname_del = \"delete_from_node_name_tree\",\n\tname_get_page = \"get_page\",\n\tnode_id = null,\n\ttree_owner_id = system_id,\n\ttemp_node_company = group_name_company + system_id,\n\ttemp_node_employee = group_name_employee + system_id,\n\ttemp_node_page = group_name_page + system_id;\n\n\nvar init_load = [\n\t\t {\n            payload: {\n                user_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id,\n                portal_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //company_id,\n                node_name: \"EmployeeGroup\",\n                data_id: \"43567eaf30ec8ada0c39645183e95dcb\",// *CHANGE THIS *,\n                tree_owner_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n                node_id: null,\n                target: \"parent\",\n                parent_node_name: \"\",\n            },\n            fn_name: \"delete_from_node_name_tree\"\n        }\n\t];\n//user_id, portal_id, node_name, data_id, tree_owner_id, node_id, target, parent_node_name, callback\t\nmsg.payload = init_load ;\n//node.warn(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 389.9999809265137,
        "y": 1109.0000495910645,
        "wires": [
            [
                "362c1bf.6ab04e4",
                "8acb5d55.c0aca"
            ]
        ]
    },
    {
        "id": "f313c30b.0b707",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "func": "var\n\tsystem_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // user\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\"; // detail associated with task above\n\nvar object = {\n    node_original1: {\n    \t\"f1b5ed9577f69c6b131d94a46b39044f\": {\n    \t\t\"_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"access_token\": \"1515420557174.o0i9pckra2xtxt6s9v28lrf6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 1234,\n    \t  \t\"virtual_phone\": 11234,\n    \t  \t\"email\": \"admin@drilist.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"admin\",\n    \t  \t\"lastname\": \"user\",\n    \t  \t\"code\": 9489,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"device_token\": {},\n    \t  \t\"push_accepted\": 1\n    \t},\n    \t\"fa1785333117ba7c06b9020a6d3c0079\": {\n    \t\t\"_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"access_token\": \"1505915176652.8bwoh8j7fft8jjpa59zjb57b9\",\n    \t  \t\"phone\": 12312259665,\n    \t  \t\"firstname\": \"Reminder\",\n    \t  \t\"lastname\": \"Bot\",\n    \t  \t\"virtual_phone\": 12312259665,\n    \t  \t\"security_level\": 1,\n    \t  \t\"code\": 6440,\n    \t  \t\"type\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"long_url\": \"\",\n    \t  \t\"email\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"timezone\": \"America/Los_Angeles\"\n    \t},\n    \t\"da9976858d8bda52021754cf1909a327\": {\n    \t\t\"_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"table\": \"users\",\n      \t\t\"long_url\": \"\",\n    \t  \t\"user_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"access_token\": \"1512367299166.6gs5wh40wadlyvaniqi3jfko6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 917696016749,\n    \t  \t\"virtual_phone\": 917696016749,\n    \t  \t\"email\": \"mss.parveensachdeva@gmail.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Parveen\",\n    \t  \t\"lastname\": \"Sachdeva\",\n    \t  \t\"code\": 6501,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\",\n    \t    \t\"admin\": \"admin\",\n    \t    \t\"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"9C23D678-F1CA-44A1-AACB-B0871FFBF920\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {}\n    \t},\n    \t\"0a9b50963bc76018418ffd857d551ced\": {\n    \t\t\"_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"user_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"access_token\": \"1514977855897.ppl38hod8cea08dabzzrggb9\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 12145644732,\n    \t  \t\"virtual_phone\": 12145644732,\n    \t  \t\"email\": \"roger@dri.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Roger\",\n    \t  \t\"lastname\": \"Colburn\",\n    \t  \t\"code\": 9512,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\",\n    \t\t    \"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {},\n    \t  \t\"timezone\": \"America/New_York\"\n    \t},\n    \t\"2_0\": {\n    \t\t\"_id\": \"2_0\",\n    \t\t\"table\": \"task_table\",\n    \t  \t\"task_name\": \"Categories\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_page_id\": 0,\n    \t  \t\"page_id\": 2,\n    \t  \t\"parent_id\": 0,\n    \t  \t\"header_template_id\": \"2_h\",\n    \t  \t\"detail_template_id\": \"2_d\",\n    \t  \t\"footer_template_id\": \"2_f\",\n    \t  \t\"timeout_id\": null,\n    \t  \t\"child_default_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"child_default_task_name\": \"sub_category_task\",\n    \t  \t\"date_created\": \"2017-03-15T10:29:39.453Z\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"category\": \"Categories\",\n    \t  \t\"additional_data_fn\": \"N/A\",\n    \t  \t\"optional_data\": \"\\\"{}\\\"\",\n    \t  \t\"required_data\": \"\\\"{}\\\"\",\n    \t  \t\"offline_expiration_time\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"status\": 1\n    \t},\n    \t\"2_3\": {\n    \t\t\"_id\": \"2_3\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"child_task_id\": \"\",\n      \t\t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": \"9092618242e9895441bc9e978fa15098\",\n    \t  \t\"page_id\": 2,\n    \t  \t\"to_page_id\": 5,\n    \t  \t\"synchronized\": \"true\",\n    \t  \t\"processed\": \"true\",\n    \t  \t\"status\": \"active\",\n    \t  \t\"read\": \"true\",\n    \t  \t\"display_if_empty\": \"true\",\n    \t  \t\"due_date\": \"2017-03-01T04:47:28.084Z\",\n    \t  \t\"offline_expiration_seconds\": 3600,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t    \t\"message\": \"My Chats\"\n    \t  \t},\n    \t  \t\"watson_incoming\": {},\n    \t  \t\"timeout\": {},\n    \t  \t\"user_calculated\": {},\n      \t\t\"location\": [],\n    \t  \t\"defaults\": {\n    \t    \t\"parent\": null,\n    \t    \t\"all_children\": null\n    \t  \t},\n    \t  \t\"count_status\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count_if\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"createdAt\": 1493708443709,\n    \t  \t\"page_ids\": [2]\n    \t},\n    \t\"c01a40e0a39ab7071c72d422a5c96104\": {\n    \t\t\"_id\": \"c01a40e0a39ab7071c72d422a5c96104\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"intent_task_id\": \"2_0\",\n    \t  \t\"child_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": null,\n    \t  \t\"page_id\": 2,\n    \t  \t\"from_page_id\": 1,\n    \t  \t\"to_page_id\": 1502774414284,\n    \t  \t\"synchronized\": 0,\n    \t  \t\"processed\": 0,\n    \t  \t\"status\": 0,\n    \t  \t\"read\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"date_created\": \"2017-08-15T05:20:14.284Z\",\n    \t  \t\"offline_expiration_seconds\": 0,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"private\": \"private\"\n    \t  \t},\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"from_user\": {\n    \t\t    \"firstname\": \"ABC\",\n    \t\t    \"lastname\": \"Burgers\",\n    \t\t    \"email\": \"abc@burgers.com\",\n    \t\t    \"phone\": 11906\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t\t    \"note\": \"Company Owner Section\",\n    \t\t    \"message\": \"ReminderBot\"\n    \t  \t},\n    \t  \t\"template\": {\n    \t    \t\"details\": {\n    \t\t      \"_id\": \"2_d\",\n    \t\t      \"_rev\": \"7-0a8d302a193c0c3770a76652750d7bbb\",\n    \t\t      \"table\": \"template\",\n    \t\t      \"name\": \"Detail\",\n    \t\t      \"html\": \"\",\n    \t\t      \"js\": \"\"\n    \t    \t}\n    \t  },\n    \t  \"timeout\": {},\n    \t  \"user_calculate\": {},\n    \t  \"location\": {},\n    \t  \"default\": {\n    \t    \"parent\": null,\n    \t    \"allchildren\": null\n    \t  },\n    \t  \"count_status\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"count\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 1\n    \t  },\n    \t  \"count_if\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"createdAt\": 1502774414284,\n    \t  \"page_ids\": [2]\n    \t}\n    },\n//     node_original1 : {\n// \t\tsystem_id: {\n// \t\t\t\"_id\": system_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": system_id\n// \t\t},\n// \t\tcompany_id: {\n// \t\t\t\"_id\": company_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\tuser_id_co: {\n// \t\t\t\"_id\": user_id_co,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_co\n// \t\t},\n// \t\tuser_id_employee: {\n// \t\t\t\"_id\": user_id_employee,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_employee\n// \t\t},\n// \t\tgroup_name_page: {\n// \t\t\t\"_id\": group_name_page,\n// \t\t\t\"table\": \"task\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem1: {\n// \t\t\t\"_id\": item1,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem2: {\n// \t\t\t\"_id\": item2,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t}\n// \t},\n    node_original2: {\n\t\t\"987\": {\n\t\t\t\"_id\": \"987\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"999\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testname111\": {\n\t\t\t\"_id\": \"testname111\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testname\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"444\": {\n\t\t\t\"_id\": \"444\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"666\": {\n\t\t\t\"_id\": \"666\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"1001\": {\n\t\t\t\"_id\": \"1001\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"AAA\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"AAA\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1002\": {\n\t\t\t\"_id\": \"1002\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"history\": [],\n\t\t\t\"node_name\": \"\",\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"BBB\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"BBB\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1003\": {\n\t\t\t\"_id\": \"1003\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"CCC\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"CCC\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"444\"],\n\t\t\t\"ancestors\": [\"987\", \"444\"]\n\t\t},\n\t\t\"1004\": {\n\t\t\t\"_id\": \"1004\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"DDD\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"DDD\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"666\"],\n\t\t\t\"ancestors\": [\"987\", \"666\"]\n\t\t},\n\t\t\"999\": {\n\t\t\t\"_id\": \"999\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"AAA\": {\n\t\t\t\"_id\": \"AAA\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"BBB\": {\n\t\t\t\"_id\": \"BBB\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"CCC\": {\n\t\t\t\"_id\": \"CCC\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"DDD\": {\n\t\t\t\"_id\": \"DDD\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"111\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testfnsystem_id\": {\n\t\t\t\"_id\": \"testfn\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testfn\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"get_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"get_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"get node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"add_to_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"add_to_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"add to node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_from_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"delete_from_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete from node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"delete_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"create_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"create_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"create node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"companiessystem_id\": {\n\t\t\t\"_id\": \"companies\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"companies\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"reminderbot_company_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_company_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"companies\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id]\n\t\t},\n\t\t\"company_reminder_user123_id\": {\n\t\t\t\"_id\": \"company_reminder_user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_company_auth_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\"]\n\t\t},\n\t\t\"employee_actionssystem_id\": {\n\t\t\t\"_id\": \"employee_actions\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employee actions\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employeesystem_id\": {\n\t\t\t\"_id\": \"employee\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employees\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"employee_actions\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id]\n\t\t},\n\t\t\"reminderbot_employee_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_employee_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id]\n\t\t},\n\t\t\"reminderbot_employees_id\": {\n\t\t\t\"_id\": \"reminderbot_employees_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_employee_auth_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\"]\n\t\t},\n\t\t\"employee222_perm_id\": {\n\t\t\t\"_id\": \"employee222_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee222_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"employee333_perm_id\": {\n\t\t\t\"_id\": \"employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"sub_employee333_perm_id\": {\n\t\t\t\"_id\": \"sub_employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\", \"employee444_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee333_perm_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\", \"reminderbot_employees_id\", \"employee333_perm_id\", \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employee333_id\": {\n\t\t\t\"_id\": \"employee333_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee222_id\": {\n\t\t\t\"_id\": \"employee222_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee444_id\": {\n\t\t\t\"_id\": \"employee444_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee555_id\": {\n\t\t\t\"_id\": \"employee555_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"user123_id\"],\n\t\t\t\"ancestors\": [\"user123_id\"]\n\t\t},\n\t\t\"user123_id\": {\n\t\t\t\"_id\": \"user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"reminderbot_id\": {\n\t\t\t\"_id\": \"reminderbot_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id\": {\n\t\t\t\"_id\": \"old\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"old\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id_child\": {\n\t\t\t\"_id\": \"oldsystem_id_child\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"old\" + system_id, \"employee555_id\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"employee555_id\", \"user123_id\"]\n\t\t},\n\t\t\"oldsystem_id_childchild\": {\n\t\t\t\"_id\": \"oldsystem_id_childchild\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"oldsystem_id_child\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"oldsystem_id_child\", \"employee555_id\", \"user123_id\"]\n\t\t}\n    }\n};\n\n\nmsg.node_original1 = object.node_original1  ;\nmsg.node_original2 = object.node_original2  ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 238.99997329711914,
        "y": 1129.0000476837158,
        "wires": [
            [
                "7c29e9d9.d3afa8",
                "d40b8acf.b91428"
            ]
        ]
    },
    {
        "id": "d40b8acf.b91428",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 383.18746185302734,
        "y": 1161.3402996063232,
        "wires": []
    },
    {
        "id": "362c1bf.6ab04e4",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 561.1840190887451,
        "y": 1127.3472499847412,
        "wires": []
    },
    {
        "id": "8acb5d55.c0aca",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 575.0000076293945,
        "y": 1073.0000476837158,
        "wires": [
            [
                "5ffb6438.25c75c"
            ]
        ]
    },
    {
        "id": "5ffb6438.25c75c",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 760.0000076293945,
        "y": 1072.0000553131104,
        "wires": []
    },
    {
        "id": "637d0d62.9392c4",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "Get group employess using the treesofware",
        "info": "",
        "x": 219.0000114440918,
        "y": 1310.0000801086426,
        "wires": []
    },
    {
        "id": "1043fa20.2fe806",
        "type": "inject",
        "z": "55e92ca3.9a3084",
        "name": "start",
        "topic": "start",
        "payload": "start",
        "payloadType": "flow",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 99.0000114440918,
        "y": 1400.0000801086426,
        "wires": [
            [
                "3ec81b5d.538314"
            ]
        ]
    },
    {
        "id": "21b80ef1.ac1ca2",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "init_load",
        "func": "var system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // Company Reminderbot Id\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\", // detail associated with task above\n\n\tinclude_data = true,\n\tinclude_head = false,\n\tmaster_parents = [],\n\tgroup_name_company = \"company\",\n\tgroup_name_employee = \"employees\",\n\n\tfn_name_add = \"add_to_node_name_tree\",\n\tfn_name_get = \"get_node_name_tree\",\n\tfn_name_del = \"delete_from_node_name_tree\",\n\tfn_get_page = \"get_page\",\n\tfn_get_page2 = \"get_page2\",\n\t\n\tname_add = \"add_to_node_name_tree\",\n\tname_get = \"get_node_name_tree\",\n\tname_del = \"delete_from_node_name_tree\",\n\tname_get_page = \"get_page\",\n\tnode_id = null,\n\ttree_owner_id = system_id,\n\ttemp_node_company = group_name_company + system_id,\n\ttemp_node_employee = group_name_employee + system_id,\n\ttemp_node_page = group_name_page + system_id;\n\n\nvar init_load = [\n\t\t{\n\t\t\tpayload: {\n\t\t\t\tuser_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id,\n\t\t\t\tportal_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id,\n\t\t\t\tnode_name: \"EmployeeGroup\", //group_name_company,\n\t\t\t\tinclude_data:true,\n\t\t\t\tinclude_head:true,\n\t\t\t\ttree_owner_id: \"f1b5ed9577f69c6b131d94a46b39044f\", //system_id\n\t\t},\n\t\t\tfn_name: \"get_node_name_tree\"\n\t\t}\n\t];\n\t\nmsg.payload = init_load ;\n//node.warn(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 389.9999809265137,
        "y": 1379.0000495910645,
        "wires": [
            [
                "b9dc262f.2694e8",
                "9bc4565d.656258"
            ]
        ]
    },
    {
        "id": "3ec81b5d.538314",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "func": "var\n\tsystem_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\", // user\n\tuser_id_co = \"da9976858d8bda52021754cf1909a327\", // user\n\tuser_id_employee = \"0a9b50963bc76018418ffd857d551ced\", // user\n\tgroup_name_page = \"2_0\", //task\n\titem1 = \"2_3\", //item1\"; // detail associated with task above\n\titem2 = \"c01a40e0a39ab7071c72d422a5c96104\"; // detail associated with task above\n\nvar object = {\n    node_original1: {\n    \t\"f1b5ed9577f69c6b131d94a46b39044f\": {\n    \t\t\"_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"f1b5ed9577f69c6b131d94a46b39044f\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"access_token\": \"1515420557174.o0i9pckra2xtxt6s9v28lrf6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 1234,\n    \t  \t\"virtual_phone\": 11234,\n    \t  \t\"email\": \"admin@drilist.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"admin\",\n    \t  \t\"lastname\": \"user\",\n    \t  \t\"code\": 9489,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"device_token\": {},\n    \t  \t\"push_accepted\": 1\n    \t},\n    \t\"fa1785333117ba7c06b9020a6d3c0079\": {\n    \t\t\"_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"access_token\": \"1505915176652.8bwoh8j7fft8jjpa59zjb57b9\",\n    \t  \t\"phone\": 12312259665,\n    \t  \t\"firstname\": \"Reminder\",\n    \t  \t\"lastname\": \"Bot\",\n    \t  \t\"virtual_phone\": 12312259665,\n    \t  \t\"security_level\": 1,\n    \t  \t\"code\": 6440,\n    \t  \t\"type\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"long_url\": \"\",\n    \t  \t\"email\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"timezone\": \"America/Los_Angeles\"\n    \t},\n    \t\"da9976858d8bda52021754cf1909a327\": {\n    \t\t\"_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"table\": \"users\",\n      \t\t\"long_url\": \"\",\n    \t  \t\"user_id\": \"da9976858d8bda52021754cf1909a327\",\n    \t  \t\"access_token\": \"1512367299166.6gs5wh40wadlyvaniqi3jfko6r\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 917696016749,\n    \t  \t\"virtual_phone\": 917696016749,\n    \t  \t\"email\": \"mss.parveensachdeva@gmail.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Parveen\",\n    \t  \t\"lastname\": \"Sachdeva\",\n    \t  \t\"code\": 6501,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\",\n    \t    \t\"admin\": \"admin\",\n    \t    \t\"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"9C23D678-F1CA-44A1-AACB-B0871FFBF920\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {}\n    \t},\n    \t\"0a9b50963bc76018418ffd857d551ced\": {\n    \t\t\"_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"table\": \"users\",\n    \t  \t\"long_url\": \"\",\n    \t  \t\"user_id\": \"0a9b50963bc76018418ffd857d551ced\",\n    \t  \t\"access_token\": \"1514977855897.ppl38hod8cea08dabzzrggb9\",\n    \t  \t\"security_level\": 1,\n    \t  \t\"phone\": 12145644732,\n    \t  \t\"virtual_phone\": 12145644732,\n    \t  \t\"email\": \"roger@dri.com\",\n    \t  \t\"converstation_id\": \"\",\n    \t  \t\"firstname\": \"Roger\",\n    \t  \t\"lastname\": \"Colburn\",\n    \t  \t\"code\": 9512,\n    \t  \t\"password\": \"\",\n    \t  \t\"image\": \"\",\n    \t  \t\"type\": {\n    \t\t    \"public\": \"public\",\n    \t\t    \"admin\": \"admin\",\n    \t\t    \"dri_main\": \"dri_main\"\n    \t  \t},\n    \t  \t\"data\": {},\n    \t  \t\"device_id\": \"Web View\",\n    \t  \t\"push_accepted\": 1,\n    \t  \t\"device_token\": {},\n    \t  \t\"timezone\": \"America/New_York\"\n    \t},\n    \t\"2_0\": {\n    \t\t\"_id\": \"2_0\",\n    \t\t\"table\": \"task_table\",\n    \t  \t\"task_name\": \"Categories\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_page_id\": 0,\n    \t  \t\"page_id\": 2,\n    \t  \t\"parent_id\": 0,\n    \t  \t\"header_template_id\": \"2_h\",\n    \t  \t\"detail_template_id\": \"2_d\",\n    \t  \t\"footer_template_id\": \"2_f\",\n    \t  \t\"timeout_id\": null,\n    \t  \t\"child_default_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"child_default_task_name\": \"sub_category_task\",\n    \t  \t\"date_created\": \"2017-03-15T10:29:39.453Z\",\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"category\": \"Categories\",\n    \t  \t\"additional_data_fn\": \"N/A\",\n    \t  \t\"optional_data\": \"\\\"{}\\\"\",\n    \t  \t\"required_data\": \"\\\"{}\\\"\",\n    \t  \t\"offline_expiration_time\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"status\": 1\n    \t},\n    \t\"2_3\": {\n    \t\t\"_id\": \"2_3\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"child_task_id\": \"\",\n      \t\t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": \"9092618242e9895441bc9e978fa15098\",\n    \t  \t\"page_id\": 2,\n    \t  \t\"to_page_id\": 5,\n    \t  \t\"synchronized\": \"true\",\n    \t  \t\"processed\": \"true\",\n    \t  \t\"status\": \"active\",\n    \t  \t\"read\": \"true\",\n    \t  \t\"display_if_empty\": \"true\",\n    \t  \t\"due_date\": \"2017-03-01T04:47:28.084Z\",\n    \t  \t\"offline_expiration_seconds\": 3600,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"public\": \"public\"\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t    \t\"message\": \"My Chats\"\n    \t  \t},\n    \t  \t\"watson_incoming\": {},\n    \t  \t\"timeout\": {},\n    \t  \t\"user_calculated\": {},\n      \t\t\"location\": [],\n    \t  \t\"defaults\": {\n    \t    \t\"parent\": null,\n    \t    \t\"all_children\": null\n    \t  \t},\n    \t  \t\"count_status\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"count_if\": {\n    \t    \t\"active\": 1,\n    \t    \t\"unread\": 0\n    \t  \t},\n    \t  \t\"createdAt\": 1493708443709,\n    \t  \t\"page_ids\": [2]\n    \t},\n    \t\"c01a40e0a39ab7071c72d422a5c96104\": {\n    \t\t\"_id\": \"c01a40e0a39ab7071c72d422a5c96104\",\n    \t  \t\"table\": \"details\",\n    \t  \t\"intent_task_id\": \"2_0\",\n    \t  \t\"child_task_id\": \"cbf23f2101dfed59bdfe1b57f6bca9a5\",\n    \t  \t\"user_id\": \"fa1785333117ba7c06b9020a6d3c0079\",\n    \t  \t\"from_user_id\": null,\n    \t  \t\"page_id\": 2,\n    \t  \t\"from_page_id\": 1,\n    \t  \t\"to_page_id\": 1502774414284,\n    \t  \t\"synchronized\": 0,\n    \t  \t\"processed\": 0,\n    \t  \t\"status\": 0,\n    \t  \t\"read\": 0,\n    \t  \t\"display_if_empty\": true,\n    \t  \t\"date_created\": \"2017-08-15T05:20:14.284Z\",\n    \t  \t\"offline_expiration_seconds\": 0,\n    \t  \t\"priority\": 1,\n    \t  \t\"type\": {\n    \t    \t\"private\": \"private\"\n    \t  \t},\n    \t  \t\"image\": \"https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png\",\n    \t  \t\"from_user\": {\n    \t\t    \"firstname\": \"ABC\",\n    \t\t    \"lastname\": \"Burgers\",\n    \t\t    \"email\": \"abc@burgers.com\",\n    \t\t    \"phone\": 11906\n    \t  \t},\n    \t  \t\"user_incoming\": {\n    \t\t    \"note\": \"Company Owner Section\",\n    \t\t    \"message\": \"ReminderBot\"\n    \t  \t},\n    \t  \t\"template\": {\n    \t    \t\"details\": {\n    \t\t      \"_id\": \"2_d\",\n    \t\t      \"_rev\": \"7-0a8d302a193c0c3770a76652750d7bbb\",\n    \t\t      \"table\": \"template\",\n    \t\t      \"name\": \"Detail\",\n    \t\t      \"html\": \"\",\n    \t\t      \"js\": \"\"\n    \t    \t}\n    \t  },\n    \t  \"timeout\": {},\n    \t  \"user_calculate\": {},\n    \t  \"location\": {},\n    \t  \"default\": {\n    \t    \"parent\": null,\n    \t    \"allchildren\": null\n    \t  },\n    \t  \"count_status\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"count\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 1\n    \t  },\n    \t  \"count_if\": {\n    \t    \"active\": 1,\n    \t    \"unread\": 0\n    \t  },\n    \t  \"createdAt\": 1502774414284,\n    \t  \"page_ids\": [2]\n    \t}\n    },\n//     node_original1 : {\n// \t\tsystem_id: {\n// \t\t\t\"_id\": system_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": system_id\n// \t\t},\n// \t\tcompany_id: {\n// \t\t\t\"_id\": company_id,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\tuser_id_co: {\n// \t\t\t\"_id\": user_id_co,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_co\n// \t\t},\n// \t\tuser_id_employee: {\n// \t\t\t\"_id\": user_id_employee,\n// \t\t\t\"table\": \"users\",\n// \t\t\t\"user_id\": user_id_employee\n// \t\t},\n// \t\tgroup_name_page: {\n// \t\t\t\"_id\": group_name_page,\n// \t\t\t\"table\": \"task\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem1: {\n// \t\t\t\"_id\": item1,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t},\n// \t\titem2: {\n// \t\t\t\"_id\": item2,\n// \t\t\t\"table\": \"detail\",\n// \t\t\t\"user_id\": company_id\n// \t\t}\n// \t},\n    node_original2: {\n\t\t\"987\": {\n\t\t\t\"_id\": \"987\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"999\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testname111\": {\n\t\t\t\"_id\": \"testname111\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testname\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"444\": {\n\t\t\t\"_id\": \"444\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"666\": {\n\t\t\t\"_id\": \"666\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"987\"],\n\t\t\t\"ancestors\": [\"987\"]\n\t\t},\n\t\t\"1001\": {\n\t\t\t\"_id\": \"1001\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"AAA\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"AAA\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1002\": {\n\t\t\t\"_id\": \"1002\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"history\": [],\n\t\t\t\"node_name\": \"\",\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"BBB\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"BBB\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"testname111\"],\n\t\t\t\"ancestors\": [\"987\", \"testname111\"]\n\t\t},\n\t\t\"1003\": {\n\t\t\t\"_id\": \"1003\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"CCC\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"CCC\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"444\"],\n\t\t\t\"ancestors\": [\"987\", \"444\"]\n\t\t},\n\t\t\"1004\": {\n\t\t\t\"_id\": \"1004\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"DDD\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"DDD\", \"999\"]\n\t\t\t},\n\t\t\t\"parents\": [\"666\"],\n\t\t\t\"ancestors\": [\"987\", \"666\"]\n\t\t},\n\t\t\"999\": {\n\t\t\t\"_id\": \"999\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"xxx\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"AAA\": {\n\t\t\t\"_id\": \"AAA\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"BBB\": {\n\t\t\t\"_id\": \"BBB\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"CCC\": {\n\t\t\t\"_id\": \"CCC\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"testname111\",\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"DDD\": {\n\t\t\t\"_id\": \"DDD\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"assistants\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"333\",\n\t\t\t\"data_id\": \"111\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"testfnsystem_id\": {\n\t\t\t\"_id\": \"testfn\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"testfn\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"get_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"get_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"get node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"add_to_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"add_to_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"add to node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_from_node_name_treesystem_id\": {\n\t\t\t\"_id\": \"delete_from_node_name_tree\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete from node name tree\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"delete_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"delete_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"delete node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"create_node_name_instancesystem_id\": {\n\t\t\t\"_id\": \"create_node_name_instance\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"create node name instance\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"companiessystem_id\": {\n\t\t\t\"_id\": \"companies\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"companies\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"reminderbot_company_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_company_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"companies\" + system_id],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id]\n\t\t},\n\t\t\"company_reminder_user123_id\": {\n\t\t\t\"_id\": \"company_reminder_user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_company_auth_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\"]\n\t\t},\n\t\t\"employee_actionssystem_id\": {\n\t\t\t\"_id\": \"employee_actions\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employee actions\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employeesystem_id\": {\n\t\t\t\"_id\": \"employee\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"employees\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"employee_actions\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id]\n\t\t},\n\t\t\"reminderbot_employee_auth_id\": {\n\t\t\t\"_id\": \"reminderbot_employee_auth_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"reminderbot_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee\" + system_id],\n\t\t\t\"ancestors\": [\"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id]\n\t\t},\n\t\t\"reminderbot_employees_id\": {\n\t\t\t\"_id\": \"reminderbot_employees_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"user123_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"reminderbot_employee_auth_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\"]\n\t\t},\n\t\t\"employee222_perm_id\": {\n\t\t\t\"_id\": \"employee222_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee222_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"employee333_perm_id\": {\n\t\t\t\"_id\": \"employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"company_reminder_user123_id\"],\n\t\t\t\"ancestors\": [\"testfn\" + system_id, \"create_node_name_instance\" + system_id, \"delete_node_name_instance\" + system_id, \"add_to_node_name_tree\" + system_id, \"get_node_name_tree\" + system_id, \"delete_from_node_name_tree\" + system_id, \"companies\" + system_id, \"reminderbot_company_auth_id\", \"company_reminder_user123_id\"]\n\t\t},\n\t\t\"sub_employee333_perm_id\": {\n\t\t\t\"_id\": \"sub_employee333_perm_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": \"reminderbot_id\",\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id, \"reminderbot_id\", \"user123_id\", \"employee333_id\", \"employee444_id\"]\n\t\t\t},\n\t\t\t\"parents\": [\"employee333_perm_id\"],\n\t\t\t\"ancestors\": [\"get_node_name_tree\" + system_id, \"add_to_node_name_tree\" + system_id, \"employee_actions\" + system_id, \"employee\" + system_id, \"reminderbot_employee_auth_id\", \"reminderbot_employees_id\", \"employee333_perm_id\", \"delete_from_node_name_tree\" + system_id]\n\t\t},\n\t\t\"employee333_id\": {\n\t\t\t\"_id\": \"employee333_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee222_id\": {\n\t\t\t\"_id\": \"employee222_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee444_id\": {\n\t\t\t\"_id\": \"employee444_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"employee555_id\": {\n\t\t\t\"_id\": \"employee555_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"user123_id\"],\n\t\t\t\"ancestors\": [\"user123_id\"]\n\t\t},\n\t\t\"user123_id\": {\n\t\t\t\"_id\": \"user123_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": system_id,\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [system_id]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"reminderbot_id\": {\n\t\t\t\"_id\": \"reminderbot_id\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": []\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id\": {\n\t\t\t\"_id\": \"old\" + system_id,\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"old\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee333_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\"]\n\t\t\t},\n\t\t\t\"parents\": [],\n\t\t\t\"ancestors\": []\n\t\t},\n\t\t\"oldsystem_id_child\": {\n\t\t\t\"_id\": \"oldsystem_id_child\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee222_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"old\" + system_id, \"employee555_id\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"employee555_id\", \"user123_id\"]\n\t\t},\n\t\t\"oldsystem_id_childchild\": {\n\t\t\t\"_id\": \"oldsystem_id_childchild\",\n\t\t\t\"table\": \"node\",\n\t\t\t\"node_name\": \"\",\n\t\t\t\"history\": [],\n\t\t\t\"user_id\": system_id,\n\t\t\t\"data_id\": \"employee444_id\",\n\t\t\t\"data_id_lineage\": {\n\t\t\t\t\"data_id\": [\"employee333_id\", \"employee222_id\", \"employee444_id\", system_id]\n\t\t\t},\n\t\t\t\"parents\": [\"oldsystem_id_child\"],\n\t\t\t\"ancestors\": [\"old\" + system_id, \"oldsystem_id_child\", \"employee555_id\", \"user123_id\"]\n\t\t}\n    }\n};\n\n\nmsg.node_original1 = object.node_original1  ;\nmsg.node_original2 = object.node_original2  ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 238.99997329711914,
        "y": 1399.0000476837158,
        "wires": [
            [
                "21b80ef1.ac1ca2",
                "efb5d149.19be9"
            ]
        ]
    },
    {
        "id": "efb5d149.19be9",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "data.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 383.18746185302734,
        "y": 1431.3402996063232,
        "wires": []
    },
    {
        "id": "b9dc262f.2694e8",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "init.js",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 561.1840190887451,
        "y": 1397.3472499847412,
        "wires": []
    },
    {
        "id": "9bc4565d.656258",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 575.0000076293945,
        "y": 1343.0000476837158,
        "wires": [
            [
                "201efe85.b40952"
            ]
        ]
    },
    {
        "id": "201efe85.b40952",
        "type": "debug",
        "z": "55e92ca3.9a3084",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 760.0000076293945,
        "y": 1342.0000553131104,
        "wires": []
    },
    {
        "id": "bbc8191e.b3b388",
        "type": "switch",
        "z": "55e92ca3.9a3084",
        "name": "",
        "property": "switchCase",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ERROR_RESPONSE",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "AddEmployeesToGroup",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DeleteEmployeesToGroup",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GetGroupUsers",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "outputs": 4,
        "x": 466.99653244018555,
        "y": 1631.7882080078125,
        "wires": [
            [
                "a80ca7b.ccfaf58"
            ],
            [
                "74aa9fd4.5a9a4"
            ],
            [
                "39d63aa9.45bb16"
            ],
            [
                "db927a14.88ae58"
            ]
        ]
    },
    {
        "id": "a80ca7b.ccfaf58",
        "type": "http response",
        "z": "55e92ca3.9a3084",
        "name": "",
        "x": 637.0034523010254,
        "y": 1534.5868139266968,
        "wires": []
    },
    {
        "id": "74aa9fd4.5a9a4",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "addEmployeeToGroup",
        "func": "var req_body = msg.req_body ,\n    system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\"; // Company Reminderbot Id\n\n\nmsg.payload = [\n    {\n        payload: {\n            user_id: system_id, //system_id,\n            portal_id: company_id, //company_id,\n            node_name: req_body.group_name, //\"Operator1\",\n            data_id: req_body.employee_id, //\"51fd8f4edcac9037a23548efd2805586\",// *CHANGE THIS *,\n            master_parents: [], //should be array in nature\n            tree_owner_id: system_id, //\"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n            node_id: null,\n            target: \"child\",\n            parent_node_name: \"\",\n        },\n        fn_name: \"add_to_node_name_tree\"\n        \n    }    \n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 688.0000152587891,
        "y": 1601.0034770965576,
        "wires": [
            [
                "91a9c.11605565"
            ]
        ]
    },
    {
        "id": "39d63aa9.45bb16",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "deleteEmployeeFromGroup",
        "func": "var req_body = msg.req_body ,\n    system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\"; // Company Reminderbot Id\n\n\nmsg.payload = [\n    {\n        payload: {\n            user_id: system_id, //system_id,\n            portal_id: company_id, //company_id,\n            node_name: req_body.group_name, //\"Operator1\",\n            data_id: req_body.employee_id, //\"51fd8f4edcac9037a23548efd2805586\",// *CHANGE THIS *,\n            master_parents: [], //should be array in nature\n            tree_owner_id: system_id, //\"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n            node_id: null,\n            target: \"child\",\n            parent_node_name: \"\",\n        },\n        fn_name: \"delete_from_node_name_tree\"\n        \n    }    \n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 705.9999923706055,
        "y": 1671.9965643882751,
        "wires": [
            [
                "e679e9e2.951be8"
            ]
        ]
    },
    {
        "id": "91a9c.11605565",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 916.5485763549805,
        "y": 1600.791675567627,
        "wires": [
            [
                "f7a437a5.74dbd8"
            ]
        ]
    },
    {
        "id": "f7a437a5.74dbd8",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "response",
        "func": "var payload = msg.payload ;\n\nmsg.statusCode = 200;\nmsg.payload = {status: 200, msg: \"Record added/deleted successfully\", data: payload};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1112.5592079162598,
        "y": 1670.215316772461,
        "wires": [
            [
                "ba25fc73.e8dcf"
            ]
        ]
    },
    {
        "id": "e679e9e2.951be8",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 919.5590896606445,
        "y": 1671.7812395095825,
        "wires": [
            [
                "f7a437a5.74dbd8"
            ]
        ]
    },
    {
        "id": "ba25fc73.e8dcf",
        "type": "http response",
        "z": "55e92ca3.9a3084",
        "name": "",
        "x": 1265.3299293518066,
        "y": 1668.7013912200928,
        "wires": []
    },
    {
        "id": "db927a14.88ae58",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "getGroupUsers",
        "func": "var req_body = msg.req_body ,\n    system_id = \"f1b5ed9577f69c6b131d94a46b39044f\", //\"system_id\"; // user\n\tcompany_id = \"fa1785333117ba7c06b9020a6d3c0079\"; // Company Reminderbot Id\n\nmsg.payload = [\n\t{\n\t\tpayload: {\n\t\t\tuser_id: system_id, //system_id,\n            portal_id: company_id, //company_id,\n            node_name: req_body.group_name, //\"Operator1\",\n\t\t\tinclude_data:true,\n\t\t\tinclude_head:true,\n\t\t\ttree_owner_id: system_id, //\"f1b5ed9577f69c6b131d94a46b39044f\", //tree_owner_id,\n\t},\n\t\tfn_name: \"get_node_name_tree\"\n\t}\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 669.9930725097656,
        "y": 1737.329870223999,
        "wires": [
            [
                "15b11c1c.47e354"
            ]
        ]
    },
    {
        "id": "15b11c1c.47e354",
        "type": "Tree View",
        "z": "55e92ca3.9a3084",
        "database": "master_table",
        "username": "30175cba-a69e-4ff0-9a79-788abcf0f585-bluemix",
        "password": "3c2e6d7f80557d231bc462ffd3457a3b05625332c1dffc92467d6d8941fcba85",
        "operation": "prod",
        "x": 919.5590744018555,
        "y": 1735.3472309112549,
        "wires": [
            [
                "f7a437a5.74dbd8"
            ]
        ]
    },
    {
        "id": "27305a18.7622f6",
        "type": "function",
        "z": "55e92ca3.9a3084",
        "name": "req_body",
        "func": "var payload = msg.payload ;\n\nif(isEmpty(payload)){\n    msg.switchCase = \"ERROR_RESPONSE\";\n    msg.statusCode = 400;\n    msg.payload = {status: 400, msg: \"payload must have object value.\", data: null};\n}else{\n    if(payload.type == \"add\"){\n        msg.switchCase = \"AddEmployeesToGroup\";\n        msg.req_body = payload ;\n    }else if(payload.type == \"delete\"){\n        msg.switchCase = \"DeleteEmployeesToGroup\";\n        msg.req_body = payload ;\n    }else{\n        msg.switchCase = \"ERROR_RESPONSE\";\n        msg.statusCode = 400;\n        msg.payload = {status: 400, msg: \"Un-specified type to perform operation.\", data: null};\n    }\n}\nreturn msg;\n\n\nfunction isEmpty(obj){\n\n    if(Object.prototype.toString.call(obj) === \"[object Object]\"){\n        if( Object.keys(obj).length ){\n            return false;\n        }else{\n            return true;\n        }\n    }else if(Object.prototype.toString.call(obj) === \"[object Array]\"){\n        if( obj.length ){\n            return false;\n        }else{\n            return true;\n        }\n    }else{\n        if( obj ){\n            return false;\n        }else{\n            return true;\n        }\n    }   \n}",
        "outputs": 1,
        "noerr": 0,
        "x": 322.9930782318115,
        "y": 1632.4444665908813,
        "wires": [
            [
                "bbc8191e.b3b388"
            ]
        ]
    },
    {
        "id": "4bf0047f.946aec",
        "type": "http in",
        "z": "55e92ca3.9a3084",
        "name": "/addDeleteEmployees",
        "url": "/addDeleteEmployees",
        "method": "post",
        "swaggerDoc": "",
        "x": 128,
        "y": 1599.1701526641846,
        "wires": [
            [
                "27305a18.7622f6"
            ]
        ]
    },
    {
        "id": "9b529d15.1d5da",
        "type": "comment",
        "z": "55e92ca3.9a3084",
        "name": "add/delete employee to group",
        "info": "",
        "x": 146.00347900390625,
        "y": 1535.3020935058594,
        "wires": []
    }
]