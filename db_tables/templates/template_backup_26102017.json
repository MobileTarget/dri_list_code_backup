[{"_id":"11_d","_rev":"4-9dfdfb36dd35aa2893bd3fe18495d72b","table":"template","name":"Code Form","html":"<ion-content padding=\"true\">\n\t<div class=\"wbox\" style=\"padding:30px;\">\n\t\t<form>\n\t\t\t<h1 style=\"text-align:center;\">{{title}}</h1>\n\t\t\t<ion-list style=\"\">\n\t\t\t\t<label class=\"item item-input\">\n\t\t\t\t\t<input type=\"text\" id=\"code\" ng-model=\"user.code\" placeholder=\"Verification code\" ng-change=\"verify(user)\">\n\t\t\t\t</label>\n\t\t\t</ion-list>\n\t\t</form>\n\t</div>\n</ion-content>","js":"console.log('Comes here...'');"},{"_id":"11_f","_rev":"1-4017312ca4533ad832c19a06d1d79b5d","table":"template","name":"","html":"","js":""},{"_id":"11_h","_rev":"27-4ef119822afb2a7cb2098b1aeba49c1e","table":"template","name":"Verify header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"logout()\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.verify = function(user){\n\tif(user.code.length === 4){\n\t\tutilityService.setBusy(true, 'loading...');\n\t\tvar endpoint = $scope.api_url + \"/api/verify\";\n\t\tvar parameters = {\n\t\t\tcode:\t\t\tuser.code,\n\t\t\tphone:\t\t\t$localStorage.logged_user_phone,\n\t\t\tdevice_id:\t\t$localStorage.device_id,\n\t\t\tpush_accepted:\t$localStorage.push_accepted || 0\n\t\t};\n\t\tvar config = {params: parameters};\n\t\tconsole.log(\"verification config params>>>\"+JSON.stringify(config));\n\t\t$http.get(endpoint, config).then(function(res) {\n\t\t\tvar res_data = res.data;\n\t\t\tconsole.log(\"verification res_data>>>\"+JSON.stringify(res_data));\n\t\t\tmyService.apiResult = res_data;\n\t\t\tif (res_data.status == \"valid\") {\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t\t$localStorage.user_id = res_data.user_id;\n\t\t\t\t$localStorage.access_token = res_data.access_token;\n\t\t\t\t$scope.goPage(res_data.page_id);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t\tutilityService.showAlert(res_data.msg || \"Invalid code.\").then(function(res) {\n\t\t\t\t\tconsole.log(\"res\", res_data, res);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn false;\n\t}\n\treturn false;\n};\n\n"},{"_id":"13_d","_rev":"17-a3093cf8d6c3082f4a42b352b0b41279","table":"template","name":"Game detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"game-padding\"></div>\n\t<div id=\"myfilter\" style=\"position:absolute;background-color:#000000;opacity:0.3;width:340px;height:182px;display:none\"></div>\n\t<div id=\"myrestartbutton\" style=\"position:absolute;padding-top:75px;padding-left:120px;display:none;\"><button ng-click=\"restartGame()\">Restart</button></div>\n\t<div id=\"canvascontainer\"></div>\n\t<br>\n\t<div style=\"text-align:center;width:320px;\">\n\t <button class=\"button icon ion-arrow-up-a\" ng-touchstart=\"moveup();\" ng-mousedown=\"moveup();\" ng-mouseup=\"clearmove();\"></button><br/><br/>\n\t <button class=\"button icon ion-arrow-left-a\" ng-touchstart=\"moveleft();\" ng-mousedown=\"moveleft();\" ng-mouseup=\"clearmove();\"></button>\n\t <button style=\"margin-top:20%\" class=\"button icon ion-arrow-down-a\" ng-touchstart=\"movedown();\" ng-mousedown=\"movedown();\" ng-mouseup=\"clearmove();\"></button>\n\t <button class=\"button icon ion-arrow-right-a\" ng-touchstart=\"moveright();\" ng-mousedown=\"moveright();\" ng-mouseup=\"clearmove();\"></button>\n\t</div>\n</ion-content>","js":""},{"_id":"13_f","_rev":"1-8097872553ea3fbd9f53a958011e537c","table":"template","name":"Game footer","html":"","js":""},{"_id":"13_h","_rev":"12-b2042f928d6bc0576557d89c71c1fc47","table":"template","name":"Game Header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(14)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"$scope.title = 'Game screen';\nvar myGameArea;\nvar myGamePiece;\nvar myObstacles = [];\nvar myscore;\n\n$scope.restartGame = function() {\n\tdocument.getElementById(\"myfilter\").style.display = \"none\";\n\tdocument.getElementById(\"myrestartbutton\").style.display = \"none\";\n\tmyGameArea.stop();\n\tmyGameArea.clear();\n\tmyGameArea = {};\n\tmyGamePiece = {};\n\tmyObstacles = [];\n\tmyscore = {};\n\tdocument.getElementById(\"canvascontainer\").innerHTML = \"\";\n\t$scope.startGame();\n}\n\n$scope.startGame = function() {\n\tmyGameArea = new gamearea();\n\tmyGamePiece = new component(30, 30, \"red\", 10, 75);\n\tmyscore = new component(\"15px\", \"Consolas\", \"black\", 220, 25, \"text\");\n\tmyGameArea.start();\n}\n\nfunction gamearea() {\n\tthis.canvas = document.createElement(\"canvas\");\n\tthis.canvas.width = 340;\n\tthis.canvas.height = 280; \n\tdocument.getElementById(\"canvascontainer\").appendChild(this.canvas);\n\tthis.context = this.canvas.getContext(\"2d\");\n\tthis.pause = false;\n\tthis.frameNo = 0;\n\tthis.start = function() {\n\t\tthis.interval = setInterval(updateGameArea, 20);\n\t};\n\t\n\tthis.stop = function() {\n\t\tclearInterval(this.interval);\n\t\tthis.pause = true;\n\t};\n\t\n\tthis.clear = function(){\n\t\tthis.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t};\n}\n\nfunction component(width, height, color, x, y, type) {\n\n\tthis.type = type;\n\tif (type == \"text\") {\n\t\tthis.text = color;\n\t}\n\tthis.score = 0; this.width = width;\n\tthis.height = height;\n\tthis.speedX = 0;\n\tthis.speedY = 0; \n\tthis.x = x;\n\tthis.y = y; \n\tthis.update = function() {\n\t\tctx = myGameArea.context;\n\t\tif (this.type == \"text\") {\n\t\t\tctx.font = this.width + \" \" + this.height;\n\t\t\tctx.fillStyle = color;\n\t\t\tctx.fillText(this.text, this.x, this.y);\n\t\t} else {\n\t\t\tctx.fillStyle = color;\n\t\t\tctx.fillRect(this.x, this.y, this.width, this.height);\n\t\t}\n\t};\n\t\n\tthis.crashWith = function(otherobj) {\n\t\tvar myleft = this.x;\n\t\tvar myright = this.x + (this.width);\n\t\tvar mytop = this.y;\n\t\tvar mybottom = this.y + (this.height);\n\t\tvar otherleft = otherobj.x;\n\t\tvar otherright = otherobj.x + (otherobj.width);\n\t\tvar othertop = otherobj.y;\n\t\tvar otherbottom = otherobj.y + (otherobj.height);\n\t\tvar crash = true;\n\t\tif ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {\n\t\t\tcrash = false;\n\t\t}\n\t\treturn crash;\n\t};\n}\n\nfunction updateGameArea() {\n\tvar x, y, min, max, height, gap;\n\tfor (i = 0; i < myObstacles.length; i += 1) {\n\t\tif (myGamePiece.crashWith(myObstacles[i])) {\n\t\t\tmyGameArea.stop();\n\t\t\tdocument.getElementById(\"myfilter\").style.display = \"block\";\n\t\t\tdocument.getElementById(\"myrestartbutton\").style.display = \"block\";\n\t\t\treturn;\n\t\t} \n\t}\n\tif (myGameArea.pause === false) {\n\t\tmyGameArea.clear();\n\t\tmyGameArea.frameNo += 1;\n\t\tmyscore.score +=1; \n\t\tif (myGameArea.frameNo == 1 || everyinterval(150)) {\n\t\t\tx = myGameArea.canvas.width;\n\t\t\ty = myGameArea.canvas.height - 100;\n\t\t\tmin = 20;\n\t\t\tmax = 100;\n\t\t\theight = Math.floor(Math.random()*(max-min+1)+min);\n\t\t\tmin = 50;\n\t\t\tmax = 100;\n\t\t\tgap = Math.floor(Math.random()*(max-min+1)+min);\n\t\t\tmyObstacles.push(new component(10, height, \"green\", x, 0));\n\t\t\tmyObstacles.push(new component(10, x - height - gap, \"green\", x, height + gap));\n\t\t}\n\t\tfor (i = 0; i < myObstacles.length; i += 1) {\n\t\t\tmyObstacles[i].x += -1;\n\t\t\tmyObstacles[i].update();\n\t\t}\n\t\tmyscore.text=\"SCORE: \" + myscore.score; \n\t\tmyscore.update();\n\t\tmyGamePiece.x += myGamePiece.speedX;\n\t\tmyGamePiece.y += myGamePiece.speedY; \n\t\tmyGamePiece.update();\n\t}\n}\n\nfunction everyinterval(n) {\n\tif ((myGameArea.frameNo / n) % 1 === 0) {return true;}\n\treturn false;\n}\n\n$scope.moveup = function() {\n\tmyGamePiece.speedY = -1; \n}\n\n$scope.movedown = function() {\n\tmyGamePiece.speedY = 1; \n}\n\n$scope.moveleft = function() {\n\tif(myGamePiece.x > 0) myGamePiece.speedX = -1;\n}\n\n$scope.moveright = function() {\n\tif(myGamePiece.speedX < 280 ) myGamePiece.speedX = 1;\n}\n\n$scope.clearmove = function() {\n\tmyGamePiece.speedX = 0; \n\tmyGamePiece.speedY = 0; \n}\n$timeout(function(){\n\t$scope.startGame();\n}, 200);\n"},{"_id":"14_d","_rev":"15-76f85f14c7f2380e2989916ae447758d","table":"template","name":"edit_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\" ng-submit=\"params = {\n\t\t\tapp: {\n\t\t\t\tapi: {\n\t\t\t\t\tapi_type: 'UPDATE_USER_DETAILS',\n\t\t\t\t\ttable: 'update_user',\n\t\t\t\t\ttable_data: user_data\n\t\t\t\t}\n\t\t\t},\n\t\t\tplatform: {},\n\t\t\tother_user: {}\n\t\t};\ncommon_request_handler(params)\" novalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">First name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"First name\" ng-model=\"user_data.firstname\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Last name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Last name\" ng-model=\"user_data.lastname\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Email</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Email\" ng-model=\"user_data.email\" /> \t\n\t\t\t</label> \t\t\t\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Phone</span>\n\t\t\t\t<input type=\"number\" placeholder=\"Phone\" ng-model=\"user_data.phone\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Virtual phone</span>\n\t\t\t\t<input type=\"number\" placeholder=\"Phone\" ng-model=\"user_data.virtual_phone\" readonly/>\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<div class=\"file-upload\">\n\t\t\t\t <div for=\"upload\" class=\"file-upload__label\"> Profile Pic</div>\n\t\t\t\t <input id=\"upload\" class=\"file-upload__input\" type=\"file\" palceholder=\"Select pic\" class=\"profilePic\"/>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<label class=\"item item-select item-light item-stacked-label\">\n\t\t\t\t<div class = \"input-label\">\n\t\t\t\t\tTimezone\n\t\t\t\t</div>\n\t\t\t\t<timezone-selector ng-model=\"user_data.timezone\"></timezone-selector>\n\t\t\t</label>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button class=\"button button-block button-positive\" type=\"submit\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>","js":""},{"_id":"14_f","_rev":"1-8d5b64ff34f25db5ff6167a79986daec","table":"template","name":"edit_footer","html":"","js":""},{"_id":"14_h","_rev":"7-a081005453110e006ce6081b87e6d422","table":"template","name":"edit-user","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"goPage(13)\">\n\t\t <i class=\"icon ion-xbox\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"logout()\">\n\t\t<i class=\"icon ion-log-out\"></i>\n\t </button>\n\t</div>\n</ion-header-bar>","js":"$scope.title = 'User edit screen';\n $scope.user_data = myService.apiResult.user;\n"},{"_id":"15_d","_rev":"22-79ff0b2e83cf0b25438f6c694951b3a2","table":"template","name":"edit_detail_short_form_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\"\n\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'UPDATE_EDIT_SHORT_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'update_short_detail',\n\t\t\t\t\t\t\t\ttable_data: short_info\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\"\tnovalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Message</span>\n\t\t\t\t<input type=\"text\" placeholder=\"User message\" ng-model=\"short_info.message\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Task name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Task name\" ng-model=\"short_info.task_name\" />\n\t\t\t</label>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\">\n\t\t\t\t\tDisplay if empty ?\n\t\t\t\t\t<label class=\"toggle toggle-positive\">\n\t\t\t\t\t\t<input type=\"checkbox\" ng-model=\"short_info.display_if_empty\">\n\t\t\t\t\t\t<div class=\"track\">\n\t\t\t\t\t\t\t<div class=\"handle\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<span class=\"input-label\">Type</span>\n\t\t\t\t<select ng-model=\"short_info.type\">\n\t\t\t\t\t<option value=\"\">Select</option>\n\t\t\t\t\t<option value=\"public\">Public</option>\n\t\t\t\t\t<option value=\"private\">Private</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\" ng-click=\"addThisDetailToNewTask(short_info)\">\n\t\t\t\t\t<span class=\"input-label\">Add to another task</span>\n\t\t\t\t\t<label class=\"toggle toggle-positive\">\n\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"removeUnderline\" >Click to add</a>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button class=\"button button-block button-positive\" type=\"submit\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>\n\n","js":""},{"_id":"15_f","_rev":"1-98d89f113f443f6ad2de1fa1f7313d17","table":"template","name":"edit_detail_short_form_footer","html":"","js":""},{"_id":"15_h","_rev":"3-f516104303cf9e24cddc32944ef89091","table":"template","name":"edit_detail_short_form_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"$scope.title=\"Edit screen\";"},{"_id":"16_d","_rev":"13-c7fa746948829a189065d18c1fefa97f","table":"template","name":"edit_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\" ng-submit=\"\n\tparams = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t\tapi_mode: 'POST',\n\t\t\t\tapi_type: 'UPDATE_MORE_INFO',\n\t\t\t\ttable: 'update_task',\n\t\t\t\ttable_data: task_data\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_user: {}\n\t};\n\tcommon_request_handler(params)\" novalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Task Name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Task Name\" ng-model=\"task_data.task_name\" readonly/>\n\t\t\t</label>\n\t\t\t<div class=\"list\">\n\t\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">User</div>\n\t\t\t\t\t<select ng-model=\"task_data.user_id\" disabled>\n\t\t\t\t\t\t<option ng-repeat=\"user in user_list track by $index\" value=\"{{user.id}}\">{{user.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Header</div>\n\t\t\t\t\t<select ng-model=\"task_data.header_template_id\">\n\t\t\t\t\t\t<option ng-repeat=\"temp in temp_data track by $index\" value={{temp._id}}>{{temp.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Detail</div>\n\t\t\t\t\t<select ng-model=\"task_data.detail_template_id\">\n\t\t\t\t\t\t<option ng-repeat=\"temp in temp_data track by $index\" value={{temp._id}}>{{temp.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Footer</div>\n\t\t\t\t\t<select ng-model=\"task_data.footer_template_id\">\n\t\t\t\t\t\t<option ng-repeat=\"temp in temp_data track by $index\" value={{temp._id}}>{{temp.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Timeout List</div>\n\t\t\t\t\t<select ng-model=\"task_data.timeout_id\">\n\t\t\t\t\t\t<option ng-repeat=\"timeout in timeout_arr track by $index\" value=\"{{timeout._id}}\">{{timeout.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t<div class=\"input-label\">Location list</div>\n\t\t\t\t\t<select ng-model=\"task_data.location_ids\">\n\t\t\t\t\t\t<option ng-repeat=\"location in location_arr track by $index\" value=\"{{location.id}}\">{{location.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"list\">\n\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<div class=\"input-label\">Child task id</div>\n\t\t\t\t<select ng-model=\"task_data.child_default_task_id\">\n\t\t\t\t\t<option ng-repeat=\"task in task_arr track by $index\" value=\"{{task.id}}\">{{task.task_name}}</option>\n\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Date</span><input type=\"text\" placeholder=\"Task date\" ng-model=\"task_data.date_created\" readonly/>\n\t\t\t</label>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\">\n\t\t\t\t\tTask status\n\t\t\t\t\t<label class=\"toggle toggle-positive\">\n\t\t\t\t\t\t<input type=\"checkbox\" ng-model=\"task_data.status\">\n\t\t\t\t\t\t<div class=\"track\">\n\t\t\t\t\t\t\t<div class=\"handle\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Category Name</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Category name\" ng-model=\"task_data.category\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Additional Fn</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Addition function name\" ng-model=\"task_data.additional_data_fn\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Optional data</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Optional data\" ng-model=\"task_data.optional_data\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Required data</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Required data\" ng-model=\"task_data.required_data\" />\n\t\t\t\t</label>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Offline expiration time</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Offline expiration time\" ng-model=\"task_data.offline_expiration_time\" />\n\t\t\t\t</label>\n\t\t\t</ul>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<li class=\"item item-toggle\">Display if empty ?<label class=\"toggle toggle-positive\">\n\t\t\t\t\t<input type=\"checkbox\" ng-model=\"task_data.display_if_empty\">\n\t\t\t\t\t<div class=\"track\"><div class=\"handle\"></div></div></label>\n\t\t\t\t</li>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t\t\t<div class=\"input-label\">Task type</div>\n\t\t\t\t\t\t<select ng-model=\"task_data.type.pubilc\">\n\t\t\t\t\t\t\t<option value=\"public\">Public</option>\n\t\t\t\t\t\t\t<option value=\"private\">Private</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t\t<span class=\"input-label\">Task image</span>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Image\" ng-model=\"task_data.image\" />\n\t\t\t\t</label>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button type=\"submit\" class=\"button button-block button-positive activated\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>","js":""},{"_id":"16_f","_rev":"1-8d5b64ff34f25db5ff6167a79986daec","table":"template","name":"edit_footer","html":"","js":""},{"_id":"16_h","_rev":"34-bf962acf5607356675cc0955b0090ab3","table":"template","name":"edit_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.get_task_related_data = function(){\n\tutilityService.setBusy(true, \"Processing...\");\n\tvar req_obj = {\n\t\t\"app\": {\n\t\t\t\"api\": {\n\t\t\t\t\"api_mode\": \"GET\",\n\t\t\t\t\"api_type\": \"get_data_for_task\",\n\t\t\t\t\"type\" : \"get_data_for_task\",\n\t\t\t\t\"content\" : {\n\t\t\t\t\t\"access_token\": $localStorage.access_token,\n\t\t\t\t\t\"task_id\": $scope.config.edit_task_id\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"platform\": {},\n\t\t\"other_user\": {}\n\t};\n\t$scope.common_request_handler(req_obj);\n}\n$scope.get_task_related_data();"},{"_id":"17_d","_rev":"6-bfff83a64dac936b88864daa24c0c83e","name":"Search detail","table":"template","html":"<ion-list style=\"\" ng-if=\"showRecord\">\n\t<ion-item ng-repeat=\"user in usersList\" type=\"item-text-wrap\"\n\t\tclass=\"item-remove-animate item-icon-right\" ng-if=\"check_if_not_logged_user(user);\">\n\t\t<div class=\"item-data\" ng-click=\"add_to_chat(user);\">\n\t\t\t<h2>{{user.firstname ? user.firstname + ' ' + user.lastname : user.virtual_phone}}</h2>\n\t\t</div> \n\t</ion-item>\n\t</ion-list>\n</ion-content>\n<ion-list style=\"\" ng-if=\"!showRecord\"><div class=\"list\"> {{ recordMsg }}</div></ion-content>\n","js":""},{"_id":"17_f","_rev":"1-cc2d4913b6c2fed4096f197450169e6c","name":"Search footer","table":"template","html":"","js":"console.log('Search footer template js')"},{"_id":"17_h","_rev":"61-5fdf3b55727470137dd3ba277e35d00f","name":"Search header","table":"template","html":"<div class=\"bar bar-header item-input-inset\">\n\t<form name=\"searchForm\" class=\"sendmessage\" ng-submit=\"searchQuery(search)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<i class=\"icon ion-ios-search placeholder-icon\"></i>\n\t\t\t<input type=\"search\" placeholder=\"Search\" ng-model=\"search.query\"/>\n\t\t\t<a ng-if=\"search.query != ''\" on-touch=\"search.query=''\" ng-click=\"search.query =''\">\n\t\t\t\t<i class=\"icon ion-ios-close placeholder-icon\"></i>\n\t\t\t</a>\n\t\t\t<input type=\"submit\" class=\"hide\" />\n\t\t</label>\n\t</form>\n\t<button class=\"button button-dark\" ng-click=\"goPage(config.from_page_id)\">Cancel</button>\n</div>","js":"$scope.search = {\n\tquery: \"\"\n};\n$scope.showRecord = true;\n$scope.usersList = [];\nvar logged_user = myService.getUserInfo();\n\n$scope.searchQuery = function (params) {\n\tconsole.log(\"params >>>>\", params.query);\n\tif (params.query) {\n\t\tutilityService.setBusy(true, \"Processing...\");\n\t\tvar endpoint = \"https://platform.mybluemix.net\",\n\t\t\targs = {\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"type\": \"search\",\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"query\": params.query.toString()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t$http.get(endpoint + '/master_api_handler', args)\n\t\t.then(function (response) {\n\t\t\tif (response.data.data.length) {\n\t\t\t\t$scope.showRecord = true;\n\t\t\t\t$scope.usersList = response.data.data;\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t} else {\n\t\t\t\t$scope.showRecord = false;\n\t\t\t\t$scope.recordMsg = \"No Record found.\";\n\t\t\t\tutilityService.setBusy(false);\n\t\t\t}\n\t\t}, function (error) {\n\t\t\tconsole.log(\"error >>>\", error);\n\t\t\t$scope.showRecord = false;\n\t\t\t$scope.recordMsg = \"No Record found.\";\n\t\t\tutilityService.setBusy(false);\n\t\t});\n\t} else {\n\t\treturn false;\n\t}\n};\n\n$scope.add_to_chat = function (user) {\n\tutilityService.setBusy(true, \"Processing...\");\n\tvar logged_user = myService.getUserInfo();\n\tvar params = {\n\t\tapi_type: \"ADD_DETAIL\",\n\t\tapi_next_fn: \"$scope.goPage($scope.config.from_page_id)\",\n\t\ttable: \"add_detail\",\n\t\ttable_data: {\n\t\t\tnote: user.firstname ? user.firstname + ' ' + user.lastname : user.virtual_phone,\n\t\t\tto_note: logged_user.firstname ? logged_user.firstname + ' ' + logged_user.lastname : logged_user.virtual_phone,\n\t\t\ttask_id: $scope.config.edit_task_id,\n\t\t\ttask_name: \"Chat\",\n\t\t\tpage_id: $scope.config.from_page_id,\n\t\t\tfrom_page_id: 17,\n\t\t\tfrom_user_id: [logged_user.user_id, user._id]\n\t\t}\n\t};\n\t$scope.common_request_handler(params);\n};\n\n$scope.check_if_not_logged_user = function (user) {\n\tif ( (logged_user.user_id == user._id) || ( parseInt(11234) == parseInt(user.virtual_phone) ) ) {\n\t\treturn false;\n } else {\n return true;\n }\n};"},{"_id":"18_d","_rev":"17-381a21860d2cc1cd4d3ba042d05c5c6a","table":"template","name":"Chabot Details","html":"<ion-content class=\"content-stable chat_scroll\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\" overflow-scroll=\"true\" ng-cloak>\n\t<ion-refresher on-refresh=\"pull_down_refresh();\" ng-cloak></ion-refresher>\n\t<user-message-list message-data=\"messages\" logged-user=\"logged_user\" ng-cloak></user-message-list>\n\t<div class=\"typing-class\" ng-show=\"isTyping\" ng-cloak>\n\t\t<p class=\"chat-typing\" ng-cloak>{{ typingUserName }} is typing......</p>\n\t</div>\n</ion-content>","js":""},{"_id":"18_f","_rev":"13-bdc147c95324ee5bcf6c3a8d678d3081","table":"template","name":"Chabot Footer","html":"<div class=\"typing-class\" ng-show=\"isTyping\"><span>Typing.....</span></div>\n<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"showSendMessage(data.message)\" novalidate>\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping();\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button button-icon icon ion-ios-paperplane footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"18_h","_rev":"43-1b95d561096f6367aaec1e66fed07010","table":"template","name":"Chabot Header","html":"<ion-header-bar class=\"bar-stable\">\n\r<button class=\"button button-icon\" ng-click=\"goPage(5)\">\n\r<i class=\"icon ion-ios-arrow-back\">Back</i>\n\r</button>\n\r<h1 class=\"title\">{{title}}</h1>\n\r<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\r<i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\r</button>\n\r</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort = \"asc\";\n$scope.sortKey = \"createdAt\";\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.data = {};\n$scope.logged_user = myService.getUserInfo();\n\nthis.getUserMessage = function(){\n\tvar detailData = myService.getDetail();\n\t$ionicScrollDelegate.scrollBottom();\n\t$scope.messages = utilityService.sortByKey(detailData, $scope.sortKey, $scope.sort);\n};\nthis.getUserMessage();\n\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n\tif($scope.sort == \"asc\"){\n\t\t$timeout(function(){\n\t\t\t$ionicScrollDelegate.scrollBottom(true);\n\t\t}, 200);\n\t}else{\n\t\t$timeout(function(){\n\t\t\t$ionicScrollDelegate.scrollTop();\n\t\t\t$ionicScrollDelegate.resize()\n\t\t}, 200);\n\t}\n};"},{"_id":"19_d","_rev":"6-4475a48ddc0ff9f299134601331b864f","table":"template","name":"add_detail_to_task detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\"\n\tng-submit=\"params = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t\tapi_mode: 'POST',\n\t\t\t\tapi_type: 'add_detail_to_task',\n\t\t\t\ttable: 'add_detail_to_task',\n\t\t\t\ttable_data: addDetailToTask\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_user: {}\n\t};\n\tcommon_request_handler(params);\"\tnovalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Detail Id</span>\n\t\t\t\t<input type=\"text\" placeholder=\"User message\" ng-model=\"addDetailToTask.detail_id\" readonly=\"readonly\"/>\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t\t<span class=\"input-label\">Detail name</span>\n\t\t\t\t<input type=\"text\" placeholder=\"Task name\" ng-model=\"addDetailToTask.message\" />\n\t\t\t</label>\n\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<span class=\"input-label\">Type</span>\n\t\t\t\t<select ng-model=\"addDetailToTask.task_id\">\n\t\t\t\t\t<option value=\"\">Select</option>\n\t\t\t\t\t<option ng-repeat=\"task in all_task_list\" value=\"{{task._id}}\">{{task.task_name}}</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button class=\"button button-block button-positive\" type=\"submit\">Update</button>\n\t\t</div>\n\t</form>\n</ion-content>\n\n","js":""},{"_id":"19_f","_rev":"1-cbd426ae54cf4be3c4c1caa8acb27f33","table":"template","name":"add_detail_to_task footer","html":"","js":""},{"_id":"19_h","_rev":"1-f10f0a5560737af19c0d3b1e9b72e3ed","table":"template","name":"add_detail_to_task","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(15)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"$scope.title=\"Add Detail to task\";"},{"_id":"1_d","_rev":"20-52f82487aca976519886db38cb030508","table":"template","name":"Login Form","html":"<ion-content padding=\"true\">\n\t<div class=\"login-container\">\n\t\t<h1 style=\"text-align:center;\">{{title}}</h1>\n\t\t<ion-list>\n\t\t\t<div class=\"row responsive-xs\">\n\t\t\t\t<div class=\"col\">\n\t\t\t\t\t<label class=\"item item-input item-select\" style=\"min-height:46px;\">\n\t\t\t\t\t\t<select name=\"countryCode\" ng-model=\"user.country_code\"><option data-countryCode=\"GB\" value=\"44\">UK (+44)</option><option data-countryCode=\"US\" value=\"1\">USA (+1)</option><optgroup label=\"Other countries\"><option data-countryCode=\"DZ\" value=\"213\">Algeria (+213)</option><option data-countryCode=\"AD\" value=\"376\">Andorra (+376)</option><option data-countryCode=\"AO\" value=\"244\">Angola (+244)</option><option data-countryCode=\"AI\" value=\"1264\">Anguilla (+1264)</option><option data-countryCode=\"AG\" value=\"1268\">Antigua &amp; Barbuda (+1268)</option><option data-countryCode=\"AR\" value=\"54\">Argentina (+54)</option><option data-countryCode=\"AM\" value=\"374\">Armenia (+374)</option><option data-countryCode=\"AW\" value=\"297\">Aruba (+297)</option><option data-countryCode=\"AU\" value=\"61\">Australia (+61)</option><option data-countryCode=\"AT\" value=\"43\">Austria (+43)</option><option data-countryCode=\"AZ\" value=\"994\">Azerbaijan (+994)</option><option data-countryCode=\"BS\" value=\"1242\">Bahamas (+1242)</option><option data-countryCode=\"BH\" value=\"973\">Bahrain (+973)</option><option data-countryCode=\"BD\" value=\"880\">Bangladesh (+880)</option><option data-countryCode=\"BB\" value=\"1246\">Barbados (+1246)</option><option data-countryCode=\"BY\" value=\"375\">Belarus (+375)</option><option data-countryCode=\"BE\" value=\"32\">Belgium (+32)</option><option data-countryCode=\"BZ\" value=\"501\">Belize (+501)</option><option data-countryCode=\"BJ\" value=\"229\">Benin (+229)</option><option data-countryCode=\"BM\" value=\"1441\">Bermuda (+1441)</option><option data-countryCode=\"BT\" value=\"975\">Bhutan (+975)</option><option data-countryCode=\"BO\" value=\"591\">Bolivia (+591)</option><option data-countryCode=\"BA\" value=\"387\">Bosnia Herzegovina (+387)</option><option data-countryCode=\"BW\" value=\"267\">Botswana (+267)</option><option data-countryCode=\"BR\" value=\"55\">Brazil (+55)</option><option data-countryCode=\"BN\" value=\"673\">Brunei (+673)</option><option data-countryCode=\"BG\" value=\"359\">Bulgaria (+359)</option><option data-countryCode=\"BF\" value=\"226\">Burkina Faso (+226)</option><option data-countryCode=\"BI\" value=\"257\">Burundi (+257)</option><option data-countryCode=\"KH\" value=\"855\">Cambodia (+855)</option><option data-countryCode=\"CM\" value=\"237\">Cameroon (+237)</option><option data-countryCode=\"CA\" value=\"1\">Canada (+1)</option><option data-countryCode=\"CV\" value=\"238\">Cape Verde Islands (+238)</option><option data-countryCode=\"KY\" value=\"1345\">Cayman Islands (+1345)</option><option data-countryCode=\"CF\" value=\"236\">Central African Republic (+236)</option><option data-countryCode=\"CL\" value=\"56\">Chile (+56)</option><option data-countryCode=\"CN\" value=\"86\">China (+86)</option><option data-countryCode=\"CO\" value=\"57\">Colombia (+57)</option><option data-countryCode=\"KM\" value=\"269\">Comoros (+269)</option><option data-countryCode=\"CG\" value=\"242\">Congo (+242)</option><option data-countryCode=\"CK\" value=\"682\">Cook Islands (+682)</option><option data-countryCode=\"CR\" value=\"506\">Costa Rica (+506)</option><option data-countryCode=\"HR\" value=\"385\">Croatia (+385)</option><option data-countryCode=\"CU\" value=\"53\">Cuba (+53)</option><option data-countryCode=\"CY\" value=\"90392\">Cyprus North (+90392)</option><option data-countryCode=\"CY\" value=\"357\">Cyprus South (+357)</option><option data-countryCode=\"CZ\" value=\"42\">Czech Republic (+42)</option><option data-countryCode=\"DK\" value=\"45\">Denmark (+45)</option><option data-countryCode=\"DJ\" value=\"253\">Djibouti (+253)</option><option data-countryCode=\"DM\" value=\"1809\">Dominica (+1809)</option><option data-countryCode=\"DO\" value=\"1809\">Dominican Republic (+1809)</option><option data-countryCode=\"EC\" value=\"593\">Ecuador (+593)</option><option data-countryCode=\"EG\" value=\"20\">Egypt (+20)</option><option data-countryCode=\"SV\" value=\"503\">El Salvador (+503)</option><option data-countryCode=\"GQ\" value=\"240\">Equatorial Guinea (+240)</option><option data-countryCode=\"ER\" value=\"291\">Eritrea (+291)</option><option data-countryCode=\"EE\" value=\"372\">Estonia (+372)</option><option data-countryCode=\"ET\" value=\"251\">Ethiopia (+251)</option><option data-countryCode=\"FK\" value=\"500\">Falkland Islands (+500)</option><option data-countryCode=\"FO\" value=\"298\">Faroe Islands (+298)</option><option data-countryCode=\"FJ\" value=\"679\">Fiji (+679)</option><option data-countryCode=\"FI\" value=\"358\">Finland (+358)</option><option data-countryCode=\"FR\" value=\"33\">France (+33)</option><option data-countryCode=\"GF\" value=\"594\">French Guiana (+594)</option><option data-countryCode=\"PF\" value=\"689\">French Polynesia (+689)</option><option data-countryCode=\"GA\" value=\"241\">Gabon (+241)</option><option data-countryCode=\"GM\" value=\"220\">Gambia (+220)</option><option data-countryCode=\"GE\" value=\"7880\">Georgia (+7880)</option><option data-countryCode=\"DE\" value=\"49\">Germany (+49)</option><option data-countryCode=\"GH\" value=\"233\">Ghana (+233)</option><option data-countryCode=\"GI\" value=\"350\">Gibraltar (+350)</option><option data-countryCode=\"GR\" value=\"30\">Greece (+30)</option><option data-countryCode=\"GL\" value=\"299\">Greenland (+299)</option><option data-countryCode=\"GD\" value=\"1473\">Grenada (+1473)</option><option data-countryCode=\"GP\" value=\"590\">Guadeloupe (+590)</option><option data-countryCode=\"GU\" value=\"671\">Guam (+671)</option><option data-countryCode=\"GT\" value=\"502\">Guatemala (+502)</option><option data-countryCode=\"GN\" value=\"224\">Guinea (+224)</option><option data-countryCode=\"GW\" value=\"245\">Guinea - Bissau (+245)</option><option data-countryCode=\"GY\" value=\"592\">Guyana (+592)</option><option data-countryCode=\"HT\" value=\"509\">Haiti (+509)</option><option data-countryCode=\"HN\" value=\"504\">Honduras (+504)</option><option data-countryCode=\"HK\" value=\"852\">Hong Kong (+852)</option><option data-countryCode=\"HU\" value=\"36\">Hungary (+36)</option><option data-countryCode=\"IS\" value=\"354\">Iceland (+354)</option><option data-countryCode=\"IN\" value=\"91\">India (+91)</option><option data-countryCode=\"ID\" value=\"62\">Indonesia (+62)</option><option data-countryCode=\"IR\" value=\"98\">Iran (+98)</option><option data-countryCode=\"IQ\" value=\"964\">Iraq (+964)</option><option data-countryCode=\"IE\" value=\"353\">Ireland (+353)</option><option data-countryCode=\"IL\" value=\"972\">Israel (+972)</option><option data-countryCode=\"IT\" value=\"39\">Italy (+39)</option><option data-countryCode=\"JM\" value=\"1876\">Jamaica (+1876)</option><option data-countryCode=\"JP\" value=\"81\">Japan (+81)</option><option data-countryCode=\"JO\" value=\"962\">Jordan (+962)</option><option data-countryCode=\"KZ\" value=\"7\">Kazakhstan (+7)</option><option data-countryCode=\"KE\" value=\"254\">Kenya (+254)</option><option data-countryCode=\"KI\" value=\"686\">Kiribati (+686)</option><option data-countryCode=\"KP\" value=\"850\">Korea North (+850)</option><option data-countryCode=\"KR\" value=\"82\">Korea South (+82)</option><option data-countryCode=\"KW\" value=\"965\">Kuwait (+965)</option><option data-countryCode=\"KG\" value=\"996\">Kyrgyzstan (+996)</option><option data-countryCode=\"LA\" value=\"856\">Laos (+856)</option><option data-countryCode=\"LV\" value=\"371\">Latvia (+371)</option><option data-countryCode=\"LB\" value=\"961\">Lebanon (+961)</option><option data-countryCode=\"LS\" value=\"266\">Lesotho (+266)</option><option data-countryCode=\"LR\" value=\"231\">Liberia (+231)</option><option data-countryCode=\"LY\" value=\"218\">Libya (+218)</option><option data-countryCode=\"LI\" value=\"417\">Liechtenstein (+417)</option><option data-countryCode=\"LT\" value=\"370\">Lithuania (+370)</option><option data-countryCode=\"LU\" value=\"352\">Luxembourg (+352)</option><option data-countryCode=\"MO\" value=\"853\">Macao (+853)</option><option data-countryCode=\"MK\" value=\"389\">Macedonia (+389)</option><option data-countryCode=\"MG\" value=\"261\">Madagascar (+261)</option><option data-countryCode=\"MW\" value=\"265\">Malawi (+265)</option><option data-countryCode=\"MY\" value=\"60\">Malaysia (+60)</option><option data-countryCode=\"MV\" value=\"960\">Maldives (+960)</option><option data-countryCode=\"ML\" value=\"223\">Mali (+223)</option><option data-countryCode=\"MT\" value=\"356\">Malta (+356)</option><option data-countryCode=\"MH\" value=\"692\">Marshall Islands (+692)</option><option data-countryCode=\"MQ\" value=\"596\">Martinique (+596)</option><option data-countryCode=\"MR\" value=\"222\">Mauritania (+222)</option><option data-countryCode=\"YT\" value=\"269\">Mayotte (+269)</option><option data-countryCode=\"MX\" value=\"52\">Mexico (+52)</option><option data-countryCode=\"FM\" value=\"691\">Micronesia (+691)</option><option data-countryCode=\"MD\" value=\"373\">Moldova (+373)</option><option data-countryCode=\"MC\" value=\"377\">Monaco (+377)</option><option data-countryCode=\"MN\" value=\"976\">Mongolia (+976)</option><option data-countryCode=\"MS\" value=\"1664\">Montserrat (+1664)</option><option data-countryCode=\"MA\" value=\"212\">Morocco (+212)</option><option data-countryCode=\"MZ\" value=\"258\">Mozambique (+258)</option><option data-countryCode=\"MN\" value=\"95\">Myanmar (+95)</option><option data-countryCode=\"NA\" value=\"264\">Namibia (+264)</option><option data-countryCode=\"NR\" value=\"674\">Nauru (+674)</option><option data-countryCode=\"NP\" value=\"977\">Nepal (+977)</option><option data-countryCode=\"NL\" value=\"31\">Netherlands (+31)</option><option data-countryCode=\"NC\" value=\"687\">New Caledonia (+687)</option><option data-countryCode=\"NZ\" value=\"64\">New Zealand (+64)</option><option data-countryCode=\"NI\" value=\"505\">Nicaragua (+505)</option><option data-countryCode=\"NE\" value=\"227\">Niger (+227)</option><option data-countryCode=\"NG\" value=\"234\">Nigeria (+234)</option><option data-countryCode=\"NU\" value=\"683\">Niue (+683)</option><option data-countryCode=\"NF\" value=\"672\">Norfolk Islands (+672)</option><option data-countryCode=\"NP\" value=\"670\">Northern Marianas (+670)</option><option data-countryCode=\"NO\" value=\"47\">Norway (+47)</option><option data-countryCode=\"OM\" value=\"968\">Oman (+968)</option><option data-countryCode=\"PW\" value=\"680\">Palau (+680)</option><option data-countryCode=\"PA\" value=\"507\">Panama (+507)</option><option data-countryCode=\"PG\" value=\"675\">Papua New Guinea (+675)</option><option data-countryCode=\"PY\" value=\"595\">Paraguay (+595)</option><option data-countryCode=\"PE\" value=\"51\">Peru (+51)</option><option data-countryCode=\"PH\" value=\"63\">Philippines (+63)</option><option data-countryCode=\"PL\" value=\"48\">Poland (+48)</option><option data-countryCode=\"PT\" value=\"351\">Portugal (+351)</option><option data-countryCode=\"PR\" value=\"1787\">Puerto Rico (+1787)</option><option data-countryCode=\"QA\" value=\"974\">Qatar (+974)</option><option data-countryCode=\"RE\" value=\"262\">Reunion (+262)</option><option data-countryCode=\"RO\" value=\"40\">Romania (+40)</option><option data-countryCode=\"RU\" value=\"7\">Russia (+7)</option><option data-countryCode=\"RW\" value=\"250\">Rwanda (+250)</option><option data-countryCode=\"SM\" value=\"378\">San Marino (+378)</option><option data-countryCode=\"ST\" value=\"239\">Sao Tome &amp; Principe (+239)</option><option data-countryCode=\"SA\" value=\"966\">Saudi Arabia (+966)</option><option data-countryCode=\"SN\" value=\"221\">Senegal (+221)</option><option data-countryCode=\"CS\" value=\"381\">Serbia (+381)</option><option data-countryCode=\"SC\" value=\"248\">Seychelles (+248)</option><option data-countryCode=\"SL\" value=\"232\">Sierra Leone (+232)</option><option data-countryCode=\"SG\" value=\"65\">Singapore (+65)</option><option data-countryCode=\"SK\" value=\"421\">Slovak Republic (+421)</option><option data-countryCode=\"SI\" value=\"386\">Slovenia (+386)</option><option data-countryCode=\"SB\" value=\"677\">Solomon Islands (+677)</option><option data-countryCode=\"SO\" value=\"252\">Somalia (+252)</option><option data-countryCode=\"ZA\" value=\"27\">South Africa (+27)</option><option data-countryCode=\"ES\" value=\"34\">Spain (+34)</option><option data-countryCode=\"LK\" value=\"94\">Sri Lanka (+94)</option><option data-countryCode=\"SH\" value=\"290\">St. Helena (+290)</option><option data-countryCode=\"KN\" value=\"1869\">St. Kitts (+1869)</option><option data-countryCode=\"SC\" value=\"1758\">St. Lucia (+1758)</option><option data-countryCode=\"SD\" value=\"249\">Sudan (+249)</option><option data-countryCode=\"SR\" value=\"597\">Suriname (+597)</option><option data-countryCode=\"SZ\" value=\"268\">Swaziland (+268)</option><option data-countryCode=\"SE\" value=\"46\">Sweden (+46)</option><option data-countryCode=\"CH\" value=\"41\">Switzerland (+41)</option><option data-countryCode=\"SI\" value=\"963\">Syria (+963)</option><option data-countryCode=\"TW\" value=\"886\">Taiwan (+886)</option><option data-countryCode=\"TJ\" value=\"7\">Tajikstan (+7)</option><option data-countryCode=\"TH\" value=\"66\">Thailand (+66)</option><option data-countryCode=\"TG\" value=\"228\">Togo (+228)</option><option data-countryCode=\"TO\" value=\"676\">Tonga (+676)</option><option data-countryCode=\"TT\" value=\"1868\">Trinidad &amp; Tobago (+1868)</option><option data-countryCode=\"TN\" value=\"216\">Tunisia (+216)</option><option data-countryCode=\"TR\" value=\"90\">Turkey (+90)</option><option data-countryCode=\"TM\" value=\"7\">Turkmenistan (+7)</option><option data-countryCode=\"TM\" value=\"993\">Turkmenistan (+993)</option><option data-countryCode=\"TC\" value=\"1649\">Turks &amp; Caicos Islands (+1649)</option><option data-countryCode=\"TV\" value=\"688\">Tuvalu (+688)</option><option data-countryCode=\"UG\" value=\"256\">Uganda (+256)</option><option data-countryCode=\"UA\" value=\"380\">Ukraine (+380)</option><option data-countryCode=\"AE\" value=\"971\">United Arab Emirates (+971)</option><option data-countryCode=\"UY\" value=\"598\">Uruguay (+598)</option><option data-countryCode=\"UZ\" value=\"7\">Uzbekistan (+7)</option><option data-countryCode=\"VU\" value=\"678\">Vanuatu (+678)</option><option data-countryCode=\"VA\" value=\"379\">Vatican City (+379)</option><option data-countryCode=\"VE\" value=\"58\">Venezuela (+58)</option><option data-countryCode=\"VN\" value=\"84\">Vietnam (+84)</option><option data-countryCode=\"VG\" value=\"84\">Virgin Islands - British (+1284)</option><option data-countryCode=\"VI\" value=\"84\">Virgin Islands - US (+1340)</option><option data-countryCode=\"WF\" value=\"681\">Wallis &amp; Futuna (+681)</option><option data-countryCode=\"YE\" value=\"969\">Yemen (North)(+969)</option><option data-countryCode=\"YE\" value=\"967\">Yemen (South)(+967)</option><option data-countryCode=\"ZM\" value=\"260\">Zambia (+260)</option><option data-countryCode=\"ZW\" value=\"263\">Zimbabwe (+263)</option></optgroup></select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col col-75\">\n\t\t\t\t\t<label class=\"item item-input\">\n\t\t\t\t\t\t<input type=\"text\" id=\"phone\" ng-model=\"user.phone\" placeholder=\"Phone\" ng-change=\"checkNumber(user.phone)\">\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ion-list>\n\t\t\t<div style=\"height: 10px;\" class=\"spacer\">\n\t\t</div>\n\t\t<button class=\"button button-stable button-block\" id=\"login-button\" ng-click=\"login(user)\">NEXT</button>\n\t</div>\n</ion-content>","js":""},{"_id":"1_f","_rev":"1-4017312ca4533ad832c19a06d1d79b5d","table":"template","name":"","html":"","js":""},{"_id":"1_h","_rev":"35-9af6661f08abed6035b5f06c4b353091","table":"template","name":"Login header","html":"","js":"$scope.title = \"Login\";\nvar logged_number = seprateNumber($localStorage.logged_user_phone);\n\n$scope.user = {\n\tphone: logged_number.number,\n\tcountry_code: logged_number.countryCode \n};\n\n$scope.login = function(user) {\n\tvar number = user.phone ;\n\tif (!number) {\n\t\tutilityService.showAlert(\"Please enter phone number\").then(function(res) {\n\t\t\t$timeout(function() { $(\"#phone\").focus(); }, 100);\n\t\t});\n\t\treturn false;\n\t}\n\t\n\tnumber = number.replace(/[- )(]/g,\"\").trim();\n\tvar reg = new RegExp(\"^(0|[1-9][0-9]*)$\");\n\t\n\tif(!reg.test(number)){\n\t\tutilityService.showAlert(\"Please enter valid phone number\").then(function(res) {\n\t\t\t$timeout(function() { $(\"#phone\").focus(); }, 100);\n\t\t});\n\t\treturn false;\n\t}\n\tnumber = user.country_code + number ;\n\tvar endpoint = $scope.api_url + \"/api/login\";\n\tvar parameters = {\n\t\tphone:\tnumber,\n\t\taccess_token:\t$localStorage.access_token,\n\t\tdevice_id : $localStorage.device_id ,\n\t\tpush_accepted: $localStorage.push_accepted\n\t};\n\n\tif(number == $localStorage.logged_user_phone){\n\t\tutilityService.setBusy(true);\n\t\t$http.post(endpoint, parameters).then(function(res) {\n\t\t\tvar res_data = res.data;\n\t\t\tconsole.log(\"login res_data>>>\", res_data);\n\t\t\tmyService.apiResult = res_data;\n\t\t\t$localStorage.logged_user_phone = number;\n\t\t\t$scope.goToVerifyPage(res_data);\n\t\t});\n\t}else{\n\t\tutilityService.setBusy(true);\n\t\t$http.post(endpoint, parameters).then(function(res) {\n\t\t\tvar res_data = res.data;\n\t\t\tconsole.log(\"login res_data>>>\", res_data);\n\t\t\talert(\"login_data >>>\"+ JSON.stringify(res_data));\n\t\t\tmyService.apiResult = res_data;\n\t\t\t$localStorage.logged_user_phone = number;\n\t\t\t$scope.goToVerifyPage(res_data);\n\t\t});\n\t}\n};\n\n$scope.checkNumber = function(){\n\tif ($scope.user !== undefined && $scope.user.phone !== \"\") {\n\t\tvar input = $scope.user.phone.replace(/[^0-9\\(\\)\\s\\-]/g, \"\");\n\t\tvar inputlen = input.length;\n\t\t// Get just the numbers in the input\n\t\tvar numbers = $scope.user.phone.replace(/\\D/g, '');\n\t\tvar numberslen = numbers.length;\n\t\t// Value to store the masked input\n\t\tvar newval = \"\";\n\n\t\t// Loop through the existing numbers and apply the mask\n\t\tfor (var i = 0; i < numberslen; i++) {\n\t\t\tif (i == 0) newval = \"(\" + numbers[i];\n\t\t\telse if (i == 3) newval += \") \" + numbers[i];\n\t\t\telse if (i == 6) newval += \"-\" + numbers[i];\n\t\t\telse newval += numbers[i];\n\t\t}\n\n\t\t// Re-add the non-digit characters to the end of the input that the user entered and that match the mask.\n\t\tif (inputlen >= 1 && numberslen == 0 && input[0] == \"(\") newval = \"(\";\n\t\telse if (inputlen >= 6 && numberslen == 3 && input[4] == \")\" && input[5] == \" \") newval += \") \";\n\t\telse if (inputlen >= 5 && numberslen == 3 && input[4] == \")\") newval += \")\";\n\t\telse if (inputlen >= 6 && numberslen == 3 && input[5] == \" \") newval += \" \";\n\t\telse if (inputlen >= 10 && numberslen == 6 && input[9] == \"-\") newval += \"-\";\n\n\t\t//$(this).val(newval.substring(0, 14));\n\t\t$scope.user.phone = newval.substring(0, 14);\n\t}\n};\n\nfunction seprateNumber(number){\n\tvar obj = {};\n\tif(number !== null && number !== undefined){\n\t\tif(number.length > 4){\n\t\t\tobj.countryCode = number.substr(0, number.length - 10);\n\t\t\tnumber \t\t\t= number.substr(number.length - 10, number.length);\n\t\t\tobj.number \t\t= \"(\" + number.substr(0, 3) + \") \" + number.substr(3, 3) + \"-\" + number.substr(6, 4);\n\t\t}\n\t}else{\n\t\tobj.countryCode = \"1\";\n\t\tobj.number = \"\";\n\t}\n\treturn obj ;\n}\n\n$scope.goToVerifyPage = function (data){\n\tvar config = {\n\t\t\"params\": {\n\t\t\t\"app\": {\n\t\t\t\t\"api\": {\n\t\t\t\t\t\"type\": \"update_get_pages\",\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"page_id\": data.page_id,\n\t\t\t\t\t\t\"phone\": $localStorage.logged_user_phone\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ,\n\t\t\t\"platform\":{},\n\t\t\t\"other_users\":{}\n\t\t}\n\t};\n\t$http\n\t.get(APIROOT + \"/master_api_handler\", config)\n\t.then(function(res){\n\t\tvar res_data = res.data.records;\n\t\t\tres_data.status = 1;\n\t\tmyService.apiResult = res_data.req_page;\n\t\t$scope.setPage();\n\t\t$ionicScrollDelegate.scrollBottom(true);\n\t\tutilityService.setBusy(false);\n\t},function(err_data){\n\t\tconsole.log(\"api err>>>\", err_data);\n\t\t$scope.add_error_fn(config.params, err_data);\n\t\tutilityService.setBusy(false);\n\t});\n};"},{"_id":"20_d","_rev":"9-b7f4361ba0bf5c58bc048180c5540cd1","table":"template","name":"manage_assistant_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"20_f","_rev":"15-4a1671c5ca841d85c98ebea1054d4590","table":"template","name":"manage_assistant_footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_ASSISTANTS',\n\t\t\t\t\t\t\t\ttable: 'add_assistants',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnumber:\t data.message,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"Add assistants\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"20_h","_rev":"22-c1cad3a1189371aaf42f078817a2b065","table":"template","name":"manage_assistant_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"addAssistantToGroup();\">\n\t\t<i class=\"icon ion-plus-round\"></i>\n\t</button>\n</ion-header-bar>","js":"$scope.page_name='Assistants';\n$scope.from_page_id = 1502774414284;\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": \"virtual_group\",\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n}\n$scope.getAssistants();"},{"_id":"21_d","_rev":"7-c5c2f0a1ba1dd75bde456adb8e29cc1a","table":"template","name":"edit_assistant_detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"list\">\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">First Name</span>\n\t\t<input type=\"text\" placeholder=\"john\" ng-model=\"assistant.firstname\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Last Name</span>\n\t\t<input type=\"text\" placeholder=\"suhr\" ng-model=\"assistant.lastname\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Email</span>\n\t\t<input type=\"text\" placeholder=\"john@suhr.com\" ng-model=\"assistant.email\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Phone</span>\n\t\t<input type=\"text\" placeholder=\"12145644732\" ng-model=\"assistant.phone\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Devcie Id</span>\n\t\t<input type=\"text\" placeholder=\"john@suhr.com\" ng-model=\"assistant.device_id\" />\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Push accepted</span>\n\t\t<input type=\"text\" placeholder=\"john@suhr.com\" ng-model=\"assistant.push_accepted\" />\n\t </label>\n\t</div>\n\t<div class=\"padding\">\n\t\t<button ng-click=\"updateAssistantDetail(assistant);\" type=\"button\" class=\"button button-block button-positive activated\">Update</button>\n\t</div>\n</ion-content>","js":""},{"_id":"21_f","_rev":"1-961c2d5602216b59ae962f91c1af9e06","table":"template","name":"manage_assistant_header","html":"","js":""},{"_id":"21_h","_rev":"5-99ae237093eb45c9b8850fc3ef58eb97","table":"template","name":"edit_assistant_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"$scope.from_page_id = 20; $scope.page_name='Edit assistant';console.log('$scope.assistant >>>>>>>>>>>>>>>>>>>', $scope.assistant);"},{"_id":"22_d","_rev":"10-a357b5c19144d74f11de08c92b84cf62","table":"template","name":"list_group_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\" ng-click=\"goToGroupDetail(item);\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteGroup(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"22_f","_rev":"2-5f4199ce42413508aa459d3515e4349b","table":"template","name":"list_group_footer","html":"","js":""},{"_id":"22_h","_rev":"14-155190534e2560d70a85e336fe099f77","table":"template","name":"list_group_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.from_page_id = 1502774414284; $scope.page_name='List groups';\nvar user_obj = myService.getUserInfo();\n$scope.getAllGroups = function(){\n\tvar req_params = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_users_groups\",\n\t\t\t \"type\": \"get_users_groups\",\n\t\t\t \"content\": {\n\t\t\t\tuserId: user_obj._id\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t};\n\t$scope.common_request_handler(req_params);\n};\n$scope.getAllGroups();"},{"_id":"23_d","_rev":"2-6284b9aae78df050e29a95be8438aebf","table":"template","name":"add_group_detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"list\">\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">Group Name</span>\n\t\t<input type=\"text\" placeholder=\"dri_main\" ng-model=\"group.name\">\n\t </label>\n\t <label class=\"item item-input item-stacked-label\">\n\t\t<span class=\"input-label\">User Id</span>\n\t\t<input type=\"text\" placeholder=\"Owner Id\" ng-model=\"group.owner_id\" readonly=\"readonly\" />\n\t </label>\n\t</div>\n\t<div class=\"padding\">\n\t\t<button ng-click=\"addGroupDetails(group);\" type=\"button\" class=\"button button-block button-positive activated\">Create</button>\n\t</div>\n</ion-content>","js":""},{"_id":"23_f","_rev":"1-5b7e4e1d23b3058c7b7e666e6071d059","table":"template","name":"add_group_footer","html":"","js":""},{"_id":"23_h","_rev":"10-c9c139da0a284d16ce787329bf5bbca1","table":"template","name":"add_group_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.from_page_id = 22;\n$scope.page_name='Add groups';\nvar user_info = myService.getUserInfo();\n$scope.group = {\n\t\"name\": \"\",\n\t\"owner_id\": user_info.user_id\n};\n"},{"_id":"24_d","_rev":"4-6225b4fc9c06bfdd113d3db54041409b","table":"template","name":"edit_group_header","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editGroup(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteGroup(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"24_f","_rev":"1-72fa6b6f84a7a0a285c8cb5e4857b430","table":"template","name":"edit_group_footer","html":"","js":""},{"_id":"24_h","_rev":"3-a6317a4def958ca0985344ed8acc54c8","table":"template","name":"edit_group_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.from_page_id = 23;\n$scope.page_name='Edit group';"},{"_id":"25_d","_rev":"2-83a68412aeda37c8724adf70b7f15af6","table":"template","name":"show_assistant_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"25_f","_rev":"1-9772a9ea17b02d1c40c690e2cb0c0984","table":"template","name":"show_assistant_footer","html":"","js":""},{"_id":"25_h","_rev":"3-04e98bb58038b3f7a9642d1dd6ab0581","table":"template","name":"show_assistant_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"goPage(28);\"> <i class=\"icon ion-plus-round\"></i> </button>\n</ion-header-bar>\n\n","js":"$scope.page_name='List Assistants';\n$scope.from_page_id = 22;\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": $scope.group_info.group_id,\n\t\t\t\t\"group_users\": true\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n}\n$scope.getAssistants();"},{"_id":"26_d","_rev":"4-1d4314990aa4c7b46a9384537434787f","table":"template","name":"stumped_category_detail","html":"<ion-content class=\"has-header\" ng-cloak>\n<ion-refresher on-refresh=\"pull_down_refresh();\" ng-cloak></ion-refresher>\n<ion-list style=\"\" ng-cloak>\n<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\nclass=\"item-remove-animate item-icon-right\" ng-cloak>\n<div class=\"item-data\" ng-click=\"subDetails(item)\" ng-cloak>\n<h2 ng-cloak>{{::item.name}}</h2>\n<i class=\"icon ion-chevron-right icon-accessory\" ng-cloak>\n<span class=\"badge badge-assertive icon-badge\" ng-cloak>{{::item.active}} / {{::item.unread}}</span>\n</i>\n</div>\n<item-swipe-pane class=\"left-pane\" ng-cloak>\n<button class=\"button button-calm\" ng-click=\"editDetails(item)\" ng-cloak>\n<div class=\"two-line-btn\" ng-cloak>\n<ion-icon class=\"ion-edit\" ng-cloak></ion-icon>\n<label ng-cloak>Edit</label>\n</div>\n</button>\n<button class=\"button button-assertive\"\nng-click=\"params = {\napp: {\napi: {\napi_type:\t'delete_detail',\ntable:\t\t'delete_detail',\ntable_data:\t{\nid:\titem.id\n}\n}\n},\nplatform: {},\nother_user: {}\n};\ncommon_request_handler(params);\" ng-cloak>\n<div class=\"two-line-btn\" ng-cloak>\n<ion-icon class=\"ion-trash-a\" ng-cloak></ion-icon>\n<label ng-cloak>Delete</label>\n</div>\n</button>\n<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\" ng-cloak>\n<div class=\"two-line-btn\" ng-cloak>\n<ion-icon class=\"ion-more\" ng-cloak></ion-icon>\n<label ng-cloak>More</label>\n</div>\n</button>\n</item-swipe-pane>\n</ion-item>\n</ion-list>\n</ion-content>","js":""},{"_id":"26_f","_rev":"1-345a4133fb31a39a0b1a8c3de16cc813","table":"template","name":"stumped_category_footer","html":"","js":""},{"_id":"26_h","_rev":"10-c69167fcb3ad11d483b961ed0aa16e62","table":"template","name":"stumped_category_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n\t$scope.sort = \"asc\";\n\t$scope.sortKey = \"name\";\n\t$scope.task_name = task_info.task_name;\n\t$scope.page_name = task_info.task_name;\n\t$scope.config.task_id = task_info.task_id;\n\tif($scope.config.page_id == $scope.config.from_page_id) $scope.config.from_page_id = task_info.from_page_id;\n\tthis.getDetail = function() {\n\t\tvar detailData = myService.getDetail();\n\t\tvar myDetail = [];\n\t\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\t\tvar item = detailData[ind];\n\t\t\tvar temp = {\n\t\t\t\t\"detail_id\":\titem._id,\n\t\t\t\t\"name\":\t\t\titem.user_incoming.message,\n\t\t\t\t\"page_id\":\t\titem.to_page_id,\n\t\t\t\t\"type\": \t\titem.type,\n\t\t\t\t\"display_if_empty\": item.display_if_empty,\n\t\t\t\t\"task_id\": \t\titem.task_id,\n\t\t\t\t\"task_name\": \titem.task_name,\n\t\t\t\t\"active\" : \t\titem.count.active,\n\t\t\t\t\"unread\" : \t\titem.count.unread\n\t\t\t};\n\t\t\tmyDetail.push(temp);\n\t\t}\n\t\t$scope.details = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n\t};\n\tthis.getDetail();\n\t$scope.toggleDate = function() {\n\t\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t\t$scope.details = utilityService.sortByKey($scope.details, $scope.sortKey, $scope.sort);\n\t};\n\t$scope.subDetails = function(item){\n\t\t$scope.config.from_page_id = $scope.config.page_id;\n\t\t$scope.config.page_name = item.name;\n\t\t$scope.config.task_name = item.name;\n\t\t$scope.goPage(item.page_id);\n\t};\n\t$scope.editDetails = function(item){\n\t\tconsole.log(\"items >>>\", item);\n\t\t$scope.config.from_page_id = item.page_id;\n\t\t$scope.config.task_name = item.name;\n\t\t\n\t\t$scope.short_info = {\n\t\t\t\"detail_id\"\t\t\t: \titem.detail_id,\n\t\t\t\"message\"\t\t\t:\titem.name,\n\t\t\t\"page_id\"\t\t\t:\titem.page_id,\n\t\t\t\"task_name\"\t\t\t: \titem.name,\n\t\t\t\"display_if_empty\"\t:\titem.display_if_empty,\n\t\t\t\"type\"\t\t\t\t: \titem.type\n\t\t};\n\t\tconsole.log(\"$scope.short_info\", $scope.short_info);\n\t\tvar page_id = 15;\n\t\t$scope.goPage(page_id);\n\t};"},{"_id":"27_d","_rev":"2-29f74ad528727e72ad4b822ebc2b4b89","table":"template","name":"manage_timeout_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"deleteAssistant(item);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"27_f","_rev":"1-558ddca7ef6cae60fa0b53472b83ca45","table":"template","name":"manage_timeout_footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_ASSISTANTS',\n\t\t\t\t\t\t\t\ttable: 'add_assistants',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnumber:\t data.message,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"Add assistants\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"27_h","_rev":"3-942dc11817748a90b79253aaa0b3f8f3","table":"template","name":"manage_timeout_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"$scope.page_name='Manage Timeout';\n$scope.from_page_id = 1502774414284;\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": \"virtual_group\",\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n}\n$scope.getAssistants();"},{"_id":"28_d","_rev":"1-66df24670c40acd46e773b16cc33209c","table":"template","name":"add_assistant_from_group_detail","html":"<ion-content class=\"content-stable\">\n\t<form name=\"updateTaskForm\" class=\"updateTaskForm\" ng-submit=\"\n\tparams = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t\tapi_mode: 'POST',\n\t\t\t\tapi_type: 'ADD_ASSISTANT_INTO_GROUP',\n\t\t\t\ttable: 'add_assistant_into_group',\n\t\t\t\ttable_data: selected_assistant\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_user: {}\n\t};\n\tcommon_request_handler(params)\" novalidate>\n\t\t<div class=\"list\">\n\t\t\t<label class=\"item item-input item-select\">\n\t\t\t\t<div class=\"input-label\">User</div>\n\t\t\t\t<select ng-model=\"selected_assistant.user_id\">\n\t\t\t\t\t<option ng-repeat=\"assistant in assistant_list track by $index\" value=\"{{assistant.user_id}}\">{{ assistant.first_name ? assistant.first_name + ' (' + assistant.phone + ')' : assistant.phone }}</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</div>\n\t\t<div class=\"padding\">\n\t\t\t<button type=\"submit\" class=\"button button-block button-positive activated\">Add Assistant</button>\n\t\t</div>\n\t</form>\n</ion-content>","js":""},{"_id":"28_f","_rev":"1-99691e3f699ebe36ae78cc9a367ff3aa","table":"template","name":"add_assistant_from_group_detail_page_footer","html":"","js":""},{"_id":"28_h","_rev":"1-8143b941ec6eaf2cdc1f063f4aaddb93","table":"template","name":"add_assistant_from_group","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>\n\n","js":"$scope.page_name='Add Assistants';\n$scope.from_page_id = 22;\n$scope.selected_assistant = {\n\tuser_id : \"\",\n\tgroup_id: $scope.group_info.group_id\n};\n$scope.getAssistants = function(){\n\tvar req_data = {\n\t\tapp: {\n\t\t\tapi: {\n\t\t\t \"api_mode\": \"GET\",\n\t\t\t \"api_type\": \"get_assistants\",\n\t\t\t \"type\": \"get_all_assistants\",\n\t\t\t \"content\": {\n\t\t\t\t\"filters\": \"\",\n\t\t\t\t\"group_users\": \"\"\n\t\t\t }\n\t\t\t}\n\t\t},\n\t\tplatform: {},\n\t\tother_users: {}\n\t}\n\t$scope.common_request_handler(req_data);\n}\n$scope.getAssistants();\n"},{"_id":"29_d","_rev":"22-345d627ce1a9c7d892b132241cccbe5a","table":"template","name":"sechduled_timeout_template_detail","html":"<ion-content class=\"content-stable\">\n\t<div class=\"list\">\n\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t<span class=\"input-label\">Username</span>\n\t\t\t<textarea placeholder=\"sechduleData.message\" ng-model=\"sechduleData.message\"></textarea>\n\t\t</label>\n\t\t<label class=\"item item-input item-stacked-label\">\n\t\t\t<span class=\"input-lable\">Time</span>\n\t\t\t<div class=\"date-selector\" ion-datetime-picker seconds am-pm ng-model=\"sechduleData.sechduleDate\">\n\t\t\t\t<div class=\"sechdule-input\"><input id=\"datetime\" type=\"datetime-local\" ng-model=\"sechduleData.sechduleDate\" readonly/></div>\n\t\t\t\t<div class=\"sechdule-calander\"><i class=\"icon ion-calendar\"></i></div>\n\t\t\t</div>\n\t\t</label>\n\t\t<label class=\"item item-select item-light item-stacked-label\">\n\t\t\t\t<div class = \"input-label\">\n\t\t\t\t\tTimezone\n\t\t\t\t</div>\n\t\t\t\t<timezone-selector ng-model=\"sechduleData.timezone\"></timezone-selector>\n\t\t\t</label>\n\t\t<label class=\"item item-input\">\n\t\t\t<button type=\"button\" ng-click=\"updateSechdule(sechduleData);\" class=\"button button-block button-positive activated\">Update</button> \n\t\t</label>\n\t</div>\n</ion-content>","js":""},{"_id":"29_f","_rev":"1-b630e105fa7f048b0eeb5aab0278e517","table":"template","name":"sechduled_timeout_template_footer","html":"","js":""},{"_id":"29_h","_rev":"12-27787a7974f14d70c58f456a5ec2233e","table":"template","name":"sechduled_timeout_template_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"deleteMessage();\" ng-if=\"showDeleteButton();\">\n\t <i class=\"icon ion-android-delete\"></i>\n\t</button>\n</ion-header-bar>","js":"$scope.page_name = 'Scheduled time';\n$scope.updateSechdule = function(sechduleData){\n\tif(sechduleData.task_id){\n\t\tsechduleData.type = \"new_message\";\n\t}else{\n\t\tsechduleData.type = \"old_message\";\n\t}\n\tvar params = {\n\t\t\tapp: {\n\t\t\t\tapi: {\n\t\t\t\t\tapi_type: 'UPDATE_SCHEDULE',\n\t\t\t\t\ttable: 'update_message_schedule',\n\t\t\t\t\ttable_data: sechduleData\n\t\t\t\t}\n\t\t\t},\n\t\t\tplatform: {},\n\t\t\tother_user: {}\n\t\t};\n\t$scope.common_request_handler(params);\n};\n\n$scope.showDeleteButton = function(){\n\tvar sechduleData = $scope.sechduleData;\n\tif(sechduleData.detail_id){\n\t\treturn true;\n\t}else{\n\t\treturn false\n\t}\n};\n\n$scope.deleteMessage = function(){\n\tvar selected_message = $scope.sechduleData;\n\tconsole.log(\"selected_message >>>\", selected_message);\n\tvar params = {\n\t\t\tapp: {\n\t\t\t\tapi: {\n\t\t\t\t\tapi_type: 'UPDATE_SCHEDULE',\n\t\t\t\t\ttable: 'delete_schedule_message',\n\t\t\t\t\ttable_data: selected_message\n\t\t\t\t}\n\t\t\t},\n\t\t\tplatform: {},\n\t\t\tother_user: {}\n\t\t};\n\t$scope.common_request_handler(params);\n};\n\n"},{"_id":"2_d","_rev":"13-93e72a33da3b87f691b7454f020c2466","table":"template","name":"Detail","html":"<ion-content class=\"has-header\">\n<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n<ion-list style=\"\">\n<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\nclass=\"item-remove-animate item-icon-right\">\n<div class=\"item-data\" ng-click=\"subDetails(item)\">\n<h2>{{item.name}}</h2>\n<i class=\"icon ion-chevron-right icon-accessory\">\n<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n</i>\n</div>\n<item-swipe-pane class=\"left-pane\">\n<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n<div class=\"two-line-btn\">\n<ion-icon class=\"ion-edit\"></ion-icon>\n<label>Edit</label>\n</div>\n</button>\n<button class=\"button button-assertive\"\nng-click=\"params = {\napp: {\napi: {\napi_type:\t'delete_detail',\ntable:\t\t'delete_detail',\ntable_data:\t{\nid:\titem.id\n}\n}\n},\nplatform: {},\nother_user: {}\n};\ncommon_request_handler(params);\">\n<div class=\"two-line-btn\">\n<ion-icon class=\"ion-trash-a\"></ion-icon>\n<label>Delete</label>\n</div>\n</button>\n<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n<div class=\"two-line-btn\">\n<ion-icon class=\"ion-more\"></ion-icon>\n<label>More</label>\n</div>\n</button>\n</item-swipe-pane>\n</ion-item>\n</ion-list>\n\n</ion-content>","js":""},{"_id":"2_f","_rev":"13-6adce0aa42b619f1be8a371c8c87196f","table":"template","name":"category_footer","html":"<ion-footer-bar ng-if=\"isSuperAdmin()\" keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"New Category\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"2_h","_rev":"7-cf15ff297a96f4fcf648ba26b1d84576","table":"template","name":"Category","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"logout()\">\n\t <i class=\"icon ion-log-out\"></i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort = {\n\torder:\t\"asc\",\n\tkey:\t\"name\"\n};"},{"_id":"31_d","_rev":"4-1d22b88eab9ea7bc31f9ebd3416def0c","table":"template","name":"Message list","html":"<ion-content class=\"content-stable\"\n\t\t on-swipe-left=\"hideTime = false\"\n\t\t on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\"\n\t ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\">\n\t\t<div class=\"message\">\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t<span>{{ message.message }} <a href=\"javascript:void(0);\"><i class=\"icon ion-edit\"></i></a></span>\n\t\t</div>\n\t</div>\n</ion-content>","js":""},{"_id":"31_f","_rev":"9-20bae751209cc175835c64b8bd226067","table":"template","name":"","html":"<ion-content class=\"content-stable\"\n\t\t on-swipe-left=\"hideTime = false\"\n\t\t on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\"\n\t ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\">\n\t\t<div class=\"message\">\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t<span>{{ message.message }} &nbsp;<a href=\"javascript:void(0);\" ng-click=\"\"><i class=\"icon ion-edit\"></i></a></span>\n\t\t</div>\n\t</div>\n</ion-content>","js":""},{"_id":"31_h","_rev":"4-96400fc3210b7a2dbb6a94836e5ecdf5","table":"template","name":"","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"sortDetail()\">\n\t\t <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n\nvar task_info = myService.getTaskInfo();\n$scope.config.from_page_id = task_info.from_page_id;\n$scope.config.task_id = task_info.task_id;\n$scope.config.task_name = task_info.task_name;\n$scope.title = $scope.config.task_name;\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_id == $localStorage.user_id){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":\titem._id,\n\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\"message\":\t\tmessage,\n\t\t\t\"date_created\":\titem.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n\n$scope.add_msg_from_sub_category = function() {\n\tvar endpoint = \"http://platform.mybluemix.net/api_handler\" ,\n\t\tpostdata = {\n\t\t\t\"type\": \"add_detail\",\n\t\t\t\"body\": {\n\t\t\t\t\"user_id\":\t\t\t$localStorage.user_id,\n\t\t\t\t\"access_token\": \t$localStorage.access_token,\n\t\t\t\t\"note\": \t\t\t$scope.data.message,\n\t\t\t\t\"task_id\":\t\t \ttask_info.task_id,\n\t\t\t\t\"page_id\":\t\t\t$scope.config.page_id,\n\t\t\t\t\"from_page_id\":\t\t$scope.config.from_page_id\n\t\t\t}\n\t\t};\n\tutilityService.setBusy(true, \"Sending...\");\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {headers:headers};\n\t$http.post(endpoint, postdata, config).then(function(res) {\n\t\tvar res_data = res.data;\n\t\tconsole.log(\"res_data>>>\",res_data);\n\t\t\n\t\tvar msg_data = {\n\t\t\t\"detail_id\":\tres_data._id,\n\t\t\t\"type\":\t\t\t\"mine\",\n\t\t\t\"message\":\t\tres_data.user_incoming.message,\n\t\t\t\"date_created\":\tres_data.date_created\n\t\t};\n\t\t$scope.messages.push(msg_data);\n\t\tutilityService.setBusy(false);\n\t},function(err) {\n\t\tconsole.log(\"err>>>\",err);\n\t\tutilityService.setBusy(false);\n\t});\n\tdelete $scope.data.message;\n};"},{"_id":"3_d","_rev":"5-8fea0d71cc2e19751b3c77b61408de21","table":"template","name":"Book list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\" ng-repeat=\"item in details\" type=\"item-text-wrap\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"3_f","_rev":"7-b7c8d38227af9e1a5e9cd16c8909cc56","table":"template","name":"Book list","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable:\t\t'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id,\n\t\t\t\t\t\t\t\t\tchild_task_id: config.child_task_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}}\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"ng-disabled=\"!data.message\">Submit</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"3_h","_rev":"6-fc69d3a819cc0115f842428bb7f8690c","table":"template","name":"Books","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"sortDetail()\">\n\t\t <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort = {\n\torder:\t\"asc\",\n\tkey:\t\"name\"\n};var task_info = myService.getTaskInfo(); if($scope.config.page_id == $scope.config.from_page_id) $scope.config.from_page_id = task_info.from_page_id;"},{"_id":"41_d","_rev":"2-c71226a8eb46c9816447d8ec8cea5002","table":"template","name":"Message list","html":"<ion-content class=\"content-stable\"\r\n\t\t on-swipe-left=\"hideTime = false\"\r\n\t\t on-swipe-right=\"hideTime = true\">\r\n\t<div ng-repeat=\"message in messages\"\r\n\t   ng-class=\"{other: message.type != myMsgTypeStr}\"\r\n\t   class=\"messages\">\r\n\t\t<div class=\"message\" >\r\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\r\n\t\t\t<span >{{ message.message }}</span>\r\n\t\t</div>\r\n\t\t<div class=\"datetime\">{{message.date_created}}</div>\r\n\t</div>\r\n</ion-content>","js":""},{"_id":"41_f","_rev":"6-4e5bd38644c58f947c35beffeeed8f32","table":"template","name":"Travel Footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"41_h","_rev":"4-3f3b87adcbf993aef20e71358760c1c7","table":"template","name":"","html":"<ion-header-bar class=\"bar-stable\">\r\n\t<button class=\"button button-icon\" ng-click=\"goPage(4)\">\r\n\t   <i class=\"icon ion-ios-arrow-back\">Back</i>\r\n\t</button>\r\n\t<h1 class=\"title\">{{title}}</h1>\r\n\t\r\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\r\n\t  <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\r\n\t</button>\r\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n$scope.data = {};\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_incoming.message != \"undefined\"){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.watson_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":\titem.detail_id,\n\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\"message\":\t\tmessage,\n\t\t\t\"date_created\":\titem.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n \n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n \n$scope.sendMsg\t=\tfunction(to,body){\n\tvar timestamp = new Date().getTime();\n\tconsole.log(\"to,body\", to,body, timestamp);\n};\n\n$scope.showSendMessage = function() {\n\t$scope.sendMsg($scope.parent_id,$scope.data.message); \n\n\tvar d = new Date();\n\tdt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\n\t$scope.messages.push({\n\t user_id:\t$scope.user_id,\n\t type:\t\t$scope.myMsgTypeStr,\n\t message:\t$scope.data.message,\n\t date_created: dt\n\t});\n\n\tdelete $scope.data.message;\n\t$ionicScrollDelegate.scrollBottom(true);\n};\n$scope.add_travel_detail_from_message = function(){\n\t var endpoint = \"http://platform.mybluemix.net/api_handler\";\n\t var postdata = {\n\t\t\"type\": \"add_detail\",\n\t\t\"body\": {\n\t\t\t\"user_id\":\t\t\t$localStorage.user_id,\n\t\t\t\"access_token\": \t$localStorage.access_token,\n\t\t\t\"task_id\": task_info.task_id,\n\t\t\t\"note\": $scope.data.message,\n\t\t\t\"page_id\": parseInt($scope.config.page_id),\n\t\t\t\"from_page_id\": parseInt($scope.config.from_page_id) \n\t\t}\n\t}; \n\t var headers = {\"Content-Type\": \"application/json\"};\n\t var config = {\"headers\":headers}; \n\t $http.post(endpoint, postdata, config).then(function(res) { \n\t var res_data = res.data; \n\t console.log(\"res_data>>>\",res_data);\n\t },function(err) {\n\t console.log(\"err>>>\",err);\n\t }); \n\t delete $scope.data.message; \n\t};"},{"_id":"4_d","_rev":"4-1816dd6530f9641f0465182ee21eac9f","table":"template","name":"Travel list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\" ng-repeat=\"item in details\" type=\"item-text-wrap\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\" ng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"4_f","_rev":"7-798ae7b6c3163b6bf4ae7f71ff8d1177","table":"template","name":"","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}}\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"4_h","_rev":"3-1799d49f96a99168b945a72dfe04fb76","table":"template","name":"Travel","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(2)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"editUser()\">\n\t\t <i class=\"icon ion-person\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort.order = \"asc\";\n\t$scope.sort.key = \"name\";\nvar task_info = myService.getTaskInfo();\n//$scope.config.page_id;\n$scope.config.from_page_id = task_info.from_page_id;\n$scope.config.task_id = task_info.task_id;\n$scope.config.task_name = task_info.task_name;\nconsole.log(\"$scope.config>>>\", $scope.config);\n$scope.title = $scope.config.task_name;\n$scope.isAdmin = true;\nfunction getDetail() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar temp = {\n\t\t\t\"id\":\t\titem._id,\n\t\t\t\"name\":\t\titem.user_incoming.message,\n\t\t\t\"page_id\":\titem.to_page_id,\n\t\t\t\"active\":\titem.count.active,\n\t\t\t\"unread\":\titem.count.unread\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.details = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n}\ngetDetail();\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.details = utilityService.sortByKey($scope.details, $scope.sortKey, $scope.sort);\n};\n$scope.editUser = function(){\n\t$scope.config.from_page_id = 2;\n\t$scope.config.task_name = \"User edit\";\n\tvar page_id = 14;\n\t$scope.goPage(page_id);\n};\n$scope.subDetails = function(item){\n\t$scope.config.from_page_id = $scope.config.page_id;\n\t$scope.config.task_name = item.name;\n\t$scope.goPage(item.page_id);\n};\n$scope.add_detail_sub_from_category = function() {\n\t//console.log($scope.data.message);\n\tvar endpoint = \"https://platform.mybluemix.net/api_handler\";\n\tvar postdata = {\n\t\ttype: \"add_detail\",\n\t\tbody: {\n\t\t\tuser_id:\t\t$localStorage.user_id,\n\t\t\taccess_token: \t$localStorage.access_token,\n\t\t\tnote: \t\t\t$scope.data.message,\n\t\t\ttask_id:\t\ttask_info.child_task_id,\n\t\t\tpage_id:\t\t$scope.config.page_id,\n\t\t\tfrom_page_id:\t$scope.config.from_page_id\n\t\t}\n\t};\n\t//console.log(postdata);return true;\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {headers:headers};\n\t$http.post(endpoint, postdata, config).then(function(res) {\n\t\tvar res_data = res.data;\n\t\tconsole.log(\"res_data>>>\",res_data);\n\t\t\n\t},function(err) {\n\t\tconsole.log(\"err>>>\",err);\n\t});\n\tdelete $scope.data.message;\n};\n$scope.editDetails = function(item){\n\t$scope.config.from_page_id = $scope.config.page_id;\n\t$scope.config.task_name = item.name;\n\t$scope.short_info = {\n\t\t\"detail_id\": \titem.id,\n\t\t\"message\":\t \titem.name,\n\t\t\"task_id\":\t\t$scope.config.task_id,\n\t\t\"task_name\": \t$scope.config.task_name,\n\t\t\"task_status\":\t\"true\"\n\t};\n\tvar page_id = 15;\n\t$scope.goPage(page_id);\n};\n$scope.deleteDetails = function(item) {\n\tvar endpoint = \"https://platform.mybluemix.net/api_handler\";\n\tvar parameters = {\n\t\ttype : \"delete_detail\",\n\t\tbody: {\n\t\t\t_id:\t\t item.id,\n\t\t\taccess_token: $localStorage.access_token\n\t\t}\n\t};\n\t//console.log(parameters);return true;\n\tutilityService.setBusy(true, \"Processing...\");\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {params:parameters, headers:headers};\n\t$http.get(endpoint, config).then(function(res){\n\t\tif(res.data.status == 200){\n\t\t\t$scope.details.splice($scope.details.indexOf(item), 1);\n\t\t}\n\t\telse {\n\t\t\t\n\t\t}\n\t\tutilityService.setBusy(false);\n\t}, function(err_task){\n\t\tconsole.log('err_task', err_task);\n\t\tutilityService.setBusy(false);\n\t});\n};\n$scope.moreDetails = function(item) {\n\t$scope.config.from_page_id = $scope.config.page_id;\n\t$scope.config.task_name = item.name;\n\tvar page_id = 16;\n\t$scope.goPage(page_id);\n};"},{"_id":"4b8e310c44ca4e6e04aafd81594bfc5c","_rev":"2-3f308dd5d1df094915eb06d4c4cfeeda","table":"template","name":"message_detail","html":"<ion-content class=\"content-stable\"\n\t\t on-swipe-left=\"hideTime = false\"\n\t\t on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\" ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\" ng-if=\"message.message\">\n\t\t<div class=\"message\">\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t<span >{{ message.message }}</span>\n\t\t</div>\n\t</div>\n</ion-content>","js":""},{"_id":"4b8e310c44ca4e6e04aafd8159643699","_rev":"2-ec9b501d6dd619978e1af6e5eccc56de","table":"template","name":"category_footer","html":"<ion-footer-bar keyboard-attach class=\\\"bar-stable item-input-inset\\\">\\r\\n\\t<form name=\\\"sendMessageForm\\\" class=\\\"sendmessage\\\" ng-submit=\\\"add_detail_from_category()\\\" novalidate>\\r\\n\\t\\t<label class=\\\"item-input-wrapper\\\">\\r\\n\\t\\t\\t<input type=\\\"text\\\" placeholder=\\\"Type your message\\\" ng-model=\\\"data.message\\\" ng-change=\\\"updateTyping()\\\" on-return=\\\"closeKeyboard()\\\" on-focus=\\\"inputUp()\\\" on-blur=\\\"inputDown()\\\" />\\r\\n\\t\\t</label>\\r\\n\\t\\t<div class=\\\"footer-btn-wrap\\\">\\r\\n\\t\\t\\t<button type=\\\"submit\\\" class=\\\"button button-icon icon ion-ios-paperplane footer-btn\\\"\\r\\n\\t\\t\\t\\tng-disabled=\\\"!data.message\\\">\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t</form>\\r\\n</ion-footer-bar>","js":""},{"_id":"51_d","_rev":"7-303576cd7d4238a942023d8e2b9f4345","table":"template","name":"Message list","html":"<ion-content class=\"content-stable\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\">\n\t<div ng-repeat=\"message in messages\" ng-class=\"{'other': message.type != myMsgTypeStr}\" class=\"messages\">\n\t\t<div class=\"message\" >\n\t\t\t<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\t\t\t\t<span >{{ message.message }}</span>\n\t\t</div>\n\t\t<div class=\"datetime\" ng-if=\"message.type == myMsgTypeStr\">{{message.date_created}}</div></div>\n</ion-content>","js":""},{"_id":"51_f","_rev":"6-b63481dc72c7a16e67f579f445bbc676","table":"template","name":"","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"showSendMessage()\" novalidate>\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button button-icon icon ion-ios-paperplane footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"51_h","_rev":"11-6cebcc8cd8720d8d5cf787c76cc9ea57","table":"template","name":"","html":"<ion-header-bar class=\"bar-stable\">\n\r<button class=\"button button-icon\" ng-click=\"goPage(5)\">\n\r<i class=\"icon ion-ios-arrow-back\">Back</i>\n\r</button>\n\r<h1 class=\"title\">{{title}}</h1>\n\r<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\r<i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\r</button>\n\r</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n$scope.data = {};\n\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_incoming.message != \"undefined\"){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.watson_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":\titem.detail_id,\n\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\"message\":\t\tmessage,\n\t\t\t\"date_created\":\titem.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n \n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n \n$scope.sendMsg\t=\tfunction(to,body){\n\tvar timestamp = new Date().getTime();\n\tconsole.log(\"to,body\", to,body, timestamp);\n};\n\n$scope.showSendMessage = function() {\n\t$scope.sendMsg($scope.parent_id,$scope.data.message); \n\n\tvar d = new Date();\n\tdt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\n\t$scope.messages.push({\n\t user_id:\t$scope.user_id,\n\t type:\t\t\"mine\",\n\t message:\t$scope.data.message,\n\t date_created: dt\n\t});\n\tutilityService.setBusy(true, 'Processing....');\n\tvar url = \"http://play-timeout.mybluemix.net/chatbot?text=\" + $scope.data.message;\n\t$http.get(url).then(function(result){\n\t\tvar t = new Date();\n\t\tdtt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\t\t$scope.messages.push({\n\t\t user_id:\t$scope.user_id,\n\t\t type:\t\t\"other\",\n\t\t message:\tresult.data.data,\n\t\t date_created: dtt\n\t\t});\n\t\tutilityService.setBusy(false);\n\t}, function(err){\n\t\tconsole.log(\"error occured\", err);\n\t\tutilityService.setBusy(false);\n\t});\n\tdelete $scope.data.message;\n\t$ionicScrollDelegate.scrollBottom(true);\n};"},{"_id":"5_d","_rev":"13-3273cfc672517b4af97c116e3d8aa585","table":"template","name":"Text list","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\"\n\t\t\tng-repeat=\"item in sms_details\" type=\"item-text-wrap\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t</div>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"5_f","_rev":"8-b0be7eea5eb12d6b6807bd16b8e04728","table":"template","name":"User list","html":"","js":""},{"_id":"5_h","_rev":"40-845e28a42f76c1a609b73c20d7a5a035","table":"template","name":"Chats","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\nif($scope.config.page_id == $scope.config.from_page_id) {\n\t$scope.config.from_page_id = task_info.from_page_id ;\n}\n$scope.sort = {order:\t\"asc\",key:\t\"name\"};\n\n$scope.populateChatDetail = function(){\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar temp = {\n\t\t\t\"id\":\t\titem._id,\n\t\t\t\"name\":\t\titem.user_incoming.message,\n\t\t\t\"from_user\": item.from_user_id,\n\t\t\t\"page_id\":\titem.to_page_id,\n\t\t\t\"active\":\titem.count.active,\n\t\t\t\"unread\":\titem.count.unread\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.sms_details = myDetail;\n\t$scope.sort.order = ($scope.sort.order == \"asc\")?\"desc\":\"asc\";\n\t$scope.sortDetail();\n};\n$scope.populateChatDetail();\n"},{"_id":"5fb3dc9a8011fa0f5c2cecebcab96a2e","_rev":"2-b5d531e02fe8704c17ca394dc79f62bb","table":"template","name":"edit_detail_short_form_header","html":"<ion-header-bar class=\"bar-stable\"><button class=\"button button-icon\" ng-click=\"goPage(2)\"><i class=\"icon ion-ios-arrow-back\">Back</i></button><h1 class=\"title\">{{title}}</h1></ion-header-bar>","js":"$scope.title='Edit screen'"},{"_id":"61_d","_rev":"2-22139aadbb6f8d5c8cb714da3e24fe7b","table":"template","name":"SMS list","html":"<ion-content class=\"content-stable\"\n\r on-swipe-left=\"hideTime = false\"\n\r on-swipe-right=\"hideTime = true\">\n\r<div ng-repeat=\"message in messages\"\n\r ng-class=\"{other: message.type != myMsgTypeStr}\" class=\"messages\">\n\r<div class=\"message\" >\n\r<p class=\"chat-typing\" ng-show=\"message.message==typingStateStr\">{{message.username}}</p>\n\r<span >{{ message.message }}</span>\n\r</div>\n\r<div class=\"datetime\">{{message.date_created}}</div>\n\r</div>\n\r</ion-content>","js":""},{"_id":"61_f","_rev":"3-602a1f7c5ba4a5c60f2d6cab4d295b49","table":"template","name":"text message","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"61_h","_rev":"6-83006de18d19a93533c6440cfb192522","table":"template","name":"SMS list","html":"<ion-header-bar class=\"bar-stable\">\r\n\t<button class=\"button button-icon\" ng-click=\"goPage(6)\">\r\n\t   <i class=\"icon ion-ios-arrow-back\">Back</i>\r\n\t</button>\r\n\t<h1 class=\"title\">{{title}}</h1>\r\n\t\r\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\r\n\t  <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\r\n\t</button>\r\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_incoming.message != \"undefined\"){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}else {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.watson_incoming.message;\n\t\t}\n\t\tvar temp = {\n\t\t\t\"detail_id\":item._id,\n\t\t\t\"type\":msg_type,\n\t\t\t\"message\":message,\n\t\t\t\"date_created\":item.date_created\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};\n\n$scope.sendMsg=function(to,body){\n\tvar timestamp = new Date().getTime();\n};\n\n$scope.showSendMessage = function() {\n\t$scope.sendMsg($scope.parent_id,$scope.data.message); \n\tvar d = new Date();\n\tdt = d.toLocaleDateString()+\" \"+d.toLocaleTimeString().replace(/:\\d+ /, \" \");\n\t$scope.messages.push({\n\t\tuser_id:$scope.user_id,\n\t\ttype:$scope.myMsgTypeStr,\n\t\tmessage:$scope.data.message,\n\t\tdate_created: dt\n\t});\n\tdelete $scope.data.message;\n\t$ionicScrollDelegate.scrollBottom(true);\n};\n\n$scope.add_sms_detail_from_message = function(){\n\tvar endpoint = 'http://platform.mybluemix.net/api_handler';\n\tvar postdata = {\n\t\t\"type\": \"add_detail\",\n\t\t\"body\": {\n\t\t\t\"user_id\" : $localStorage.user_id,\n\t\t\t\"access_token\": $localStorage.access_token, \n\t\t\t\"task_id\": task_info.task_id,\n\t\t\t\"note\": $scope.data.message,\n\t\t\t\"page_id\": $scope.config.page_id,\n\t\t\t\"from_page_id\": $scope.config.from_page_id\n\t\t}\n\t};\n\tvar headers = {\"Content-Type\": \"application/json\"};\n\tvar config = {\"headers\":headers}; \n\t$http.post(endpoint, postdata, config).then(function(res) { \n\t\tvar res_data = res.data; \n\t\tconsole.log(\"res_data>>>\",res_data);\n\t},function(err) {\n\t console.log(\"err>>>\",err);\n\t}); \n\tdelete $scope.data.message; \n};"},{"_id":"61ab9cc3d11cc60f19ac99615f90b2fd","_rev":"2-613032d9779a368ac427926bf5f3c528","table":"template","name":"edit_user_header","html":"<ion-header-bar class=\"bar-stable\"><button class=\"button button-icon\" ng-click=\"goPage(2)\"><i class=\"icon ion-ios-arrow-back\">Back</i></button><h1 class=\"title\">{{title}}</h1></ion-header-bar>","js":"$scope.title = 'User edit screen';"},{"_id":"6_d","_rev":"6-502c83d4b73527c17b7108d139095033","table":"template","name":"User list","html":"<ion-content class=\"has-header\">\n\t<ion-list style=\"\">\n\t <ion-item class=\"item-remove-animate item-icon-right\"\n\t\t\tng-repeat=\"item in chat_details\" type=\"item-text-wrap\" ng-if=\"check_if_valid_user(item);\">\n\t\t<div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t<h2 style=\"display:inline-block;\">{{item.name}}</h2>\n\t\t\t<i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapi_type:\t'DELETE_DETAIL',\n\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</item-swipe-pane>\n\t </ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"6_f","_rev":"6-2aa8eca26b0b49a9d62886766082fe9d","table":"template","name":"","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"params = {\n\t\t\t\t\t\tapi_type:\t'ADD_DETAIL',\n\t\t\t\t\t\ttable:\t\t'add_detail',\n\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\tfrom_page_id: config.from_page_id,\n\t\t\t\t\t\t\tchild_task_id: config.child_task_id\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}}\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"6_h","_rev":"33-d96176113176c1b2d980f64571765d78","table":"template","name":"Chat screen","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<div class=\"buttons\">\n\t\t<button class=\"button button-icon\" ng-click=\"goSearch()\">\n\t\t <i class=\"icon ion-search\"></i>\n\t\t</button>\n\t\t<button class=\"button button-icon\" ng-click=\"sortDetail()\">\n\t\t <i ng:class=\"(sort.order=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t\t</button>\n\t</div>\n</ion-header-bar>","js":"$scope.sort = {\n\torder:\t\"asc\",\n\tkey:\t\"name\"\n};\nvar logged_user = myService.getUserInfo();\n$scope.populateChatDetail = function(){\n\tvar detailData = myService.getDetail();\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar temp = {\n\t\t\t\"id\":\t\titem._id,\n\t\t\t\"name\":\t\titem.user_incoming.message,\n\t\t\t\"from_user\": item.from_user_id,\n\t\t\t\"page_id\":\titem.to_page_id,\n\t\t\t\"active\":\titem.count.active,\n\t\t\t\"unread\":\titem.count.unread\n\t\t};\n\t\tmyDetail.push(temp);\n\t}\n\t$scope.chat_details = myDetail;\n\t$scope.sort.order = ($scope.sort.order == \"asc\")?\"desc\":\"asc\";\n\t$scope.sortDetail();\n};\n$scope.populateChatDetail();\n\n$scope.check_if_valid_user = function(item){\n\tif(item.from_user){\n\t\tif(item.from_user == logged_user.user_id){\n\t\t\treturn true ;\n\t\t}else{\n\t\t\treturn false ;\n\t\t}\n\t}\n};"},{"_id":"7d00388f8bf27f8915de40d92d2c6668","_rev":"1-8d5b64ff34f25db5ff6167a79986daec","table":"template","name":"edit_footer","html":"","js":""},{"_id":"87f2a4c1dd7e6705da18c2b0da4c047b","_rev":"2-75c059e165617faf159c1ba1284684d3","table":"template","name":"edit_detail","html":"<ion-content class=\"content-stable\"><form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"updateForm()\" novalidate><div class=\"input-fields\"><ion-list style=\"\"><input type=\"text\" name=\"first\" value=\"\" /></ion-list> \t\t\t<ion-list style=\"\"> \t\t\t<input type=\"text\" name=\"first\" value=\"\" /></ion-list> \t\t</div> \t\t<div class=\"submit-button\"> \t\t\t<input type=\"submit\" value=\"Update\" name=\"Update\"/></div></form></ion-content>","js":""},{"_id":"8f035001d4d22a7c6170a57020635378","_rev":"6-2c7043bdce4380aad84b6613ed4d2e2e","table":"template","name":"message_footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"8f035001d4d22a7c6170a57020787ca7","_rev":"11-51c36c1a82d9d04e33eec6a361de9e14","table":"template","name":"sub_category_footer","html":"<ion-footer-bar ng-if=\"isSuperAdmin()\" keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\"\n\t\tng-submit=\"\tparams = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type: 'ADD_DETAIL',\n\t\t\t\t\t\t\t\ttable: 'add_detail',\n\t\t\t\t\t\t\t\ttable_data: {\n\t\t\t\t\t\t\t\t\tnote:\t\tdata.message,\n\t\t\t\t\t\t\t\t\ttask_id:\tconfig.task_id,\n\t\t\t\t\t\t\t\t\ttask_name:\tconfig.task_name,\n\t\t\t\t\t\t\t\t\tpage_id:\tconfig.page_id,\n\t\t\t\t\t\t\t\t\tfrom_page_id: config.from_page_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params)\">\n\t\t<label class=\"item-input-wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" ng-model=\"data.message\" ng-change=\"updateTyping()\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap\">\n\t\t\t<button type=\"submit\" class=\"button footer-btn\"\n\t\t\t\tng-disabled=\"!data.message\">Submit\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>\n\n\n","js":""},{"_id":"99_d","_rev":"35-1035870daf9f5b274773391a55a40aa0","table":"template","name":"user Chabot Details","html":"<ion-content class=\"content-stable\" on-swipe-left=\"hideTime = false\" on-swipe-right=\"hideTime = true\" ng-clock>\n\t<ion-refresher on-refresh=\"pull_down_refresh();\" ng-cloak></ion-refresher>\n\t<company-message-list message-data=\"messages\" ng-cloak></company-message-list>\n\t<div class=\"typing-class\" ng-show=\"isTyping\" ng-cloak>\n\t\t<p class=\"chat-typing\" ng-cloak> {{ typingUserName }} is typing......</p>\n\t</div>\n</ion-content>","js":""},{"_id":"99_f","_rev":"11-4e0827613fcadcd417c620c49218379c","table":"template","name":"User Chabot Footer","html":"<ion-footer-bar keyboard-attach class=\"bar-stable item-input-inset\">\n\t<form name=\"sendMessageForm\" class=\"sendmessage\" ng-submit=\"sendChatBotMessage(data.message)\" novalidate>\n\t\t<label class=\"item-input-wrapper chat_wrapper\">\n\t\t\t<input type=\"text\" placeholder=\"{{config.task_name}} message\" chatacter-count value=\"{{data.message}}\" maxlength=\"164\" ng-model=\"data.message\" ng-change=\"updateTyping();\" on-return=\"closeKeyboard()\" on-focus=\"inputUp()\" on-blur=\"inputDown()\" />\n\t\t\t<span class=\"textLimit\">164 char. left</span>\n\t\t</label>\n\t\t<div class=\"footer-btn-wrap FooterBtn\">\n\t\t\t<button type=\"submit\" class=\"button button-icon icon ion-ios-paperplane footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t\t<button type=\"button\" ng-click=\"goToSechduleScreen(null, 'future');\" class=\"button button-icon icon ion-ios-clock footer-btn\" ng-disabled=\"!data.message\"></button>\n\t\t</div>\n\t</form>\n</ion-footer-bar>","js":""},{"_id":"99_h","_rev":"90-3863ac660510e9bb94ccc3036b33e2dd","table":"template","name":"User Chatbot Header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t\t<i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{title}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t\t<i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n$scope.title = task_info.task_name;\n$scope.sort = \"asc\";\n$scope.sortKey = \"createdAt\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.data = {};\n$scope.config.from_page_id = 26;\n\nthis.getDetail = function () {\n\tvar detailData = myService.getDetail();\n\tconsole.log(\"from getDetail method >>>\", $scope.sortKey, $scope.sort);\n\t$scope.messages = utilityService.sortByKey(detailData, $scope.sortKey, $scope.sort);\n\t$timeout(function(){\n\t\t$ionicScrollDelegate.scrollBottom(true);\n\t}, 100);\n};\nthis.getDetail();\n\n$scope.toggleDate = function() {\n\tconsole.log(\"$scope.sort\", $scope.sort);\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n\tif($scope.sort == \"asc\"){\n\t\t$timeout(function(){\n\t\t\t$ionicScrollDelegate.scrollBottom(true);\n\t\t}, 100);\t\n\t}else{\n\t\t$timeout(function(){\n\t\t\t$ionicScrollDelegate.scrollTop();\n\t\t}, 100);\t\n\t}\n};\n\n$scope.goToSechduleScreen = function (item, type) {\n\tvar page_id = 29,\n\t\tlocal_data = myService.getUserInfo();\n\n\tif (type == \"present\") {\n\t\t$scope.sechduleData = {\n\t\t\t\"firstname\": local_data.firstname,\n\t\t\t\"lastname\": local_data.lastname,\n\t\t\t\"phone\": local_data.phone,\n\t\t\t\"detail_id\": item.detail_id,\n\t\t\t\"message\": item.message,\n\t\t\t\"sechduleDate\": new Date(item.date_created)\n\t\t};\n\t} else {\n\t\t$scope.sechduleData = {\n\t\t\t\"firstname\": local_data.firstname,\n\t\t\t\"lastname\": local_data.lastname,\n\t\t\t\"phone\": local_data.phone,\n\t\t\t\"task_name\": task_info.task_name,\n\t\t\t\"task_id\": task_info.task_id,\n\t\t\t\"message\": $scope.data.message,\n\t\t\t\"sechduleDate\": new Date(),\n\t\t\t\"page_id\": $scope.config.page_id\n\t\t};\n\t}\n\t$scope.goPage(page_id);\n};\n"},{"_id":"9c96192922ad00f4ba81f45415a028c8","_rev":"5-6c4bdd56ddde0728dd1428d537e3f301","table":"template","name":"message_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n\t<button class=\"button button-icon\" ng-click=\"toggleDate()\">\n\t <i ng:class=\"(sort=='desc')?'icon ion-arrow-up-c':'icon ion-arrow-down-c'\"></i>\n\t</button>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo(); $scope.sort.order = \"asc\";\n$scope.sort.key = \"date_created\";\n$scope.messages = [];\n$scope.hideTime = false;\n$scope.typingStateStr = \". . .\";\n$scope.myMsgTypeStr = \"mine\";\n$scope.task_name = task_info.task_name;\n$scope.page_name = task_info.task_name;\n$scope.from_page_id = $scope.config.from_page_id;\n$scope.config.task_id = task_info.task_id;\nthis.getDetail = function() {\n\tvar detailData = myService.getDetail();\n\tconsole.log(\"detailData>>>\", detailData);\n\tvar myDetail = [];\n\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\tvar item = detailData[ind];\n\t\tvar msg_type = \"\";\n\t\tvar message = \"\";\n\t\tif(typeof item.user_id == $localStorage.user_id){\n\t\t\tmsg_type = \"mine\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\telse {\n\t\t\tmsg_type = \"other\";\n\t\t\tmessage = item.user_incoming.message;\n\t\t}\n\t\tif(typeof message !=\"undefined\"){\n\t\t\tvar temp = {\n\t\t\t\t\"detail_id\":\titem._id,\n\t\t\t\t\"type\":\t\t\tmsg_type,\n\t\t\t\t\"message\":\t\tmessage,\n\t\t\t\t\"date_created\":\titem.date_created\n\t\t\t};\n\t\t\tmyDetail.push(temp);\n\t\t}\n\t}\n\t$scope.messages = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n};\nthis.getDetail();\n$scope.toggleDate = function() {\n\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t$scope.messages = utilityService.sortByKey($scope.messages, $scope.sortKey, $scope.sort);\n};"},{"_id":"9c96192922ad00f4ba81f45415b4bb7d","_rev":"24-7c3b3f666488527a06b684885b5c466a","table":"template","name":"sub_category_header","html":"<ion-header-bar class=\"bar-stable\">\n\t<button class=\"button button-icon\" ng-click=\"goPage(config.from_page_id)\">\n\t <i class=\"icon ion-ios-arrow-back\">Back</i>\n\t</button>\n\t<h1 class=\"title\">{{page_name}}</h1>\n</ion-header-bar>","js":"var task_info = myService.getTaskInfo();\n\t$scope.sort.order = \"asc\";\n\t$scope.sort.key = \"name\";\n\t$scope.task_name = task_info.task_name;\n\t$scope.page_name = task_info.task_name;\n\tif($scope.config.page_id == $scope.config.from_page_id) $scope.config.from_page_id = task_info.from_page_id;\n\tconsole.log(\">>>>>>>>>>>>>> page_id\", $scope.config.page_id, $scope.config.from_page_id);\n\tthis.getDetail = function() {\n\t\tvar detailData = myService.getDetail();\n\t\tvar myDetail = [];\n\t\tfor (var ind = 0; ind<detailData.length; ind++) {\n\t\t\tvar item = detailData[ind];\n\t\t\tvar temp = {\n\t\t\t\t\"detail_id\":\titem._id,\n\t\t\t\t\"name\":\t\t\titem.user_incoming.message,\n\t\t\t\t\"page_id\":\t\titem.to_page_id,\n\t\t\t\t\"type\": \t\titem.type,\n\t\t\t\t\"display_if_empty\": item.display_if_empty,\n\t\t\t\t\"task_id\": \t\titem.task_id,\n\t\t\t\t\"task_name\": \titem.task_name,\n\t\t\t\t\"active\" : \t\titem.count.active,\n\t\t\t\t\"unread\" : \t\titem.count.unread\n\t\t\t};\n\t\t\tmyDetail.push(temp);\n\t\t}\n\t\t$scope.details = utilityService.sortByKey(myDetail, $scope.sortKey, $scope.sort);\n\t};\n\tthis.getDetail();\n\t$scope.toggleDate = function() {\n\t\t$scope.sort = ($scope.sort == \"asc\")?\"desc\":\"asc\";\n\t\t$scope.details = utilityService.sortByKey($scope.details, $scope.sortKey, $scope.sort);\n\t};\n\t$scope.subDetails = function(item){\n\t\t$scope.config.from_page_id = $scope.config.page_id;\n\t\t$scope.config.page_name = item.name;\n\t\t$scope.config.task_name = item.name;\n\t\t$scope.goPage(item.page_id);\n\t};\n\t$scope.editDetails = function(item){\n\t\tconsole.log(\"items >>>\", item);\n\t\t$scope.config.from_page_id = item.page_id;\n\t\t$scope.config.task_name = item.name;\n\t\t\n\t\t$scope.short_info = {\n\t\t\t\"detail_id\"\t\t\t: \titem.detail_id,\n\t\t\t\"message\"\t\t\t:\titem.name,\n\t\t\t\"page_id\"\t\t\t:\titem.page_id,\n\t\t\t\"task_name\"\t\t\t: \titem.name,\n\t\t\t\"display_if_empty\"\t:\titem.display_if_empty,\n\t\t\t\"type\"\t\t\t\t: \titem.type\n\t\t};\n\t\tconsole.log(\"$scope.short_info\", $scope.short_info);\n\t\tvar page_id = 15;\n\t\t$scope.goPage(page_id);\n\t};"},{"_id":"a0cd5c8339613c35372bbc0a791654bd","_rev":"1-181a1dcd997187e58c3faec32548cbd2","table":"template","name":"edit_user_detail","html":"<ion-content class='content-stable'><form name='updateTaskForm' class='updateTaskForm' ng-submit='update_task_info(task_data)' novalidate></form></ion-content>","js":""},{"_id":"b5ec1e1cf211c1ccbc42aadce96e5c6e","_rev":"1-98d89f113f443f6ad2de1fa1f7313d17","table":"template","name":"edit_detail_short_form_footer","html":"","js":""},{"_id":"c2e8570a6c02b71e20739061d74b0f1f","_rev":"1-351ab1ded79bf907636055fae523ef01","table":"template","name":"category_header","html":"<ion-header-bar class=\\\"bar-stable\\\"><button class=\\\"button button-icon\\\" ng-click=\\\"logout()\\\"> <i class=\\\"icon ion-log-out\\\"></i></button><h1 class=\\\"title\\\">Menu</h1></ion-header-bar>","js":"$scope.logout = function() {\\n\\r//$localStorage.$reset();\\n\\r$localStorage.access_token = null;\\n\\r$scope.goPage(1);\\n\\r};\\r\\n\\t $scope.add_detail_from_category = function(){\\r\\n\\t var endpoint = \\\"https://platform.mybluemix.net/add_detail\\\";\\r\\n\\t var postdata = {\\r\\n\\t\\t \\\"access_token\\\": \\\"1489486409169.1pjwj8zy69v\\\", \\r\\n\\t\\t \\\"task_name\\\":\\\"task_w_create_task\\\",\\r\\n\\t\\t \\\"note\\\": $scope.data.message,\\r\\n\\t\\t \\\"page_id\\\": 2,\\r\\n\\t\\t \\\"from_page_id\\\": \\\"\\\" \\r\\n\\t\\t}; \\r\\n\\t var headers = {\\\"Content-Type\\\": \\\"application/json\\\"};\\r\\n\\t var config = {\\\"headers\\\":headers}; \\r\\n\\t $http.post(endpoint, postdata, config).then(function(res) { \\r\\n\\t var res_data = res.data; \\r\\n\\t console.log(\\\"res_data>>>\\\",res_data);\\r\\n\\t },function(err) {\\r\\n\\t console.log(\\\"err>>>\\\",err);\\r\\n\\t }); \\r\\n\\t delete $scope.data.message; \\r\\n\\t};"},{"_id":"dd37329ed5f9546618eaa2f4e0495cc4","_rev":"1-3cc83fd530910d0ca19780c157a8de20","table":"template","name":"edit_user_footer","html":"","js":""},{"_id":"e835b9f969469024d7b820feea29c131","_rev":"5-366e80d9cf6a5fb26367b30ac7c86093","table":"template","name":"sub_category_detail","html":"<ion-content class=\"has-header\">\n\t<ion-refresher on-refresh=\"pull_down_refresh();\"></ion-refresher>\n\t<ion-list style=\"\">\n\t\t<ion-item ng-repeat=\"item in details\" type=\"item-text-wrap\"\n\t\t\tclass=\"item-remove-animate item-icon-right\">\n\t\t <div class=\"item-data\" ng-click=\"subDetails(item)\">\n\t\t\t <h2>{{item.name}}</h2>\n\t\t\t <i class=\"icon ion-chevron-right icon-accessory\">\n\t\t\t\t<span class=\"badge badge-assertive icon-badge\">{{item.active}} / {{item.unread}}</span>\n\t\t\t </i>\n\t\t </div>\n\t\t <item-swipe-pane class=\"left-pane\">\n\t\t\t<button class=\"button button-calm\" ng-click=\"editDetails(item)\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-edit\"></ion-icon>\n\t\t\t\t\t<label>Edit</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-assertive\"\n\t\t\t\t\tng-click=\"params = {\n\t\t\t\t\t\tapp: {\n\t\t\t\t\t\t\tapi: {\n\t\t\t\t\t\t\t\tapi_type:\t'delete_detail',\n\t\t\t\t\t\t\t\ttable:\t\t'delete_detail',\n\t\t\t\t\t\t\t\ttable_data:\t{\n\t\t\t\t\t\t\t\t\tid:\titem.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplatform: {},\n\t\t\t\t\t\tother_user: {}\n\t\t\t\t\t};\n\t\t\t\t\tcommon_request_handler(params);\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-trash-a\"></ion-icon>\n\t\t\t\t\t<label>Delete</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button class=\"button button-balanced\" ng-click=\"moreDetails(item)\" ng-show=\"isAdmin\">\n\t\t\t\t<div class=\"two-line-btn\">\n\t\t\t\t\t<ion-icon class=\"ion-more\"></ion-icon>\n\t\t\t\t\t<label>More</label>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t </item-swipe-pane>\n\t\t</ion-item>\n\t</ion-list>\n</ion-content>","js":""},{"_id":"ef451c4cdb5cc5fbcd5d14d936cdf844","_rev":"1-28f0a4a617f7a1cbfb0ea58c64371a39","table":"template","name":"edit_header","html":"<ion-header-bar class='bar-stable'><button class='button button-icon' ng-click='logout()'><i class='icon ion-log-out'></i></button><h1 class='title'>{{title}}</h1></ion-header-bar>","js":"$scope.title='Edit screen'"},{"_id":"f8d1aba6756cf7fd5bda0f56585d8c91","_rev":"1-dbdaeb225f140dbe919b6dc17811e90e","table":"template","name":"edit_detail_short_form_detail","html":"<ion-content class='content-stable'> <form name='updateTaskForm' class='updateTaskForm' ng-submit='update_detail_short_info(task_info)' novalidate> <div class='list'> <label class='item item-input item-stacked-label'> <span class='input-label'>Message</span> <input type='text' placeholder='First name' ng-model='task_info.message' /> </label> <label class='item item-input item-stacked-label'> <span class='input-label'>Task name</span> <input type='text' placeholder='Task name' ng-model='task_info.task_name' /> </label> <label class='item item-input item-stacked-label'> <span class='input-label'>Task status</span> <input type='text' placeholder='Email' ng-model='task_info.staus' /> </label> </div> <div class='padding'> <button class='button button-block button-positive' type='submit'>Update</button> </div> </form> </ion-content>","js":""}]